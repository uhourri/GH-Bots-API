[
    {
        "id": "32896371468",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 47750602,
            "login": "usernamedt",
            "display_login": "usernamedt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/usernamedt",
            "avatar_url": "https://avatars.githubusercontent.com/u/47750602?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374401963",
                "pull_request_review_id": 1701502881,
                "id": 1374401963,
                "node_id": "PRRC_kwDOBavIOM5R67Wr",
                "diff_hunk": "@@ -21,169 +23,281 @@ type statusCache struct {\n \tstoragesInOrder []NamedFolder\n \tttl             time.Duration\n \tchecker         AliveChecker\n+\n+\t// sharedMem keeps the intra-process cache that's shared between different threads and subsequent storages requests.\n+\tsharedMem   *storageStatuses\n+\tsharedMemMu *sync.Mutex\n+\n+\t// sharedFile keeps the inter-process cache that's shared between different command executions.\n+\tsharedFile    string\n+\tsharedFileUse bool\n+}\n+\n+type StatusCacheOpt func(c *statusCache)\n+\n+func WithSharedMemory(mem *storageStatuses, memMu *sync.Mutex) StatusCacheOpt {\n+\treturn func(c *statusCache) {\n+\t\tc.sharedMem = mem\n+\t\tc.sharedMemMu = memMu\n+\t}\n+}\n+\n+func WithSharedFile(file string) StatusCacheOpt {\n+\treturn func(c *statusCache) {\n+\t\tc.sharedFile = file\n+\t\tc.sharedFileUse = true\n+\t}\n+}\n+\n+func WithoutSharedFile() StatusCacheOpt {\n+\treturn func(c *statusCache) {\n+\t\tc.sharedFileUse = false\n+\t}\n }\n \n func NewStatusCache(\n \tprimary storage.Folder,\n \tfailover map[string]storage.Folder,\n \tttl time.Duration,\n \tchecker AliveChecker,\n+\topts ...StatusCacheOpt,\n ) (StatusCache, error) {\n \tstoragesInOrder, err := NameAndOrderFolders(primary, failover)\n \tif err != nil {\n \t\treturn &statusCache{}, err\n \t}\n \n-\treturn &statusCache{\n+\thomeFileUse := true\n+\thomeFile, err := HomeStatusFile()\n+\tif err != nil {\n+\t\ttracelog.WarningLogger.Printf(\"Can't use storage status cache file from $HOME: %v\", err)\n+\t\thomeFileUse = false\n+\t}\n+\n+\tc := &statusCache{\n \t\tstoragesInOrder: storagesInOrder,\n \t\tttl:             ttl,\n \t\tchecker:         checker,\n-\t}, nil\n+\n+\t\tsharedMem:     &globalMemCache,\n+\t\tsharedMemMu:   globalMemCacheMu,\n+\t\tsharedFile:    homeFile,\n+\t\tsharedFileUse: homeFileUse,\n+\t}\n+\n+\tfor _, o := range opts {\n+\t\to(c)\n+\t}\n+\n+\treturn c, nil\n }\n \n-func (c *statusCache) AllAliveStorages() ([]NamedFolder, error) {\n-\tmemCacheMu.Lock()\n-\tdefer memCacheMu.Unlock()\n+func (c *statusCache) AllAliveStorages() (allAlive []NamedFolder, err error) {\n+\tc.sharedMemMu.Lock()\n+\tdefer c.sharedMemMu.Unlock()\n \n-\tif memCache.isRelevant(c.ttl, c.storagesInOrder...) {\n-\t\treturn memCache.getAllAlive(c.storagesInOrder), nil\n+\tif c.sharedMem.isRelevant(c.ttl, c.storagesInOrder...) {\n+\t\tallAlive = c.sharedMem.getAllAlive(c.storagesInOrder)\n+\t\tif len(allAlive) > 0 {\n+\t\t\treturn allAlive, nil\n+\t\t}\n \t}\n \n-\toldFile, err := readFile()\n-\tif err != nil {\n-\t\ttracelog.WarningLogger.Printf(\"Failed to read cache file, it will be overwritten: %v\", err)\n+\tvar oldFile storageStatuses\n+\tif c.sharedFileUse {\n+\t\toldFile, err = readFile(c.sharedFile)\n+\t\tif err != nil {\n+\t\t\ttracelog.WarningLogger.Printf(\"Failed to read cache file, it will be overwritten: %v\", err)\n+\t\t}\n \t}\n-\t_, outdated := oldFile.splitByRelevance(c.ttl, c.storagesInOrder)\n+\trelevant, outdated := oldFile.splitByRelevance(c.ttl, c.storagesInOrder)\n \tif len(outdated) == 0 {\n-\t\tmemCache = oldFile\n-\t\tallAlive := memCache.getAllAlive(c.storagesInOrder)\n-\t\ttracelog.InfoLogger.Printf(\"Take all alive storages from file cache: %v\", storageNames(allAlive))\n-\t\treturn allAlive, nil\n+\t\tc.sharedMem = &oldFile\n+\t\tallAlive = c.sharedMem.getAllAlive(c.storagesInOrder)\n+\t\tif len(allAlive) > 0 {\n+\t\t\ttracelog.InfoLogger.Printf(\"Take all alive storages from file cache: %v\", storageNames(allAlive))\n+\t\t\treturn allAlive, nil\n+\t\t}\n \t}\n \n-\ttracelog.InfoLogger.Printf(\"Storage status cache is outdated, checking for alive again: %v\", storageNames(outdated))\n+\tnewFile := oldFile\n+\tif len(outdated) > 0 {\n+\t\ttracelog.InfoLogger.Printf(\n+\t\t\t\"Storage status cache is outdated, checking for alive again: %v\",\n+\t\t\tstorageNames(outdated),\n+\t\t)\n+\t\tcheckResult := c.checker.checkForAlive(outdated...)\n+\t\tnewFile = updateFileContent(oldFile, checkResult)\n+\t\tallAlive = newFile.getAllAlive(c.storagesInOrder)\n+\t}\n \n-\tcheckResult := c.checker.checkForAlive(outdated...)\n+\tdefer func() {\n+\t\tif c.sharedFileUse {\n+\t\t\terr := writeFile(c.sharedFile, newFile)\n+\t\t\tif err != nil {\n+\t\t\t\ttracelog.WarningLogger.Printf(\n+\t\t\t\t\t\"Failed to write cache file, each subsequent command will check the storages again: %v\",\n+\t\t\t\t\terr,\n+\t\t\t\t)\n+\t\t\t}\n+\t\t}\n+\t\tc.sharedMem = &newFile\n+\t\ttracelog.InfoLogger.Printf(\"Found alive storages: %v\", storageNames(allAlive))\n+\t}()\n \n-\tnewFile := updateFileContent(oldFile, checkResult)\n-\terr = writeFile(newFile)\n-\tif err != nil {\n-\t\ttracelog.WarningLogger.Printf(\"Failed to write cache file, each subsequent command will check the storages again: %v\", err)\n+\tif len(allAlive) > 0 {\n+\t\treturn allAlive, nil\n+\t}\n+\n+\tif len(relevant) > 0 {\n+\t\ttracelog.InfoLogger.Printf(\n+\t\t\t\"All storages are dead in cache, rechecking relevant ones: %v\",\n+\t\t\tstorageNames(relevant),\n+\t\t)\n+\t\tcheckResult := c.checker.checkForAlive(relevant...)\n+\t\tnewFile = updateFileContent(newFile, checkResult)\n+\t\tallAlive = newFile.getAllAlive(c.storagesInOrder)\n \t}\n \n-\tmemCache = newFile\n-\tallAlive := memCache.getAllAlive(c.storagesInOrder)\n-\ttracelog.InfoLogger.Printf(\"Found alive storages: %v\", storageNames(allAlive))\n \treturn allAlive, nil\n }\n \n-func (c *statusCache) FirstAliveStorage() (*NamedFolder, error) {\n-\tmemCacheMu.Lock()\n-\tdefer memCacheMu.Unlock()\n+func (c *statusCache) FirstAliveStorage() (firstAlive *NamedFolder, err error) {\n+\tc.sharedMemMu.Lock()\n+\tdefer c.sharedMemMu.Unlock()\n \n-\tmemFirstAlive, allRelevant := memCache.getRelevantFirstAlive(c.ttl, c.storagesInOrder)\n+\tmemFirstAlive, allRelevant := c.sharedMem.getRelevantFirstAlive(c.ttl, c.storagesInOrder)\n \tif memFirstAlive != nil {\n \t\treturn memFirstAlive, nil\n \t}\n \tif allRelevant {\n-\t\ttracelog.InfoLogger.Print(\"There is no alive storages in memory cache\")\n-\t\treturn nil, nil\n+\t\ttracelog.InfoLogger.Print(\"There are no alive storages in memory cache\")\n \t}\n \n-\toldFile, err := readFile()\n-\tif err != nil {\n-\t\ttracelog.WarningLogger.Printf(\"Failed to read cache file, it will be overwritten: %v\", err)\n+\tvar oldFile storageStatuses\n+\tif c.sharedFileUse {\n+\t\toldFile, err = readFile(c.sharedFile)\n+\t\tif err != nil {\n+\t\t\ttracelog.WarningLogger.Printf(\"Failed to read cache file, it will be overwritten: %v\", err)\n+\t\t}\n \t}\n \tfileFirstAlive, allRelevant := oldFile.getRelevantFirstAlive(c.ttl, c.storagesInOrder)\n \tif fileFirstAlive != nil {\n \t\ttracelog.InfoLogger.Printf(\"Take first alive storage from file cache: %s\", fileFirstAlive.Name)\n-\t\tmemCache[fileFirstAlive.Key] = oldFile[fileFirstAlive.Key]\n+\t\t(*c.sharedMem)[fileFirstAlive.Key] = oldFile[fileFirstAlive.Key]\n \t\treturn fileFirstAlive, nil\n \t}\n \tif allRelevant {\n-\t\ttracelog.InfoLogger.Print(\"There is no alive storages in file cache\")\n-\t\treturn nil, nil\n+\t\ttracelog.InfoLogger.Print(\"There are no alive storages in file cache\")\n \t}\n \n-\t_, outdated := oldFile.splitByRelevance(c.ttl, c.storagesInOrder)\n+\trelevant, outdated := oldFile.splitByRelevance(c.ttl, c.storagesInOrder)\n \n-\ttracelog.InfoLogger.Printf(\"Storage status cache is outdated, checking for alive again: %v\", storageNames(outdated))\n+\tnewFile := oldFile\n+\tif len(outdated) > 0 {\n+\t\ttracelog.InfoLogger.Printf(\"Storage status cache is outdated, checking for alive again: %v\", storageNames(outdated))\n+\t\tcheckResult := c.checker.checkForAlive(outdated...)\n+\t\tnewFile = updateFileContent(newFile, checkResult)\n+\t\tfirstAlive, _ = newFile.getRelevantFirstAlive(time.Duration(math.MaxInt64), c.storagesInOrder)\n+\t}\n \n-\tcheckResult := c.checker.checkForAlive(outdated...)\n+\tdefer func() {\n+\t\tif c.sharedFileUse {\n+\t\t\terr := writeFile(c.sharedFile, newFile)\n+\t\t\tif err != nil {\n+\t\t\t\ttracelog.WarningLogger.Printf(\n+\t\t\t\t\t\"Failed to write cache file, each subsequent command will check the storages again: %v\",\n+\t\t\t\t\terr,\n+\t\t\t\t)\n+\t\t\t}\n+\t\t}",
                "path": "internal/multistorage/cache/status_cache.go",
                "commit_id": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                "original_commit_id": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                "user": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "let's wrap this logic into some separate func, it will be easier to read and remove the code duplication",
                "created_at": "2023-10-27T10:54:35Z",
                "updated_at": "2023-10-27T10:57:46Z",
                "html_url": "https://github.com/wal-g/wal-g/pull/1582#discussion_r1374401963",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374401963"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1582#discussion_r1374401963"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374401963/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": 205,
                "original_start_line": 205,
                "start_side": "RIGHT",
                "line": 213,
                "original_line": 213,
                "side": "RIGHT",
                "original_position": 240,
                "position": 240,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582",
                "id": 1567129954,
                "node_id": "PR_kwDOBavIOM5daIFi",
                "html_url": "https://github.com/wal-g/wal-g/pull/1582",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1582.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1582.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1582",
                "number": 1582,
                "state": "open",
                "locked": false,
                "title": "Recheck storages and don't wait cache to expire if they all are dead",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "In several previous PRs I introduced the failover storages feature, which allows to use multiple storages with different priorities so if the first storage is dead, the second can be used.\r\n\r\nIn that code, repetative checks and caching is used: if the requested storage status is outdated in the cache, a special requests would be performed to check if the storage is alive.\r\n\r\nHowever, there was a problem: if all configured storages are dead, all these negative statuses are cached. And nothing works until the cache gets expired. The cache TTL is configurable, but the default value is 15min, and it may take less time for some storage to become alive.\r\n\r\nIn this PR I changed the logic a little. Any time the requested storages are dead, they are checked again. So caching is actually used only if there're some alive storages.\r\n\r\nI also rewrote tests for `multistorage.cache.StatusCache` because the previous version was hard to read and append.",
                "created_at": "2023-10-20T17:48:20Z",
                "updated_at": "2023-10-27T10:57:46Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "877a5c09098686decd6a59b6cca40ade75931403",
                "assignee": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "usernamedt",
                        "id": 47750602,
                        "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/usernamedt",
                        "html_url": "https://github.com/usernamedt",
                        "followers_url": "https://api.github.com/users/usernamedt/followers",
                        "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                        "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                        "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                        "repos_url": "https://api.github.com/users/usernamedt/repos",
                        "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1582/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/e6b9b7172959807f43e820d71b308f061fc64fd2",
                "head": {
                    "label": "rdjjke:recheck-storages-if-all-dead/0",
                    "ref": "recheck-storages-if-all-dead/0",
                    "sha": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89932,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-27T06:09:08Z",
                        "pushed_at": "2023-10-26T21:09:22Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101563,
                        "stargazers_count": 2736,
                        "watchers_count": 2736,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 258,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 258,
                        "watchers": 2736,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1582"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1582"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1582/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/e6b9b7172959807f43e820d71b308f061fc64fd2"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:54:35Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32896371418",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 47750602,
            "login": "usernamedt",
            "display_login": "usernamedt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/usernamedt",
            "avatar_url": "https://avatars.githubusercontent.com/u/47750602?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374397051",
                "pull_request_review_id": 1701502881,
                "id": 1374397051,
                "node_id": "PRRC_kwDOBavIOM5R66J7",
                "diff_hunk": "@@ -21,169 +23,281 @@ type statusCache struct {\n \tstoragesInOrder []NamedFolder\n \tttl             time.Duration\n \tchecker         AliveChecker\n+\n+\t// sharedMem keeps the intra-process cache that's shared between different threads and subsequent storages requests.\n+\tsharedMem   *storageStatuses\n+\tsharedMemMu *sync.Mutex\n+\n+\t// sharedFile keeps the inter-process cache that's shared between different command executions.\n+\tsharedFile    string",
                "path": "internal/multistorage/cache/status_cache.go",
                "commit_id": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                "original_commit_id": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                "user": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "cacheFilePath?",
                "created_at": "2023-10-27T10:50:29Z",
                "updated_at": "2023-10-27T10:57:46Z",
                "html_url": "https://github.com/wal-g/wal-g/pull/1582#discussion_r1374397051",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374397051"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1582#discussion_r1374397051"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374397051/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 32,
                "original_line": 32,
                "side": "RIGHT",
                "original_position": 20,
                "position": 20,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582",
                "id": 1567129954,
                "node_id": "PR_kwDOBavIOM5daIFi",
                "html_url": "https://github.com/wal-g/wal-g/pull/1582",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1582.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1582.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1582",
                "number": 1582,
                "state": "open",
                "locked": false,
                "title": "Recheck storages and don't wait cache to expire if they all are dead",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "In several previous PRs I introduced the failover storages feature, which allows to use multiple storages with different priorities so if the first storage is dead, the second can be used.\r\n\r\nIn that code, repetative checks and caching is used: if the requested storage status is outdated in the cache, a special requests would be performed to check if the storage is alive.\r\n\r\nHowever, there was a problem: if all configured storages are dead, all these negative statuses are cached. And nothing works until the cache gets expired. The cache TTL is configurable, but the default value is 15min, and it may take less time for some storage to become alive.\r\n\r\nIn this PR I changed the logic a little. Any time the requested storages are dead, they are checked again. So caching is actually used only if there're some alive storages.\r\n\r\nI also rewrote tests for `multistorage.cache.StatusCache` because the previous version was hard to read and append.",
                "created_at": "2023-10-20T17:48:20Z",
                "updated_at": "2023-10-27T10:57:46Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "877a5c09098686decd6a59b6cca40ade75931403",
                "assignee": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "usernamedt",
                        "id": 47750602,
                        "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/usernamedt",
                        "html_url": "https://github.com/usernamedt",
                        "followers_url": "https://api.github.com/users/usernamedt/followers",
                        "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                        "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                        "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                        "repos_url": "https://api.github.com/users/usernamedt/repos",
                        "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1582/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/e6b9b7172959807f43e820d71b308f061fc64fd2",
                "head": {
                    "label": "rdjjke:recheck-storages-if-all-dead/0",
                    "ref": "recheck-storages-if-all-dead/0",
                    "sha": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89932,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-27T06:09:08Z",
                        "pushed_at": "2023-10-26T21:09:22Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101563,
                        "stargazers_count": 2736,
                        "watchers_count": 2736,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 258,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 258,
                        "watchers": 2736,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1582"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1582"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1582/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/e6b9b7172959807f43e820d71b308f061fc64fd2"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:50:29Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32896371431",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 47750602,
            "login": "usernamedt",
            "display_login": "usernamedt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/usernamedt",
            "avatar_url": "https://avatars.githubusercontent.com/u/47750602?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374404383",
                "pull_request_review_id": 1701502881,
                "id": 1374404383,
                "node_id": "PRRC_kwDOBavIOM5R678f",
                "diff_hunk": "@@ -21,169 +23,281 @@ type statusCache struct {\n \tstoragesInOrder []NamedFolder\n \tttl             time.Duration\n \tchecker         AliveChecker\n+\n+\t// sharedMem keeps the intra-process cache that's shared between different threads and subsequent storages requests.\n+\tsharedMem   *storageStatuses\n+\tsharedMemMu *sync.Mutex\n+\n+\t// sharedFile keeps the inter-process cache that's shared between different command executions.\n+\tsharedFile    string\n+\tsharedFileUse bool\n+}\n+\n+type StatusCacheOpt func(c *statusCache)\n+\n+func WithSharedMemory(mem *storageStatuses, memMu *sync.Mutex) StatusCacheOpt {\n+\treturn func(c *statusCache) {\n+\t\tc.sharedMem = mem\n+\t\tc.sharedMemMu = memMu\n+\t}\n+}\n+\n+func WithSharedFile(file string) StatusCacheOpt {\n+\treturn func(c *statusCache) {\n+\t\tc.sharedFile = file\n+\t\tc.sharedFileUse = true\n+\t}\n+}\n+\n+func WithoutSharedFile() StatusCacheOpt {\n+\treturn func(c *statusCache) {\n+\t\tc.sharedFileUse = false\n+\t}\n }\n \n func NewStatusCache(\n \tprimary storage.Folder,\n \tfailover map[string]storage.Folder,\n \tttl time.Duration,\n \tchecker AliveChecker,\n+\topts ...StatusCacheOpt,\n ) (StatusCache, error) {\n \tstoragesInOrder, err := NameAndOrderFolders(primary, failover)\n \tif err != nil {\n \t\treturn &statusCache{}, err\n \t}\n \n-\treturn &statusCache{\n+\thomeFileUse := true\n+\thomeFile, err := HomeStatusFile()\n+\tif err != nil {\n+\t\ttracelog.WarningLogger.Printf(\"Can't use storage status cache file from $HOME: %v\", err)\n+\t\thomeFileUse = false\n+\t}\n+\n+\tc := &statusCache{\n \t\tstoragesInOrder: storagesInOrder,\n \t\tttl:             ttl,\n \t\tchecker:         checker,\n-\t}, nil\n+\n+\t\tsharedMem:     &globalMemCache,\n+\t\tsharedMemMu:   globalMemCacheMu,\n+\t\tsharedFile:    homeFile,\n+\t\tsharedFileUse: homeFileUse,\n+\t}\n+\n+\tfor _, o := range opts {\n+\t\to(c)\n+\t}\n+\n+\treturn c, nil\n }\n \n-func (c *statusCache) AllAliveStorages() ([]NamedFolder, error) {\n-\tmemCacheMu.Lock()\n-\tdefer memCacheMu.Unlock()\n+func (c *statusCache) AllAliveStorages() (allAlive []NamedFolder, err error) {\n+\tc.sharedMemMu.Lock()\n+\tdefer c.sharedMemMu.Unlock()\n \n-\tif memCache.isRelevant(c.ttl, c.storagesInOrder...) {\n-\t\treturn memCache.getAllAlive(c.storagesInOrder), nil\n+\tif c.sharedMem.isRelevant(c.ttl, c.storagesInOrder...) {\n+\t\tallAlive = c.sharedMem.getAllAlive(c.storagesInOrder)\n+\t\tif len(allAlive) > 0 {\n+\t\t\treturn allAlive, nil\n+\t\t}\n \t}\n \n-\toldFile, err := readFile()\n-\tif err != nil {\n-\t\ttracelog.WarningLogger.Printf(\"Failed to read cache file, it will be overwritten: %v\", err)\n+\tvar oldFile storageStatuses\n+\tif c.sharedFileUse {\n+\t\toldFile, err = readFile(c.sharedFile)\n+\t\tif err != nil {\n+\t\t\ttracelog.WarningLogger.Printf(\"Failed to read cache file, it will be overwritten: %v\", err)\n+\t\t}\n \t}\n-\t_, outdated := oldFile.splitByRelevance(c.ttl, c.storagesInOrder)\n+\trelevant, outdated := oldFile.splitByRelevance(c.ttl, c.storagesInOrder)",
                "path": "internal/multistorage/cache/status_cache.go",
                "commit_id": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                "original_commit_id": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                "user": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Will it result in nil dereference exception here if there is no shared file?",
                "created_at": "2023-10-27T10:56:52Z",
                "updated_at": "2023-10-27T10:57:46Z",
                "html_url": "https://github.com/wal-g/wal-g/pull/1582#discussion_r1374404383",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374404383"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1582#discussion_r1374404383"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374404383/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 113,
                "original_line": 113,
                "side": "RIGHT",
                "original_position": 112,
                "position": 112,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582",
                "id": 1567129954,
                "node_id": "PR_kwDOBavIOM5daIFi",
                "html_url": "https://github.com/wal-g/wal-g/pull/1582",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1582.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1582.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1582",
                "number": 1582,
                "state": "open",
                "locked": false,
                "title": "Recheck storages and don't wait cache to expire if they all are dead",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "In several previous PRs I introduced the failover storages feature, which allows to use multiple storages with different priorities so if the first storage is dead, the second can be used.\r\n\r\nIn that code, repetative checks and caching is used: if the requested storage status is outdated in the cache, a special requests would be performed to check if the storage is alive.\r\n\r\nHowever, there was a problem: if all configured storages are dead, all these negative statuses are cached. And nothing works until the cache gets expired. The cache TTL is configurable, but the default value is 15min, and it may take less time for some storage to become alive.\r\n\r\nIn this PR I changed the logic a little. Any time the requested storages are dead, they are checked again. So caching is actually used only if there're some alive storages.\r\n\r\nI also rewrote tests for `multistorage.cache.StatusCache` because the previous version was hard to read and append.",
                "created_at": "2023-10-20T17:48:20Z",
                "updated_at": "2023-10-27T10:57:46Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "877a5c09098686decd6a59b6cca40ade75931403",
                "assignee": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "usernamedt",
                        "id": 47750602,
                        "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/usernamedt",
                        "html_url": "https://github.com/usernamedt",
                        "followers_url": "https://api.github.com/users/usernamedt/followers",
                        "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                        "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                        "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                        "repos_url": "https://api.github.com/users/usernamedt/repos",
                        "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1582/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/e6b9b7172959807f43e820d71b308f061fc64fd2",
                "head": {
                    "label": "rdjjke:recheck-storages-if-all-dead/0",
                    "ref": "recheck-storages-if-all-dead/0",
                    "sha": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89932,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-27T06:09:08Z",
                        "pushed_at": "2023-10-26T21:09:22Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101563,
                        "stargazers_count": 2736,
                        "watchers_count": 2736,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 258,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 258,
                        "watchers": 2736,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1582"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1582"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1582/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/e6b9b7172959807f43e820d71b308f061fc64fd2"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:56:52Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32896371387",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 47750602,
            "login": "usernamedt",
            "display_login": "usernamedt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/usernamedt",
            "avatar_url": "https://avatars.githubusercontent.com/u/47750602?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701502881,
                "node_id": "PRR_kwDOBavIOM5lat-h",
                "user": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                "submitted_at": "2023-10-27T10:57:46Z",
                "state": "changes_requested",
                "html_url": "https://github.com/wal-g/wal-g/pull/1582#pullrequestreview-1701502881",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1582#pullrequestreview-1701502881"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582",
                "id": 1567129954,
                "node_id": "PR_kwDOBavIOM5daIFi",
                "html_url": "https://github.com/wal-g/wal-g/pull/1582",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1582.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1582.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1582",
                "number": 1582,
                "state": "open",
                "locked": false,
                "title": "Recheck storages and don't wait cache to expire if they all are dead",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "In several previous PRs I introduced the failover storages feature, which allows to use multiple storages with different priorities so if the first storage is dead, the second can be used.\r\n\r\nIn that code, repetative checks and caching is used: if the requested storage status is outdated in the cache, a special requests would be performed to check if the storage is alive.\r\n\r\nHowever, there was a problem: if all configured storages are dead, all these negative statuses are cached. And nothing works until the cache gets expired. The cache TTL is configurable, but the default value is 15min, and it may take less time for some storage to become alive.\r\n\r\nIn this PR I changed the logic a little. Any time the requested storages are dead, they are checked again. So caching is actually used only if there're some alive storages.\r\n\r\nI also rewrote tests for `multistorage.cache.StatusCache` because the previous version was hard to read and append.",
                "created_at": "2023-10-20T17:48:20Z",
                "updated_at": "2023-10-27T10:57:46Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "877a5c09098686decd6a59b6cca40ade75931403",
                "assignee": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "usernamedt",
                        "id": 47750602,
                        "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/usernamedt",
                        "html_url": "https://github.com/usernamedt",
                        "followers_url": "https://api.github.com/users/usernamedt/followers",
                        "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                        "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                        "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                        "repos_url": "https://api.github.com/users/usernamedt/repos",
                        "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1582/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/e6b9b7172959807f43e820d71b308f061fc64fd2",
                "head": {
                    "label": "rdjjke:recheck-storages-if-all-dead/0",
                    "ref": "recheck-storages-if-all-dead/0",
                    "sha": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89932,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-27T06:09:08Z",
                        "pushed_at": "2023-10-26T21:09:22Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101563,
                        "stargazers_count": 2736,
                        "watchers_count": 2736,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 258,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 258,
                        "watchers": 2736,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1582"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1582"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1582/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/e6b9b7172959807f43e820d71b308f061fc64fd2"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:57:47Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32896371316",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 47750602,
            "login": "usernamedt",
            "display_login": "usernamedt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/usernamedt",
            "avatar_url": "https://avatars.githubusercontent.com/u/47750602?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701502881,
                "node_id": "PRR_kwDOBavIOM5lat-h",
                "user": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                "submitted_at": "2023-10-27T10:57:46Z",
                "state": "changes_requested",
                "html_url": "https://github.com/wal-g/wal-g/pull/1582#pullrequestreview-1701502881",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1582#pullrequestreview-1701502881"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582",
                "id": 1567129954,
                "node_id": "PR_kwDOBavIOM5daIFi",
                "html_url": "https://github.com/wal-g/wal-g/pull/1582",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1582.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1582.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1582",
                "number": 1582,
                "state": "open",
                "locked": false,
                "title": "Recheck storages and don't wait cache to expire if they all are dead",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "In several previous PRs I introduced the failover storages feature, which allows to use multiple storages with different priorities so if the first storage is dead, the second can be used.\r\n\r\nIn that code, repetative checks and caching is used: if the requested storage status is outdated in the cache, a special requests would be performed to check if the storage is alive.\r\n\r\nHowever, there was a problem: if all configured storages are dead, all these negative statuses are cached. And nothing works until the cache gets expired. The cache TTL is configurable, but the default value is 15min, and it may take less time for some storage to become alive.\r\n\r\nIn this PR I changed the logic a little. Any time the requested storages are dead, they are checked again. So caching is actually used only if there're some alive storages.\r\n\r\nI also rewrote tests for `multistorage.cache.StatusCache` because the previous version was hard to read and append.",
                "created_at": "2023-10-20T17:48:20Z",
                "updated_at": "2023-10-27T10:57:46Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "877a5c09098686decd6a59b6cca40ade75931403",
                "assignee": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "usernamedt",
                        "id": 47750602,
                        "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/usernamedt",
                        "html_url": "https://github.com/usernamedt",
                        "followers_url": "https://api.github.com/users/usernamedt/followers",
                        "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                        "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                        "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                        "repos_url": "https://api.github.com/users/usernamedt/repos",
                        "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1582/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/e6b9b7172959807f43e820d71b308f061fc64fd2",
                "head": {
                    "label": "rdjjke:recheck-storages-if-all-dead/0",
                    "ref": "recheck-storages-if-all-dead/0",
                    "sha": "e6b9b7172959807f43e820d71b308f061fc64fd2",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89932,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-27T06:09:08Z",
                        "pushed_at": "2023-10-26T21:09:22Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101563,
                        "stargazers_count": 2736,
                        "watchers_count": 2736,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 258,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 258,
                        "watchers": 2736,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1582"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1582"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1582/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1582/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/e6b9b7172959807f43e820d71b308f061fc64fd2"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:57:46Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32896154538",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 96542656,
            "login": "rdjjke",
            "display_login": "rdjjke",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rdjjke",
            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374395430",
                "pull_request_review_id": 1701500254,
                "id": 1374395430,
                "node_id": "PRRC_kwDOBavIOM5R65wm",
                "diff_hunk": "@@ -13,8 +14,12 @@ var daemonCmd = &cobra.Command{\n \tShort: DaemonShortDescription,\n \tArgs:  cobra.ExactArgs(1),\n \tRun: func(cmd *cobra.Command, args []string) {\n+\t\tstorageStatusCache, err := postgres.InitStatusCache(true)",
                "path": "cmd/pg/daemon.go",
                "commit_id": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                "original_commit_id": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "> Does it mean that if the connection is dead, daemon will be unable to detect it until restart?\r\n\r\nHm, yeah, you're right. So, unfortunately, it means we need to explicitly close it somehow.",
                "created_at": "2023-10-27T10:48:39Z",
                "updated_at": "2023-10-27T10:48:39Z",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586#discussion_r1374395430",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374395430"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586#discussion_r1374395430"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374395430/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 17,
                "original_line": 17,
                "side": "RIGHT",
                "in_reply_to_id": 1371958525,
                "original_position": 12,
                "position": 12,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "id": 1573170875,
                "node_id": "PR_kwDOBavIOM5dxK67",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1586.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1586.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586",
                "number": 1586,
                "state": "open",
                "locked": false,
                "title": "Reuse SSH connections opened once when daemon started",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "SSH folder implementation doesn't close opened connections. It leads to a problem when the WAL-G daemon is used, because it opens new connections on each command execution. \r\n\r\nIn this PR I change the behaviour of the daemon: now it opens new connections only once on start and reuses them in every command executions.\r\n\r\nThe connections still aren't excplicitly closed, but they're closed automatically when the process dies.",
                "created_at": "2023-10-25T15:16:56Z",
                "updated_at": "2023-10-27T10:48:39Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "fe0df8329a961234ac63eec51c2ae0efc72bbc80",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9",
                "head": {
                    "label": "rdjjke:close-ssh-conns/0",
                    "ref": "close-ssh-conns/0",
                    "sha": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89932,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-27T06:09:08Z",
                        "pushed_at": "2023-10-26T21:09:22Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101563,
                        "stargazers_count": 2736,
                        "watchers_count": 2736,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 258,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 258,
                        "watchers": 2736,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:48:39Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32896154445",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 96542656,
            "login": "rdjjke",
            "display_login": "rdjjke",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rdjjke",
            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701500254,
                "node_id": "PRR_kwDOBavIOM5latVe",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": null,
                "commit_id": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                "submitted_at": "2023-10-27T10:48:39Z",
                "state": "commented",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586#pullrequestreview-1701500254",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586#pullrequestreview-1701500254"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "id": 1573170875,
                "node_id": "PR_kwDOBavIOM5dxK67",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1586.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1586.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586",
                "number": 1586,
                "state": "open",
                "locked": false,
                "title": "Reuse SSH connections opened once when daemon started",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "SSH folder implementation doesn't close opened connections. It leads to a problem when the WAL-G daemon is used, because it opens new connections on each command execution. \r\n\r\nIn this PR I change the behaviour of the daemon: now it opens new connections only once on start and reuses them in every command executions.\r\n\r\nThe connections still aren't excplicitly closed, but they're closed automatically when the process dies.",
                "created_at": "2023-10-25T15:16:56Z",
                "updated_at": "2023-10-27T10:48:39Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "fe0df8329a961234ac63eec51c2ae0efc72bbc80",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9",
                "head": {
                    "label": "rdjjke:close-ssh-conns/0",
                    "ref": "close-ssh-conns/0",
                    "sha": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89932,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-27T06:09:08Z",
                        "pushed_at": "2023-10-26T21:09:22Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101563,
                        "stargazers_count": 2736,
                        "watchers_count": 2736,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 258,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 258,
                        "watchers": 2736,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:48:40Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32895940515",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 47750602,
            "login": "usernamedt",
            "display_login": "usernamedt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/usernamedt",
            "avatar_url": "https://avatars.githubusercontent.com/u/47750602?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374385674",
                "pull_request_review_id": 1701484947,
                "id": 1374385674,
                "node_id": "PRRC_kwDOBavIOM5R63YK",
                "diff_hunk": "@@ -13,8 +14,12 @@ var daemonCmd = &cobra.Command{\n \tShort: DaemonShortDescription,\n \tArgs:  cobra.ExactArgs(1),\n \tRun: func(cmd *cobra.Command, args []string) {\n+\t\tstorageStatusCache, err := postgres.InitStatusCache(true)",
                "path": "cmd/pg/daemon.go",
                "commit_id": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                "original_commit_id": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                "user": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Does it mean that if the connection is dead, daemon will be unable to detect it until restart?\r\n\r\nOn top of that, it seems unclear why do we use something called  'statuscache' to provide some connection/folder. I think that we need to alter its name to represent the actual purpose, like `MultiStorageProvider` or something like that. ",
                "created_at": "2023-10-27T10:39:32Z",
                "updated_at": "2023-10-27T10:39:39Z",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586#discussion_r1374385674",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374385674"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586#discussion_r1374385674"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1374385674/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 17,
                "original_line": 17,
                "side": "RIGHT",
                "in_reply_to_id": 1371958525,
                "original_position": 12,
                "position": 12,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "id": 1573170875,
                "node_id": "PR_kwDOBavIOM5dxK67",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1586.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1586.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586",
                "number": 1586,
                "state": "open",
                "locked": false,
                "title": "Reuse SSH connections opened once when daemon started",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "SSH folder implementation doesn't close opened connections. It leads to a problem when the WAL-G daemon is used, because it opens new connections on each command execution. \r\n\r\nIn this PR I change the behaviour of the daemon: now it opens new connections only once on start and reuses them in every command executions.\r\n\r\nThe connections still aren't excplicitly closed, but they're closed automatically when the process dies.",
                "created_at": "2023-10-25T15:16:56Z",
                "updated_at": "2023-10-27T10:39:39Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "fe0df8329a961234ac63eec51c2ae0efc72bbc80",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9",
                "head": {
                    "label": "rdjjke:close-ssh-conns/0",
                    "ref": "close-ssh-conns/0",
                    "sha": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89932,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-27T06:09:08Z",
                        "pushed_at": "2023-10-26T21:09:22Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101563,
                        "stargazers_count": 2736,
                        "watchers_count": 2736,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 258,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 258,
                        "watchers": 2736,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:39:32Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32895940470",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 47750602,
            "login": "usernamedt",
            "display_login": "usernamedt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/usernamedt",
            "avatar_url": "https://avatars.githubusercontent.com/u/47750602?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701484947,
                "node_id": "PRR_kwDOBavIOM5lapmT",
                "user": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                "submitted_at": "2023-10-27T10:39:39Z",
                "state": "changes_requested",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586#pullrequestreview-1701484947",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586#pullrequestreview-1701484947"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "id": 1573170875,
                "node_id": "PR_kwDOBavIOM5dxK67",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1586.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1586.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586",
                "number": 1586,
                "state": "open",
                "locked": false,
                "title": "Reuse SSH connections opened once when daemon started",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "SSH folder implementation doesn't close opened connections. It leads to a problem when the WAL-G daemon is used, because it opens new connections on each command execution. \r\n\r\nIn this PR I change the behaviour of the daemon: now it opens new connections only once on start and reuses them in every command executions.\r\n\r\nThe connections still aren't excplicitly closed, but they're closed automatically when the process dies.",
                "created_at": "2023-10-25T15:16:56Z",
                "updated_at": "2023-10-27T10:39:39Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "fe0df8329a961234ac63eec51c2ae0efc72bbc80",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9",
                "head": {
                    "label": "rdjjke:close-ssh-conns/0",
                    "ref": "close-ssh-conns/0",
                    "sha": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89932,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-27T06:09:08Z",
                        "pushed_at": "2023-10-26T21:09:22Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101563,
                        "stargazers_count": 2736,
                        "watchers_count": 2736,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 258,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 258,
                        "watchers": 2736,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:39:40Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32895940416",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 47750602,
            "login": "usernamedt",
            "display_login": "usernamedt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/usernamedt",
            "avatar_url": "https://avatars.githubusercontent.com/u/47750602?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701484947,
                "node_id": "PRR_kwDOBavIOM5lapmT",
                "user": {
                    "login": "usernamedt",
                    "id": 47750602,
                    "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usernamedt",
                    "html_url": "https://github.com/usernamedt",
                    "followers_url": "https://api.github.com/users/usernamedt/followers",
                    "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                    "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                    "repos_url": "https://api.github.com/users/usernamedt/repos",
                    "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                "submitted_at": "2023-10-27T10:39:39Z",
                "state": "changes_requested",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586#pullrequestreview-1701484947",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586#pullrequestreview-1701484947"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "id": 1573170875,
                "node_id": "PR_kwDOBavIOM5dxK67",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1586.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1586.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586",
                "number": 1586,
                "state": "open",
                "locked": false,
                "title": "Reuse SSH connections opened once when daemon started",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "SSH folder implementation doesn't close opened connections. It leads to a problem when the WAL-G daemon is used, because it opens new connections on each command execution. \r\n\r\nIn this PR I change the behaviour of the daemon: now it opens new connections only once on start and reuses them in every command executions.\r\n\r\nThe connections still aren't excplicitly closed, but they're closed automatically when the process dies.",
                "created_at": "2023-10-25T15:16:56Z",
                "updated_at": "2023-10-27T10:39:39Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "fe0df8329a961234ac63eec51c2ae0efc72bbc80",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9",
                "head": {
                    "label": "rdjjke:close-ssh-conns/0",
                    "ref": "close-ssh-conns/0",
                    "sha": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89932,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-27T06:09:08Z",
                        "pushed_at": "2023-10-26T21:09:22Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101563,
                        "stargazers_count": 2736,
                        "watchers_count": 2736,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 258,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 258,
                        "watchers": 2736,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:39:40Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32889403135",
        "type": "WatchEvent",
        "actor": {
            "id": 25056540,
            "login": "budait",
            "display_login": "budait",
            "gravatar_id": "",
            "url": "https://api.github.com/users/budait",
            "avatar_url": "https://avatars.githubusercontent.com/u/25056540?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T06:09:07Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32886173195",
        "type": "WatchEvent",
        "actor": {
            "id": 4162631,
            "login": "vafleite",
            "display_login": "vafleite",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vafleite",
            "avatar_url": "https://avatars.githubusercontent.com/u/4162631?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T02:04:58Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32881960685",
        "type": "PushEvent",
        "actor": {
            "id": 24353044,
            "login": "reshke",
            "display_login": "reshke",
            "gravatar_id": "",
            "url": "https://api.github.com/users/reshke",
            "avatar_url": "https://avatars.githubusercontent.com/u/24353044?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "repository_id": 95143992,
            "push_id": 15583208042,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/gpdaemon",
            "head": "eb8a4b166c37fe535369c7ed0a810bda9f00187a",
            "before": "fd2d09b9aaf52e3e43ca9b300b31b9faa24288fe",
            "commits": [
                {
                    "sha": "eb8a4b166c37fe535369c7ed0a810bda9f00187a",
                    "author": {
                        "email": "reshke@double.cloud",
                        "name": "reshke"
                    },
                    "message": "Fix",
                    "distinct": true,
                    "url": "https://api.github.com/repos/wal-g/wal-g/commits/eb8a4b166c37fe535369c7ed0a810bda9f00187a"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T21:09:20Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32881295125",
        "type": "PullRequestEvent",
        "actor": {
            "id": 24353044,
            "login": "reshke",
            "display_login": "reshke",
            "gravatar_id": "",
            "url": "https://api.github.com/users/reshke",
            "avatar_url": "https://avatars.githubusercontent.com/u/24353044?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "opened",
            "number": 1587,
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1587",
                "id": 1575551201,
                "node_id": "PR_kwDOBavIOM5d6QDh",
                "html_url": "https://github.com/wal-g/wal-g/pull/1587",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1587.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1587.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1587",
                "number": 1587,
                "state": "open",
                "locked": false,
                "title": "Refactor daemon code, implement daemon iface for greenplum",
                "user": {
                    "login": "reshke",
                    "id": 24353044,
                    "node_id": "MDQ6VXNlcjI0MzUzMDQ0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24353044?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/reshke",
                    "html_url": "https://github.com/reshke",
                    "followers_url": "https://api.github.com/users/reshke/followers",
                    "following_url": "https://api.github.com/users/reshke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/reshke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/reshke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/reshke/subscriptions",
                    "organizations_url": "https://api.github.com/users/reshke/orgs",
                    "repos_url": "https://api.github.com/users/reshke/repos",
                    "events_url": "https://api.github.com/users/reshke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/reshke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Database name\r\nWal-g provides support for many databases, please write down name of database you uses.\r\n\r\n# Pull request description\r\n\r\n### Describe what this PR fix\r\n// problem is ...\r\n\r\n### Please provide steps to reproduce (if it's a bug)\r\n// it can really help\r\n\r\n### Please add config and wal-g stdout/stderr logs for debug purpose\r\n\r\nalso you can use WALG_LOG_LEVEL=DEVEL for logs collecting\r\n<details><summary>If you can, provide logs</summary>\r\n<p>\r\n```bash\r\nany logs here\r\n```\r\n</p>\r\n</details>\r\n",
                "created_at": "2023-10-26T20:37:29Z",
                "updated_at": "2023-10-26T20:37:29Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": null,
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": true,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1587/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1587/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1587/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/fd2d09b9aaf52e3e43ca9b300b31b9faa24288fe",
                "head": {
                    "label": "wal-g:gpdaemon",
                    "ref": "gpdaemon",
                    "sha": "fd2d09b9aaf52e3e43ca9b300b31b9faa24288fe",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-26T01:39:10Z",
                        "pushed_at": "2023-10-26T20:37:30Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101555,
                        "stargazers_count": 2734,
                        "watchers_count": 2734,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 258,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 258,
                        "watchers": 2734,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-26T01:39:10Z",
                        "pushed_at": "2023-10-26T20:37:30Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101555,
                        "stargazers_count": 2734,
                        "watchers_count": 2734,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 258,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 258,
                        "watchers": 2734,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1587"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1587"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1587"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1587/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1587/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1587/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/fd2d09b9aaf52e3e43ca9b300b31b9faa24288fe"
                    }
                },
                "author_association": "COLLABORATOR",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": false,
                "commits": 1,
                "additions": 92,
                "deletions": 54,
                "changed_files": 4
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:37:31Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32881290932",
        "type": "CreateEvent",
        "actor": {
            "id": 24353044,
            "login": "reshke",
            "display_login": "reshke",
            "gravatar_id": "",
            "url": "https://api.github.com/users/reshke",
            "avatar_url": "https://avatars.githubusercontent.com/u/24353044?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "ref": "gpdaemon",
            "ref_type": "branch",
            "master_branch": "master",
            "description": "Archival and Restoration for databases in the Cloud",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-26T20:37:19Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32853667251",
        "type": "WatchEvent",
        "actor": {
            "id": 9283918,
            "login": "gongxun0928",
            "display_login": "gongxun0928",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gongxun0928",
            "avatar_url": "https://avatars.githubusercontent.com/u/9283918?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-26T01:39:10Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32840852547",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 96542656,
            "login": "rdjjke",
            "display_login": "rdjjke",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rdjjke",
            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1371958525",
                "pull_request_review_id": 1697680430,
                "id": 1371958525,
                "node_id": "PRRC_kwDOBavIOM5Rxmz9",
                "diff_hunk": "@@ -13,8 +14,12 @@ var daemonCmd = &cobra.Command{\n \tShort: DaemonShortDescription,\n \tArgs:  cobra.ExactArgs(1),\n \tRun: func(cmd *cobra.Command, args []string) {\n+\t\tstorageStatusCache, err := postgres.InitStatusCache(true)",
                "path": "cmd/pg/daemon.go",
                "commit_id": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                "original_commit_id": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "I moved opening new conenctions to the place that called only once instead of closing connections for two reasons:\r\n1. I tried to close them, but it's not so easy: we can't just close `storage.Folder`s. because multiple folders can share the same connection (e.g. all folders got by listing the original folder share the same connection). So for proper closing, we need to return something (in addition to the folder itself) from `internal.ConfigureFolder` and close it later. We still can do that, but in another issue.\r\n2. Even with proper closing, it's not really necessary to reopen the connections on each command exectution. It's better to open the minimum number of them once and reuse them later.",
                "created_at": "2023-10-25T15:28:18Z",
                "updated_at": "2023-10-25T15:28:18Z",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586#discussion_r1371958525",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1371958525"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586#discussion_r1371958525"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments/1371958525/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 17,
                "original_line": 17,
                "side": "RIGHT",
                "original_position": 12,
                "position": 12,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "id": 1573170875,
                "node_id": "PR_kwDOBavIOM5dxK67",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1586.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1586.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586",
                "number": 1586,
                "state": "open",
                "locked": false,
                "title": "Reuse SSH connections opened once when daemon started",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "SSH folder implementation doesn't close opened connections. It leads to a problem when the WAL-G daemon is used, because it opens new connections on each command execution. \r\n\r\nIn this PR I change the behaviour of the daemon: now it opens new connections only once on start and reuses them in every command executions.\r\n\r\nThe connections still aren't excplicitly closed, but they're closed automatically when the process dies.",
                "created_at": "2023-10-25T15:16:56Z",
                "updated_at": "2023-10-25T15:28:18Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "fe0df8329a961234ac63eec51c2ae0efc72bbc80",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "usernamedt",
                        "id": 47750602,
                        "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/usernamedt",
                        "html_url": "https://github.com/usernamedt",
                        "followers_url": "https://api.github.com/users/usernamedt/followers",
                        "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                        "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                        "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                        "repos_url": "https://api.github.com/users/usernamedt/repos",
                        "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [
                    {
                        "name": "Committers",
                        "id": 2446905,
                        "node_id": "MDQ6VGVhbTI0NDY5MDU=",
                        "slug": "committers",
                        "description": "",
                        "privacy": "closed",
                        "notification_setting": "notifications_enabled",
                        "url": "https://api.github.com/organizations/31082131/team/2446905",
                        "html_url": "https://github.com/orgs/wal-g/teams/committers",
                        "members_url": "https://api.github.com/organizations/31082131/team/2446905/members{/member}",
                        "repositories_url": "https://api.github.com/organizations/31082131/team/2446905/repos",
                        "permission": "pull",
                        "parent": null
                    }
                ],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9",
                "head": {
                    "label": "rdjjke:close-ssh-conns/0",
                    "ref": "close-ssh-conns/0",
                    "sha": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89926,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-24T11:30:42Z",
                        "pushed_at": "2023-10-25T15:16:57Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101555,
                        "stargazers_count": 2733,
                        "watchers_count": 2733,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 257,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 257,
                        "watchers": 2733,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T15:28:18Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32840852398",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 96542656,
            "login": "rdjjke",
            "display_login": "rdjjke",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rdjjke",
            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1697680430,
                "node_id": "PRR_kwDOBavIOM5lMIwu",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": null,
                "commit_id": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                "submitted_at": "2023-10-25T15:28:18Z",
                "state": "commented",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586#pullrequestreview-1697680430",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586#pullrequestreview-1697680430"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "id": 1573170875,
                "node_id": "PR_kwDOBavIOM5dxK67",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1586.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1586.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586",
                "number": 1586,
                "state": "open",
                "locked": false,
                "title": "Reuse SSH connections opened once when daemon started",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "SSH folder implementation doesn't close opened connections. It leads to a problem when the WAL-G daemon is used, because it opens new connections on each command execution. \r\n\r\nIn this PR I change the behaviour of the daemon: now it opens new connections only once on start and reuses them in every command executions.\r\n\r\nThe connections still aren't excplicitly closed, but they're closed automatically when the process dies.",
                "created_at": "2023-10-25T15:16:56Z",
                "updated_at": "2023-10-25T15:28:18Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "fe0df8329a961234ac63eec51c2ae0efc72bbc80",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "usernamedt",
                        "id": 47750602,
                        "node_id": "MDQ6VXNlcjQ3NzUwNjAy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/47750602?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/usernamedt",
                        "html_url": "https://github.com/usernamedt",
                        "followers_url": "https://api.github.com/users/usernamedt/followers",
                        "following_url": "https://api.github.com/users/usernamedt/following{/other_user}",
                        "gists_url": "https://api.github.com/users/usernamedt/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/usernamedt/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/usernamedt/subscriptions",
                        "organizations_url": "https://api.github.com/users/usernamedt/orgs",
                        "repos_url": "https://api.github.com/users/usernamedt/repos",
                        "events_url": "https://api.github.com/users/usernamedt/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/usernamedt/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [
                    {
                        "name": "Committers",
                        "id": 2446905,
                        "node_id": "MDQ6VGVhbTI0NDY5MDU=",
                        "slug": "committers",
                        "description": "",
                        "privacy": "closed",
                        "notification_setting": "notifications_enabled",
                        "url": "https://api.github.com/organizations/31082131/team/2446905",
                        "html_url": "https://github.com/orgs/wal-g/teams/committers",
                        "members_url": "https://api.github.com/organizations/31082131/team/2446905/members{/member}",
                        "repositories_url": "https://api.github.com/organizations/31082131/team/2446905/repos",
                        "permission": "pull",
                        "parent": null
                    }
                ],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9",
                "head": {
                    "label": "rdjjke:close-ssh-conns/0",
                    "ref": "close-ssh-conns/0",
                    "sha": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89926,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-24T11:30:42Z",
                        "pushed_at": "2023-10-25T15:16:57Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101555,
                        "stargazers_count": 2733,
                        "watchers_count": 2733,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 257,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 257,
                        "watchers": 2733,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T15:28:19Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32840486638",
        "type": "PullRequestEvent",
        "actor": {
            "id": 96542656,
            "login": "rdjjke",
            "display_login": "rdjjke",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rdjjke",
            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "opened",
            "number": 1586,
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586",
                "id": 1573170875,
                "node_id": "PR_kwDOBavIOM5dxK67",
                "html_url": "https://github.com/wal-g/wal-g/pull/1586",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1586.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1586.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586",
                "number": 1586,
                "state": "open",
                "locked": false,
                "title": "Reuse SSH connections opened once when daemon started",
                "user": {
                    "login": "rdjjke",
                    "id": 96542656,
                    "node_id": "U_kgDOBcEfwA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rdjjke",
                    "html_url": "https://github.com/rdjjke",
                    "followers_url": "https://api.github.com/users/rdjjke/followers",
                    "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                    "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                    "repos_url": "https://api.github.com/users/rdjjke/repos",
                    "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "SSH folder implementation doesn't close opened connections. It leads to a problem when the WAL-G daemon is used, because it opens new connections on each command execution. \r\n\r\nIn this PR I change the behaviour of the daemon: now it opens new connections only once on start and reuses them in every command executions.\r\n\r\nThe connections still aren't excplicitly closed, but they're closed automatically when the process dies.",
                "created_at": "2023-10-25T15:16:56Z",
                "updated_at": "2023-10-25T15:16:57Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": null,
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [
                    {
                        "name": "Committers",
                        "id": 2446905,
                        "node_id": "MDQ6VGVhbTI0NDY5MDU=",
                        "slug": "committers",
                        "description": "",
                        "privacy": "closed",
                        "notification_setting": "notifications_enabled",
                        "url": "https://api.github.com/organizations/31082131/team/2446905",
                        "html_url": "https://github.com/orgs/wal-g/teams/committers",
                        "members_url": "https://api.github.com/organizations/31082131/team/2446905/members{/member}",
                        "repositories_url": "https://api.github.com/organizations/31082131/team/2446905/repos",
                        "permission": "pull",
                        "parent": null
                    }
                ],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9",
                "head": {
                    "label": "rdjjke:close-ssh-conns/0",
                    "ref": "close-ssh-conns/0",
                    "sha": "f61b0f5d0fbf400673658f3cd0403731555918d9",
                    "user": {
                        "login": "rdjjke",
                        "id": 96542656,
                        "node_id": "U_kgDOBcEfwA",
                        "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rdjjke",
                        "html_url": "https://github.com/rdjjke",
                        "followers_url": "https://api.github.com/users/rdjjke/followers",
                        "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                        "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                        "repos_url": "https://api.github.com/users/rdjjke/repos",
                        "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 642903253,
                        "node_id": "R_kgDOJlHs1Q",
                        "name": "wal-g",
                        "full_name": "rdjjke/wal-g",
                        "private": false,
                        "owner": {
                            "login": "rdjjke",
                            "id": 96542656,
                            "node_id": "U_kgDOBcEfwA",
                            "avatar_url": "https://avatars.githubusercontent.com/u/96542656?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/rdjjke",
                            "html_url": "https://github.com/rdjjke",
                            "followers_url": "https://api.github.com/users/rdjjke/followers",
                            "following_url": "https://api.github.com/users/rdjjke/following{/other_user}",
                            "gists_url": "https://api.github.com/users/rdjjke/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/rdjjke/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/rdjjke/subscriptions",
                            "organizations_url": "https://api.github.com/users/rdjjke/orgs",
                            "repos_url": "https://api.github.com/users/rdjjke/repos",
                            "events_url": "https://api.github.com/users/rdjjke/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/rdjjke/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/rdjjke/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/rdjjke/wal-g",
                        "forks_url": "https://api.github.com/repos/rdjjke/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/rdjjke/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/rdjjke/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/rdjjke/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/rdjjke/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/rdjjke/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/rdjjke/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/rdjjke/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/rdjjke/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/rdjjke/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/rdjjke/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/rdjjke/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/rdjjke/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/rdjjke/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/rdjjke/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/rdjjke/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/rdjjke/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/rdjjke/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/rdjjke/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/rdjjke/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/rdjjke/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/rdjjke/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/rdjjke/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/rdjjke/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/rdjjke/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/rdjjke/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/rdjjke/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/rdjjke/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/rdjjke/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/rdjjke/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/rdjjke/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/rdjjke/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/rdjjke/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/rdjjke/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/rdjjke/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/rdjjke/wal-g/deployments",
                        "created_at": "2023-05-19T15:55:42Z",
                        "updated_at": "2023-06-06T15:54:45Z",
                        "pushed_at": "2023-10-25T15:12:19Z",
                        "git_url": "git://github.com/rdjjke/wal-g.git",
                        "ssh_url": "git@github.com:rdjjke/wal-g.git",
                        "clone_url": "https://github.com/rdjjke/wal-g.git",
                        "svn_url": "https://github.com/rdjjke/wal-g",
                        "homepage": "",
                        "size": 89926,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-24T11:30:42Z",
                        "pushed_at": "2023-10-25T15:16:57Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101555,
                        "stargazers_count": 2733,
                        "watchers_count": 2733,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 257,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 257,
                        "watchers": 2733,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1586"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1586/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1586/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/f61b0f5d0fbf400673658f3cd0403731555918d9"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": true,
                "commits": 1,
                "additions": 34,
                "deletions": 24,
                "changed_files": 3
            }
        },
        "public": true,
        "created_at": "2023-10-25T15:16:58Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32838173145",
        "type": "IssuesEvent",
        "actor": {
            "id": 24807060,
            "login": "IgorOhrimenko",
            "display_login": "IgorOhrimenko",
            "gravatar_id": "",
            "url": "https://api.github.com/users/IgorOhrimenko",
            "avatar_url": "https://avatars.githubusercontent.com/u/24807060?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "opened",
            "issue": {
                "url": "https://api.github.com/repos/wal-g/wal-g/issues/1585",
                "repository_url": "https://api.github.com/repos/wal-g/wal-g",
                "labels_url": "https://api.github.com/repos/wal-g/wal-g/issues/1585/labels{/name}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1585/comments",
                "events_url": "https://api.github.com/repos/wal-g/wal-g/issues/1585/events",
                "html_url": "https://github.com/wal-g/wal-g/issues/1585",
                "id": 1961526863,
                "node_id": "I_kwDOBavIOM506oZP",
                "number": 1585,
                "title": "delta backup does not work without $PGDATA in the command line",
                "user": {
                    "login": "IgorOhrimenko",
                    "id": 24807060,
                    "node_id": "MDQ6VXNlcjI0ODA3MDYw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24807060?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/IgorOhrimenko",
                    "html_url": "https://github.com/IgorOhrimenko",
                    "followers_url": "https://api.github.com/users/IgorOhrimenko/followers",
                    "following_url": "https://api.github.com/users/IgorOhrimenko/following{/other_user}",
                    "gists_url": "https://api.github.com/users/IgorOhrimenko/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/IgorOhrimenko/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/IgorOhrimenko/subscriptions",
                    "organizations_url": "https://api.github.com/users/IgorOhrimenko/orgs",
                    "repos_url": "https://api.github.com/users/IgorOhrimenko/repos",
                    "events_url": "https://api.github.com/users/IgorOhrimenko/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/IgorOhrimenko/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2023-10-25T14:10:32Z",
                "updated_at": "2023-10-25T14:10:32Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Database name\r\npostgresql\r\n\r\n# Issue description\r\n\r\n### Describe your problem\r\n`delta backup` does not work without $PGDATA in the command line.\r\n`\"WALG_DELTA_MAX_STEPS\": 7` is set in the .walg.json but when run `wal-g backup-push` get message:\r\n`Features like delta backup are disabled, there might be a performance impact.`\r\nIf run `wal-g backup-push $PGDATA` with the same config .walg.json get message `Delta backup enabled`\r\n\r\n### Please provide steps to reproduce\r\n`WALG_DELTA_MAX_STEPS=1 wal-g backup-push` -> `Features like delta backup are disabled, there might be a performance impact.`\r\n`WALG_DELTA_MAX_STEPS=1 wal-g backup-push /var/lib/postgresql/14/cluster-psql-test` -> `Delta backup enabled`\r\n\r\n### Please add config and wal-g stdout/stderr logs for debug purpose\r\n```\r\n.walg.json\r\n{\r\n    \"WALE_S3_PREFIX\": \"s3://backup_postgresql_wal-g/cluster-psql-test/14\",\r\n    \"AWS_ACCESS_KEY_ID\": \"AWS_ACCESS_KEY_ID\",\r\n    \"AWS_ENDPOINT\": \"https://s3\",\r\n    \"AWS_S3_FORCE_PATH_STYLE\": \"true\",\r\n    \"AWS_SECRET_ACCESS_KEY\": \"pass\",\r\n    \"AWS_REGION\": \"reg\",\r\n    \"PGDATA\": \"/var/lib/postgresql/14/cluster-psql-test\",\r\n    \"PGHOST\": \"/var/run/postgresql\",\r\n    \"PGPORT\": \"5432\",\r\n    \"WALG_DELTA_MAX_STEPS\": \"7\",\r\n    \"WALG_PREFETCH_DIR\": \"/var/lib/postgresql/\",\r\n    \"WALG_TAR_SIZE_THRESHOLD\": \"4294967296\",\r\n    \"WALG_UPLOAD_CONCURRENCY\": \"1\",\r\n    \"WALG_COMPRESSION_METHOD\": \"brotli\"\r\n}\r\n```\r\n\r\nThis issue has some relatives https://github.com/wal-g/wal-g/issues/1385 and https://github.com/wal-g/wal-g/issues/1248\r\n\r\n<details><summary>If you can, provide logs</summary>\r\n<p>\r\n\r\n```bash\r\nWALG_DELTA_MAX_STEPS=1 wal-g backup-push\r\nINFO: 2023/10/25 17:02:01.587486 Running remote backup through Postgres connection.\r\nINFO: 2023/10/25 17:02:01.587555 Features like delta backup are disabled, there might be a performance impact.\r\nINFO: 2023/10/25 17:02:01.587558 To run with local backup functionalities, supply [db_directory].\r\nINFO: 2023/10/25 17:02:01.615639 Starting remote backup\r\nINFO: 2023/10/25 17:02:01.721266 Streaming remote backup\r\nINFO: 2023/10/25 17:02:01.732651 Adding data directory\r\nINFO: 2023/10/25 17:02:24.301164 Finishing backup\r\nINFO: 2023/10/25 17:02:24.301199 If wal-g hangs during this step, please Postgres log file for details.\r\nINFO: 2023/10/25 17:02:24.304672 Updating metadata\r\nINFO: 2023/10/25 17:02:24.304711 Uploading metadata\r\nINFO: 2023/10/25 17:02:24.495913 Wrote backup with name base_0000002900000280000000A1\r\n```\r\n\r\n```bash\r\nWALG_DELTA_MAX_STEPS=1 wal-g backup-push /var/lib/postgresql/11/cluster-psql-test\r\nINFO: 2023/10/25 17:04:45.001627 LATEST backup is: 'base_0000002900000280000000A1'\r\nINFO: 2023/10/25 17:04:45.055755 Delta backup from base_0000002900000280000000A1 with LSN 280/A1000028.\r\nINFO: 2023/10/25 17:04:45.122151 Calling pg_start_backup()\r\nINFO: 2023/10/25 17:04:45.478021 Delta backup enabled\r\nINFO: 2023/10/25 17:04:45.478051 Starting a new tar bundle\r\nINFO: 2023/10/25 17:04:45.478084 Walking ...\r\nINFO: 2023/10/25 17:04:45.479887 Starting part 1 ...\r\nINFO: 2023/10/25 17:05:00.094650 Packing ...\r\nINFO: 2023/10/25 17:05:00.096655 Finished writing part 1.\r\nINFO: 2023/10/25 17:05:01.702814 Starting part 2 ...\r\nINFO: 2023/10/25 17:05:01.774338 /global/pg_control\r\nINFO: 2023/10/25 17:05:01.812535 Finished writing part 2.\r\nINFO: 2023/10/25 17:05:01.812978 Calling pg_stop_backup()\r\nINFO: 2023/10/25 17:05:05.054343 Starting part 3 ...\r\nINFO: 2023/10/25 17:05:05.054430 backup_label\r\nINFO: 2023/10/25 17:05:05.054439 tablespace_map\r\nINFO: 2023/10/25 17:05:05.057440 Finished writing part 3.\r\nINFO: 2023/10/25 17:05:05.368358 Wrote backup with name base_0000002900000280000000A3_D_0000002900000280000000A1\r\n```\r\n</p>\r\n</details>\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/issues/1585/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/wal-g/wal-g/issues/1585/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T14:10:34Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32837337542",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 6000069,
            "login": "x4m",
            "display_login": "x4m",
            "gravatar_id": "",
            "url": "https://api.github.com/users/x4m",
            "avatar_url": "https://avatars.githubusercontent.com/u/6000069?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/wal-g/wal-g/issues/1385",
                "repository_url": "https://api.github.com/repos/wal-g/wal-g",
                "labels_url": "https://api.github.com/repos/wal-g/wal-g/issues/1385/labels{/name}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1385/comments",
                "events_url": "https://api.github.com/repos/wal-g/wal-g/issues/1385/events",
                "html_url": "https://github.com/wal-g/wal-g/issues/1385",
                "id": 1461927078,
                "node_id": "I_kwDOBavIOM5XIzym",
                "number": 1385,
                "title": "backup-push does not work on the Postgresql 15/16 without $PGDATA in command line",
                "user": {
                    "login": "IgorOhrimenko",
                    "id": 24807060,
                    "node_id": "MDQ6VXNlcjI0ODA3MDYw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24807060?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/IgorOhrimenko",
                    "html_url": "https://github.com/IgorOhrimenko",
                    "followers_url": "https://api.github.com/users/IgorOhrimenko/followers",
                    "following_url": "https://api.github.com/users/IgorOhrimenko/following{/other_user}",
                    "gists_url": "https://api.github.com/users/IgorOhrimenko/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/IgorOhrimenko/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/IgorOhrimenko/subscriptions",
                    "organizations_url": "https://api.github.com/users/IgorOhrimenko/orgs",
                    "repos_url": "https://api.github.com/users/IgorOhrimenko/repos",
                    "events_url": "https://api.github.com/users/IgorOhrimenko/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/IgorOhrimenko/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 8,
                "created_at": "2022-11-23T15:05:46Z",
                "updated_at": "2023-10-25T13:46:34Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Database name\r\nPostgresql \r\n\r\n# Issue description\r\n\r\n### Describe your problem\r\nCommand backup-push does not work on the Postgresql 15 with error:\r\n```\r\nERROR: 2022/11/23 17:36:15.308547 unexpected response: &{%!t(string=ERROR) %!t(string=ERROR) %!t(string=42601) %!t(string=syntax error) %!t(string=) %!t(string=) %!t(int32=0) %!t(int32=0) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=repl_scanner.l) %!t(int32=237) %!t(string=replication_yyerror) map[]}:\r\n    github.com/jackc/pglogrepl.getBaseBackupInfo\r\n        /home/user/go/src/github.com/wal-g/wal-g/vendor/github.com/jackc/pglogrepl/pglogrepl.go:408\r\n```\r\n\r\nI try last v2.0.1 and compiled master 3d22cab3.\r\n\r\n### Please provide steps to reproduce\r\n\r\n```bash\r\nsudo -u postgres wal-g backup-push\r\n```\r\n\r\n### Please add config and wal-g stdout/stderr logs for debug purpose\r\n\r\n<details><summary>/var/lib/postgresql/.walg.json</summary>\r\n<p>\r\n\r\n```yaml\r\n{\r\n    \"WALG_LOG_LEVEL\": \"DEVEL\",\r\n    \"WALE_S3_PREFIX\": \"s3://backup_postgresql_wal-g/cluster-psql-test/15\",\r\n    \"AWS_ACCESS_KEY_ID\": \"backup_postgresql_wal-g\",\r\n    \"AWS_ENDPOINT\": \"https://s3\",\r\n    \"AWS_S3_FORCE_PATH_STYLE\": \"true\",\r\n    \"AWS_SECRET_ACCESS_KEY\": \"pass\",\r\n    \"AWS_REGION\": \"region\",\r\n    \"PGDATA\": \"/var/lib/postgresql/15/cluster-psql-test\",\r\n    \"PGHOST\": \"/var/run/postgresql\",\r\n    \"PGPORT\": \"5432\",\r\n    \"WALG_DELTA_MAX_STEPS\": \"7\",\r\n    \"WALG_PREFETCH_DIR\": \"/var/lib/postgresql/\",\r\n    \"WALG_TAR_SIZE_THRESHOLD\": \"4294967296\",\r\n    \"WALG_UPLOAD_CONCURRENCY\": \"10\",\r\n    \"WALG_COMPRESSION_METHOD\": \"brotli\"\r\n}\r\n```\r\n</p>\r\n</details>\r\n\r\n<details><summary>Full logs with \"WALG_LOG_LEVEL\": \"DEVEL\"</summary>\r\n<p>\r\n\r\n```bash\r\nDEBUG: 2022/11/23 17:36:15.281532 --- COMPILED ENVIRONMENT VARS ---\r\nDEBUG: 2022/11/23 17:36:15.281735 AWS_ACCESS_KEY=\r\nDEBUG: 2022/11/23 17:36:15.281786 AWS_ACCESS_KEY_ID=backup_postgresql_wal-g\r\nDEBUG: 2022/11/23 17:36:15.281833 AWS_CA_BUNDLE=\r\nDEBUG: 2022/11/23 17:36:15.281879 AWS_CONFIG_FILE=\r\nDEBUG: 2022/11/23 17:36:15.281930 AWS_DEFAULT_OUTPUT=\r\nDEBUG: 2022/11/23 17:36:15.281975 AWS_DEFAULT_REGION=\r\nDEBUG: 2022/11/23 17:36:15.282020 AWS_ENDPOINT=https://s3\r\nDEBUG: 2022/11/23 17:36:15.282067 AWS_PROFILE=\r\nDEBUG: 2022/11/23 17:36:15.282118 AWS_REGION=region\r\nDEBUG: 2022/11/23 17:36:15.282163 AWS_ROLE_ARN=\r\nDEBUG: 2022/11/23 17:36:15.282210 AWS_ROLE_SESSION_NAME=\r\nDEBUG: 2022/11/23 17:36:15.282256 AWS_S3_FORCE_PATH_STYLE=true\r\nDEBUG: 2022/11/23 17:36:15.282308 AWS_SECRET_ACCESS_KEY=pass\r\nDEBUG: 2022/11/23 17:36:15.282357 AWS_SECRET_KEY=\r\nDEBUG: 2022/11/23 17:36:15.282405 AWS_SESSION_TOKEN=\r\nDEBUG: 2022/11/23 17:36:15.282450 AWS_SHARED_CREDENTIALS_FILE=\r\nDEBUG: 2022/11/23 17:36:15.282499 AZURE_BUFFER_SIZE=\r\nDEBUG: 2022/11/23 17:36:15.282544 AZURE_ENDPOINT_SUFFIX=\r\nDEBUG: 2022/11/23 17:36:15.282591 AZURE_ENVIRONMENT_NAME=\r\nDEBUG: 2022/11/23 17:36:15.282637 AZURE_MAX_BUFFERS=\r\nDEBUG: 2022/11/23 17:36:15.282711 AZURE_STORAGE_ACCESS_KEY=\r\nDEBUG: 2022/11/23 17:36:15.282756 AZURE_STORAGE_ACCOUNT=\r\nDEBUG: 2022/11/23 17:36:15.282807 AZURE_STORAGE_SAS_TOKEN=\r\nDEBUG: 2022/11/23 17:36:15.282856 GCS_CONTEXT_TIMEOUT=\r\nDEBUG: 2022/11/23 17:36:15.282901 GCS_ENCRYPTION_KEY=\r\nDEBUG: 2022/11/23 17:36:15.282945 GCS_MAX_CHUNK_SIZE=\r\nDEBUG: 2022/11/23 17:36:15.282989 GCS_MAX_RETRIES=\r\nDEBUG: 2022/11/23 17:36:15.283045 GCS_NORMALIZE_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.283093 GOMAXPROCS=\r\nDEBUG: 2022/11/23 17:36:15.283137 GOOGLE_APPLICATION_CREDENTIALS=\r\nDEBUG: 2022/11/23 17:36:15.283185 HOME=/var/lib/postgresql\r\nDEBUG: 2022/11/23 17:36:15.283238 HTTP_EXPOSE_EXPVAR=\r\nDEBUG: 2022/11/23 17:36:15.283284 HTTP_EXPOSE_PPROF=\r\nDEBUG: 2022/11/23 17:36:15.283328 HTTP_LISTEN=\r\nDEBUG: 2022/11/23 17:36:15.283373 LANG=en_US.UTF-8\r\nDEBUG: 2022/11/23 17:36:15.283420 LC_ALL=C.UTF-8\r\nDEBUG: 2022/11/23 17:36:15.283465 LOGNAME=postgres\r\nDEBUG: 2022/11/23 17:36:15.283511 LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:\r\nDEBUG: 2022/11/23 17:36:15.283584 MAIL=/var/mail/postgres\r\nDEBUG: 2022/11/23 17:36:15.283642 OS_AUTH_URL=\r\nDEBUG: 2022/11/23 17:36:15.283688 OS_PASSWORD=\r\nDEBUG: 2022/11/23 17:36:15.283734 OS_REGION_NAME=\r\nDEBUG: 2022/11/23 17:36:15.283780 OS_TENANT_NAME=\r\nDEBUG: 2022/11/23 17:36:15.283826 OS_USERNAME=\r\nDEBUG: 2022/11/23 17:36:15.283872 PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\nDEBUG: 2022/11/23 17:36:15.283934 PGBACKREST_STANZA=main\r\nDEBUG: 2022/11/23 17:36:15.283980 PGDATA=/var/lib/postgresql/15/cluster-psql-test\r\nDEBUG: 2022/11/23 17:36:15.284027 PGDATABASE=\r\nDEBUG: 2022/11/23 17:36:15.284072 PGHOST=/var/run/postgresql\r\nDEBUG: 2022/11/23 17:36:15.284117 PGPASSFILE=\r\nDEBUG: 2022/11/23 17:36:15.284163 PGPASSWORD=\r\nDEBUG: 2022/11/23 17:36:15.284213 PGPORT=5432\r\nDEBUG: 2022/11/23 17:36:15.284262 PGSSLMODE=\r\nDEBUG: 2022/11/23 17:36:15.284305 PGUSER=\r\nDEBUG: 2022/11/23 17:36:15.284349 PG_READY_RENAME=\r\nDEBUG: 2022/11/23 17:36:15.284403 PROFILE_MODE=\r\nDEBUG: 2022/11/23 17:36:15.284449 PROFILE_PATH=\r\nDEBUG: 2022/11/23 17:36:15.284493 PROFILE_SAMPLING_RATIO=\r\nDEBUG: 2022/11/23 17:36:15.284537 S3_CA_CERT_FILE=\r\nDEBUG: 2022/11/23 17:36:15.284586 S3_ENDPOINT_PORT=\r\nDEBUG: 2022/11/23 17:36:15.284632 S3_ENDPOINT_SOURCE=\r\nDEBUG: 2022/11/23 17:36:15.284677 S3_LOG_LEVEL=\r\nDEBUG: 2022/11/23 17:36:15.284721 S3_MAX_PART_SIZE=\r\nDEBUG: 2022/11/23 17:36:15.284776 S3_MAX_RETRIES=\r\nDEBUG: 2022/11/23 17:36:15.284821 S3_RANGE_BATCH_ENABLED=\r\nDEBUG: 2022/11/23 17:36:15.284867 S3_RANGE_MAX_RETRIES=\r\nDEBUG: 2022/11/23 17:36:15.284913 S3_SSE=\r\nDEBUG: 2022/11/23 17:36:15.284968 S3_SSE_C=\r\nDEBUG: 2022/11/23 17:36:15.285014 S3_SSE_KMS_ID=\r\nDEBUG: 2022/11/23 17:36:15.285057 S3_STORAGE_CLASS=\r\nDEBUG: 2022/11/23 17:36:15.285101 S3_USE_LIST_OBJECTS_V1=\r\nDEBUG: 2022/11/23 17:36:15.285150 S3_USE_YC_SESSION_TOKEN=\r\nDEBUG: 2022/11/23 17:36:15.285195 SHELL=/bin/bash\r\nDEBUG: 2022/11/23 17:36:15.285239 SSH_PASSWORD=\r\nDEBUG: 2022/11/23 17:36:15.285282 SSH_PORT=\r\nDEBUG: 2022/11/23 17:36:15.285336 SSH_PRIVATE_KEY_PATH=\r\nDEBUG: 2022/11/23 17:36:15.285381 SSH_USERNAME=\r\nDEBUG: 2022/11/23 17:36:15.285426 SUDO_COMMAND=/home/user/go/src/github.com/wal-g/wal-g/main/pg/wal-g backup-push\r\nDEBUG: 2022/11/23 17:36:15.285470 SUDO_GID=0\r\nDEBUG: 2022/11/23 17:36:15.285523 SUDO_UID=0\r\nDEBUG: 2022/11/23 17:36:15.285569 SUDO_USER=root\r\nDEBUG: 2022/11/23 17:36:15.285612 TERM=xterm-256color\r\nDEBUG: 2022/11/23 17:36:15.285657 TOTAL_BG_UPLOADED_LIMIT=32\r\nDEBUG: 2022/11/23 17:36:15.285706 UPLOAD_CONCURRENCY=\r\nDEBUG: 2022/11/23 17:36:15.285751 USER=postgres\r\nDEBUG: 2022/11/23 17:36:15.285798 WALE_GPG_KEY_ID=\r\nDEBUG: 2022/11/23 17:36:15.285842 WALE_S3_PREFIX=s3://backup_postgresql_wal-g/cluster-psql-test/15\r\nDEBUG: 2022/11/23 17:36:15.285892 WALG_ALIVE_CHECK_INTERVAL=\r\nDEBUG: 2022/11/23 17:36:15.285936 WALG_AZURE_BUFFER_SIZE=\r\nDEBUG: 2022/11/23 17:36:15.285980 WALG_AZURE_MAX_BUFFERS=\r\nDEBUG: 2022/11/23 17:36:15.286025 WALG_AZ_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286074 WALG_COMPRESSION_METHOD=brotli\r\nDEBUG: 2022/11/23 17:36:15.286119 WALG_CSE_KMS_ID=\r\nDEBUG: 2022/11/23 17:36:15.286163 WALG_CSE_KMS_REGION=\r\nDEBUG: 2022/11/23 17:36:15.286206 WALG_DELTA_FROM_NAME=\r\nDEBUG: 2022/11/23 17:36:15.286255 WALG_DELTA_FROM_USER_DATA=\r\nDEBUG: 2022/11/23 17:36:15.286299 WALG_DELTA_MAX_STEPS=7\r\nDEBUG: 2022/11/23 17:36:15.286344 WALG_DELTA_ORIGIN=\r\nDEBUG: 2022/11/23 17:36:15.286388 WALG_DISK_RATE_LIMIT=\r\nDEBUG: 2022/11/23 17:36:15.286437 WALG_DOWNLOAD_CONCURRENCY=10\r\nDEBUG: 2022/11/23 17:36:15.286482 WALG_FETCH_TARGET_USER_DATA=\r\nDEBUG: 2022/11/23 17:36:15.286525 WALG_FILE_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286536 WALG_GPG_KEY_ID=\r\nDEBUG: 2022/11/23 17:36:15.286541 WALG_GS_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286547 WALG_INTEGRITY_MAX_DELAYED_WALS=0\r\nDEBUG: 2022/11/23 17:36:15.286553 WALG_LIBSODIUM_KEY=\r\nDEBUG: 2022/11/23 17:36:15.286580 WALG_LIBSODIUM_KEY_PATH=\r\nDEBUG: 2022/11/23 17:36:15.286589 WALG_LIBSODIUM_KEY_TRANSFORM=none\r\nDEBUG: 2022/11/23 17:36:15.286595 WALG_LOG_LEVEL=DEVEL\r\nDEBUG: 2022/11/23 17:36:15.286600 WALG_NETWORK_RATE_LIMIT=\r\nDEBUG: 2022/11/23 17:36:15.286628 WALG_PGP_KEY=\r\nDEBUG: 2022/11/23 17:36:15.286635 WALG_PGP_KEY_PASSPHRASE=\r\nDEBUG: 2022/11/23 17:36:15.286641 WALG_PGP_KEY_PATH=\r\nDEBUG: 2022/11/23 17:36:15.286646 WALG_PG_WAL_SIZE=16\r\nDEBUG: 2022/11/23 17:36:15.286673 WALG_PREFETCH_DIR=/var/lib/postgresql/\r\nDEBUG: 2022/11/23 17:36:15.286715 WALG_PREVENT_WAL_OVERWRITE=false\r\nDEBUG: 2022/11/23 17:36:15.286725 WALG_S3_CA_CERT_FILE=\r\nDEBUG: 2022/11/23 17:36:15.286731 WALG_S3_MAX_PART_SIZE=\r\nDEBUG: 2022/11/23 17:36:15.286737 WALG_S3_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286742 WALG_S3_SSE=\r\nDEBUG: 2022/11/23 17:36:15.286767 WALG_S3_SSE_C=\r\nDEBUG: 2022/11/23 17:36:15.286776 WALG_S3_SSE_KMS_ID=\r\nDEBUG: 2022/11/23 17:36:15.286782 WALG_S3_STORAGE_CLASS=\r\nDEBUG: 2022/11/23 17:36:15.286787 WALG_SENTINEL_USER_DATA=\r\nDEBUG: 2022/11/23 17:36:15.286811 WALG_SERIALIZER_TYPE=json_default\r\nDEBUG: 2022/11/23 17:36:15.286820 WALG_SKIP_REDUNDANT_TARS=false\r\nDEBUG: 2022/11/23 17:36:15.286826 WALG_SLOTNAME=\r\nDEBUG: 2022/11/23 17:36:15.286850 WALG_SSH_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286859 WALG_STATSD_ADDRESS=\r\nDEBUG: 2022/11/23 17:36:15.286864 WALG_STOP_BACKUP_TIMEOUT=\r\nDEBUG: 2022/11/23 17:36:15.286870 WALG_STORAGE_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286900 WALG_STORE_ALL_CORRUPT_BLOCKS=false\r\nDEBUG: 2022/11/23 17:36:15.286907 WALG_STREAM_CREATE_COMMAND=\r\nDEBUG: 2022/11/23 17:36:15.286913 WALG_STREAM_RESTORE_COMMAND=\r\nDEBUG: 2022/11/23 17:36:15.286919 WALG_SWIFT_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286943 WALG_TAR_DISABLE_FSYNC=false\r\nDEBUG: 2022/11/23 17:36:15.286952 WALG_TAR_SIZE_THRESHOLD=4294967296\r\nDEBUG: 2022/11/23 17:36:15.286958 WALG_UPLOAD_CONCURRENCY=10\r\nDEBUG: 2022/11/23 17:36:15.286964 WALG_UPLOAD_DISK_CONCURRENCY=1\r\nDEBUG: 2022/11/23 17:36:15.286991 WALG_UPLOAD_QUEUE=2\r\nDEBUG: 2022/11/23 17:36:15.286997 WALG_UPLOAD_WAL_METADATA=NOMETADATA\r\nDEBUG: 2022/11/23 17:36:15.287003 WALG_USE_COPY_COMPOSER=false\r\nDEBUG: 2022/11/23 17:36:15.287026 WALG_USE_RATING_COMPOSER=false\r\nDEBUG: 2022/11/23 17:36:15.287036 WALG_USE_REVERSE_UNPACK=false\r\nDEBUG: 2022/11/23 17:36:15.287042 WALG_USE_WAL_DELTA=false\r\nDEBUG: 2022/11/23 17:36:15.287048 WALG_VERIFY_PAGE_CHECKSUMS=false\r\nDEBUG: 2022/11/23 17:36:15.287054 WALG_WITHOUT_FILES_METADATA=false\r\nDEBUG: 2022/11/23 17:36:15.287090 YC_CSE_KMS_KEY_ID=\r\nDEBUG: 2022/11/23 17:36:15.287096 YC_SERVICE_ACCOUNT_KEY_FILE=\r\nDEBUG: 2022/11/23 17:36:15.287548 Initializing tmp connection to read Postgres info\r\nWARNING: 2022/11/23 17:36:15.301291 It seems your archive_mode is not enabled. This will cause inconsistent backup. Please consider configuring WAL archiving.\r\nDEBUG: 2022/11/23 17:36:15.302755 Datadir: /var/lib/postgresql/15/cluster-psql-test\r\nDEBUG: 2022/11/23 17:36:15.302952 Postgres version: 150001\r\nDEBUG: 2022/11/23 17:36:15.303149 Postgres SystemIdentifier: 150001\r\nDEBUG: 2022/11/23 17:36:15.304919 Base backup folder: &{{%!s(*s3manager.Uploader=&{20971520 10 false 10000 0xc000010748 [] <nil> 0xc0002de9b0})    STANDARD} %!s(*s3.S3=&{0xc000967180}) %!s(*string=0xc0003d3c60) cluster-psql-test/15/basebackups_005/ map[AWS_ACCESS_KEY_ID:backup_postgresql_wal-g AWS_ENDPOINT:https://s3 AWS_REGION:region AWS_S3_FORCE_PATH_STYLE:true AWS_SECRET_ACCESS_KEY:pass UPLOAD_CONCURRENCY:10] %!s(bool=false)}\r\nINFO: 2022/11/23 17:36:15.304931 Running remote backup through Postgres connection.\r\nINFO: 2022/11/23 17:36:15.304934 Features like delta backup are disabled, there might be a performance impact.\r\nINFO: 2022/11/23 17:36:15.304936 To run with local backup functionalities, supply [db_directory].\r\nDEBUG: 2022/11/23 17:36:15.304946 Uploading folder: &{{%!s(*s3manager.Uploader=&{20971520 10 false 10000 0xc000010748 [] <nil> 0xc0002de9b0})    STANDARD} %!s(*s3.S3=&{0xc000967180}) %!s(*string=0xc0003d3d50) cluster-psql-test/15/basebackups_005/ map[AWS_ACCESS_KEY_ID:backup_postgresql_wal-g AWS_ENDPOINT:https://s3 AWS_REGION:region AWS_S3_FORCE_PATH_STYLE:true AWS_SECRET_ACCESS_KEY:pass UPLOAD_CONCURRENCY:10] %!s(bool=false)}\r\nDEBUG: 2022/11/23 17:36:15.304954 Connecting to Postgres (replication connection)\r\nINFO: 2022/11/23 17:36:15.306780 Starting remote backup\r\nERROR: 2022/11/23 17:36:15.308547 unexpected response: &{%!t(string=ERROR) %!t(string=ERROR) %!t(string=42601) %!t(string=syntax error) %!t(string=) %!t(string=) %!t(int32=0) %!t(int32=0) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=repl_scanner.l) %!t(int32=237) %!t(string=replication_yyerror) map[]}:\r\n    github.com/jackc/pglogrepl.getBaseBackupInfo\r\n        /home/user/go/src/github.com/wal-g/wal-g/vendor/github.com/jackc/pglogrepl/pglogrepl.go:408\r\n```\r\n</p>\r\n</details>\r\n\r\n<details><summary>\\dconfig</summary>\r\n<p>\r\n\r\n```bash\r\n                     List of non-default configuration parameters\r\n         Parameter          |                          Value\r\n----------------------------+----------------------------------------------------------\r\n application_name           | psql\r\n archive_command            | exit 0\r\n archive_mode               | on\r\n archive_timeout            | 1min\r\n cluster_name               | cluster-psql-test-15\r\n config_file                | /var/lib/postgresql/15/cluster-psql-test/postgresql.conf\r\n data_directory             | /var/lib/postgresql/15/cluster-psql-test\r\n default_text_search_config | pg_catalog.english\r\n effective_cache_size       | 1685MB\r\n effective_io_concurrency   | 200\r\n hba_file                   | /var/lib/postgresql/15/cluster-psql-test/pg_hba.conf\r\n ident_file                 | /var/lib/postgresql/15/cluster-psql-test/pg_ident.conf\r\n lc_messages                | en_US.UTF-8\r\n lc_monetary                | en_US.UTF-8\r\n lc_numeric                 | en_US.UTF-8\r\n lc_time                    | en_US.UTF-8\r\n listen_addresses           | 127.0.0.1,10.10.10.10\r\n log_directory              | /var/log/postgresql\r\n log_filename               | cluster-psql-test.log\r\n logging_collector          | on\r\n log_min_duration_statement | 5s\r\n log_rotation_age           | 0\r\n log_rotation_size          | 0\r\n log_timezone               | Europe/Moscow\r\n maintenance_work_mem       | 198MB\r\n max_connections            | 500\r\n max_wal_size               | 2GB\r\n min_wal_size               | 1GB\r\n pg_stat_statements.max     | 10000\r\n pg_stat_statements.track   | all\r\n random_page_cost           | 1.1\r\n shared_buffers             | 991MB\r\n shared_preload_libraries   | pg_stat_statements\r\n TimeZone                   | Europe/Moscow\r\n unix_socket_directories    | /var/run/postgresql/\r\n wal_buffers                | 16MB\r\n wal_keep_size              | 2GB\r\n wal_level                  | logical\r\n wal_log_hints              | on\r\n work_mem                   | 2MB\r\n(40 rows)\r\n```\r\n</p>\r\n</details>\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/issues/1385/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/wal-g/wal-g/issues/1385/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/wal-g/wal-g/issues/comments/1779315292",
                "html_url": "https://github.com/wal-g/wal-g/issues/1385#issuecomment-1779315292",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1385",
                "id": 1779315292,
                "node_id": "IC_kwDOBavIOM5qDjJc",
                "user": {
                    "login": "x4m",
                    "id": 6000069,
                    "node_id": "MDQ6VXNlcjYwMDAwNjk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/6000069?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/x4m",
                    "html_url": "https://github.com/x4m",
                    "followers_url": "https://api.github.com/users/x4m/followers",
                    "following_url": "https://api.github.com/users/x4m/following{/other_user}",
                    "gists_url": "https://api.github.com/users/x4m/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/x4m/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/x4m/subscriptions",
                    "organizations_url": "https://api.github.com/users/x4m/orgs",
                    "repos_url": "https://api.github.com/users/x4m/repos",
                    "events_url": "https://api.github.com/users/x4m/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/x4m/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T13:46:33Z",
                "updated_at": "2023-10-25T13:46:33Z",
                "author_association": "COLLABORATOR",
                "body": "> A year has passed. The PG15 is outdated, I installed PG16 and get the same error:\r\n> \r\n> ```\r\n> ERROR: 2023/10/25 15:37:36.274535 unexpected response: &{%!t(string=ERROR) %!t(string=ERROR) %!t(string=42601) %!t(string=syntax error) %!t(string=) %!t(string=) %!t(int32=0) %!t(int32=0) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=repl_scanner.l) %!t(int32=247) %!t(string=replication_yyerror) map[]}\r\n> ```\r\n> \r\n> and the same workaround is working: `wal-g backup-push /var/lib/postgresql/16/cluster-psql-test`\r\n> \r\n> Relative #1248\r\n\r\nIt\u2019s not workaround. It\u2019s correct expected recommended syntax. The problem is we have a remote backup which tries to kick in\u2026 and that\u2019s kind of a bug.",
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/issues/comments/1779315292/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T13:46:34Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32837079195",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 24807060,
            "login": "IgorOhrimenko",
            "display_login": "IgorOhrimenko",
            "gravatar_id": "",
            "url": "https://api.github.com/users/IgorOhrimenko",
            "avatar_url": "https://avatars.githubusercontent.com/u/24807060?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/wal-g/wal-g/issues/1385",
                "repository_url": "https://api.github.com/repos/wal-g/wal-g",
                "labels_url": "https://api.github.com/repos/wal-g/wal-g/issues/1385/labels{/name}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1385/comments",
                "events_url": "https://api.github.com/repos/wal-g/wal-g/issues/1385/events",
                "html_url": "https://github.com/wal-g/wal-g/issues/1385",
                "id": 1461927078,
                "node_id": "I_kwDOBavIOM5XIzym",
                "number": 1385,
                "title": "backup-push does not work on the Postgresql 15/16 without $PGDATA in command line",
                "user": {
                    "login": "IgorOhrimenko",
                    "id": 24807060,
                    "node_id": "MDQ6VXNlcjI0ODA3MDYw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24807060?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/IgorOhrimenko",
                    "html_url": "https://github.com/IgorOhrimenko",
                    "followers_url": "https://api.github.com/users/IgorOhrimenko/followers",
                    "following_url": "https://api.github.com/users/IgorOhrimenko/following{/other_user}",
                    "gists_url": "https://api.github.com/users/IgorOhrimenko/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/IgorOhrimenko/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/IgorOhrimenko/subscriptions",
                    "organizations_url": "https://api.github.com/users/IgorOhrimenko/orgs",
                    "repos_url": "https://api.github.com/users/IgorOhrimenko/repos",
                    "events_url": "https://api.github.com/users/IgorOhrimenko/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/IgorOhrimenko/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 7,
                "created_at": "2022-11-23T15:05:46Z",
                "updated_at": "2023-10-25T13:39:01Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Database name\r\nPostgresql \r\n\r\n# Issue description\r\n\r\n### Describe your problem\r\nCommand backup-push does not work on the Postgresql 15 with error:\r\n```\r\nERROR: 2022/11/23 17:36:15.308547 unexpected response: &{%!t(string=ERROR) %!t(string=ERROR) %!t(string=42601) %!t(string=syntax error) %!t(string=) %!t(string=) %!t(int32=0) %!t(int32=0) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=repl_scanner.l) %!t(int32=237) %!t(string=replication_yyerror) map[]}:\r\n    github.com/jackc/pglogrepl.getBaseBackupInfo\r\n        /home/user/go/src/github.com/wal-g/wal-g/vendor/github.com/jackc/pglogrepl/pglogrepl.go:408\r\n```\r\n\r\nI try last v2.0.1 and compiled master 3d22cab3.\r\n\r\n### Please provide steps to reproduce\r\n\r\n```bash\r\nsudo -u postgres wal-g backup-push\r\n```\r\n\r\n### Please add config and wal-g stdout/stderr logs for debug purpose\r\n\r\n<details><summary>/var/lib/postgresql/.walg.json</summary>\r\n<p>\r\n\r\n```yaml\r\n{\r\n    \"WALG_LOG_LEVEL\": \"DEVEL\",\r\n    \"WALE_S3_PREFIX\": \"s3://backup_postgresql_wal-g/cluster-psql-test/15\",\r\n    \"AWS_ACCESS_KEY_ID\": \"backup_postgresql_wal-g\",\r\n    \"AWS_ENDPOINT\": \"https://s3\",\r\n    \"AWS_S3_FORCE_PATH_STYLE\": \"true\",\r\n    \"AWS_SECRET_ACCESS_KEY\": \"pass\",\r\n    \"AWS_REGION\": \"region\",\r\n    \"PGDATA\": \"/var/lib/postgresql/15/cluster-psql-test\",\r\n    \"PGHOST\": \"/var/run/postgresql\",\r\n    \"PGPORT\": \"5432\",\r\n    \"WALG_DELTA_MAX_STEPS\": \"7\",\r\n    \"WALG_PREFETCH_DIR\": \"/var/lib/postgresql/\",\r\n    \"WALG_TAR_SIZE_THRESHOLD\": \"4294967296\",\r\n    \"WALG_UPLOAD_CONCURRENCY\": \"10\",\r\n    \"WALG_COMPRESSION_METHOD\": \"brotli\"\r\n}\r\n```\r\n</p>\r\n</details>\r\n\r\n<details><summary>Full logs with \"WALG_LOG_LEVEL\": \"DEVEL\"</summary>\r\n<p>\r\n\r\n```bash\r\nDEBUG: 2022/11/23 17:36:15.281532 --- COMPILED ENVIRONMENT VARS ---\r\nDEBUG: 2022/11/23 17:36:15.281735 AWS_ACCESS_KEY=\r\nDEBUG: 2022/11/23 17:36:15.281786 AWS_ACCESS_KEY_ID=backup_postgresql_wal-g\r\nDEBUG: 2022/11/23 17:36:15.281833 AWS_CA_BUNDLE=\r\nDEBUG: 2022/11/23 17:36:15.281879 AWS_CONFIG_FILE=\r\nDEBUG: 2022/11/23 17:36:15.281930 AWS_DEFAULT_OUTPUT=\r\nDEBUG: 2022/11/23 17:36:15.281975 AWS_DEFAULT_REGION=\r\nDEBUG: 2022/11/23 17:36:15.282020 AWS_ENDPOINT=https://s3\r\nDEBUG: 2022/11/23 17:36:15.282067 AWS_PROFILE=\r\nDEBUG: 2022/11/23 17:36:15.282118 AWS_REGION=region\r\nDEBUG: 2022/11/23 17:36:15.282163 AWS_ROLE_ARN=\r\nDEBUG: 2022/11/23 17:36:15.282210 AWS_ROLE_SESSION_NAME=\r\nDEBUG: 2022/11/23 17:36:15.282256 AWS_S3_FORCE_PATH_STYLE=true\r\nDEBUG: 2022/11/23 17:36:15.282308 AWS_SECRET_ACCESS_KEY=pass\r\nDEBUG: 2022/11/23 17:36:15.282357 AWS_SECRET_KEY=\r\nDEBUG: 2022/11/23 17:36:15.282405 AWS_SESSION_TOKEN=\r\nDEBUG: 2022/11/23 17:36:15.282450 AWS_SHARED_CREDENTIALS_FILE=\r\nDEBUG: 2022/11/23 17:36:15.282499 AZURE_BUFFER_SIZE=\r\nDEBUG: 2022/11/23 17:36:15.282544 AZURE_ENDPOINT_SUFFIX=\r\nDEBUG: 2022/11/23 17:36:15.282591 AZURE_ENVIRONMENT_NAME=\r\nDEBUG: 2022/11/23 17:36:15.282637 AZURE_MAX_BUFFERS=\r\nDEBUG: 2022/11/23 17:36:15.282711 AZURE_STORAGE_ACCESS_KEY=\r\nDEBUG: 2022/11/23 17:36:15.282756 AZURE_STORAGE_ACCOUNT=\r\nDEBUG: 2022/11/23 17:36:15.282807 AZURE_STORAGE_SAS_TOKEN=\r\nDEBUG: 2022/11/23 17:36:15.282856 GCS_CONTEXT_TIMEOUT=\r\nDEBUG: 2022/11/23 17:36:15.282901 GCS_ENCRYPTION_KEY=\r\nDEBUG: 2022/11/23 17:36:15.282945 GCS_MAX_CHUNK_SIZE=\r\nDEBUG: 2022/11/23 17:36:15.282989 GCS_MAX_RETRIES=\r\nDEBUG: 2022/11/23 17:36:15.283045 GCS_NORMALIZE_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.283093 GOMAXPROCS=\r\nDEBUG: 2022/11/23 17:36:15.283137 GOOGLE_APPLICATION_CREDENTIALS=\r\nDEBUG: 2022/11/23 17:36:15.283185 HOME=/var/lib/postgresql\r\nDEBUG: 2022/11/23 17:36:15.283238 HTTP_EXPOSE_EXPVAR=\r\nDEBUG: 2022/11/23 17:36:15.283284 HTTP_EXPOSE_PPROF=\r\nDEBUG: 2022/11/23 17:36:15.283328 HTTP_LISTEN=\r\nDEBUG: 2022/11/23 17:36:15.283373 LANG=en_US.UTF-8\r\nDEBUG: 2022/11/23 17:36:15.283420 LC_ALL=C.UTF-8\r\nDEBUG: 2022/11/23 17:36:15.283465 LOGNAME=postgres\r\nDEBUG: 2022/11/23 17:36:15.283511 LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:\r\nDEBUG: 2022/11/23 17:36:15.283584 MAIL=/var/mail/postgres\r\nDEBUG: 2022/11/23 17:36:15.283642 OS_AUTH_URL=\r\nDEBUG: 2022/11/23 17:36:15.283688 OS_PASSWORD=\r\nDEBUG: 2022/11/23 17:36:15.283734 OS_REGION_NAME=\r\nDEBUG: 2022/11/23 17:36:15.283780 OS_TENANT_NAME=\r\nDEBUG: 2022/11/23 17:36:15.283826 OS_USERNAME=\r\nDEBUG: 2022/11/23 17:36:15.283872 PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\nDEBUG: 2022/11/23 17:36:15.283934 PGBACKREST_STANZA=main\r\nDEBUG: 2022/11/23 17:36:15.283980 PGDATA=/var/lib/postgresql/15/cluster-psql-test\r\nDEBUG: 2022/11/23 17:36:15.284027 PGDATABASE=\r\nDEBUG: 2022/11/23 17:36:15.284072 PGHOST=/var/run/postgresql\r\nDEBUG: 2022/11/23 17:36:15.284117 PGPASSFILE=\r\nDEBUG: 2022/11/23 17:36:15.284163 PGPASSWORD=\r\nDEBUG: 2022/11/23 17:36:15.284213 PGPORT=5432\r\nDEBUG: 2022/11/23 17:36:15.284262 PGSSLMODE=\r\nDEBUG: 2022/11/23 17:36:15.284305 PGUSER=\r\nDEBUG: 2022/11/23 17:36:15.284349 PG_READY_RENAME=\r\nDEBUG: 2022/11/23 17:36:15.284403 PROFILE_MODE=\r\nDEBUG: 2022/11/23 17:36:15.284449 PROFILE_PATH=\r\nDEBUG: 2022/11/23 17:36:15.284493 PROFILE_SAMPLING_RATIO=\r\nDEBUG: 2022/11/23 17:36:15.284537 S3_CA_CERT_FILE=\r\nDEBUG: 2022/11/23 17:36:15.284586 S3_ENDPOINT_PORT=\r\nDEBUG: 2022/11/23 17:36:15.284632 S3_ENDPOINT_SOURCE=\r\nDEBUG: 2022/11/23 17:36:15.284677 S3_LOG_LEVEL=\r\nDEBUG: 2022/11/23 17:36:15.284721 S3_MAX_PART_SIZE=\r\nDEBUG: 2022/11/23 17:36:15.284776 S3_MAX_RETRIES=\r\nDEBUG: 2022/11/23 17:36:15.284821 S3_RANGE_BATCH_ENABLED=\r\nDEBUG: 2022/11/23 17:36:15.284867 S3_RANGE_MAX_RETRIES=\r\nDEBUG: 2022/11/23 17:36:15.284913 S3_SSE=\r\nDEBUG: 2022/11/23 17:36:15.284968 S3_SSE_C=\r\nDEBUG: 2022/11/23 17:36:15.285014 S3_SSE_KMS_ID=\r\nDEBUG: 2022/11/23 17:36:15.285057 S3_STORAGE_CLASS=\r\nDEBUG: 2022/11/23 17:36:15.285101 S3_USE_LIST_OBJECTS_V1=\r\nDEBUG: 2022/11/23 17:36:15.285150 S3_USE_YC_SESSION_TOKEN=\r\nDEBUG: 2022/11/23 17:36:15.285195 SHELL=/bin/bash\r\nDEBUG: 2022/11/23 17:36:15.285239 SSH_PASSWORD=\r\nDEBUG: 2022/11/23 17:36:15.285282 SSH_PORT=\r\nDEBUG: 2022/11/23 17:36:15.285336 SSH_PRIVATE_KEY_PATH=\r\nDEBUG: 2022/11/23 17:36:15.285381 SSH_USERNAME=\r\nDEBUG: 2022/11/23 17:36:15.285426 SUDO_COMMAND=/home/user/go/src/github.com/wal-g/wal-g/main/pg/wal-g backup-push\r\nDEBUG: 2022/11/23 17:36:15.285470 SUDO_GID=0\r\nDEBUG: 2022/11/23 17:36:15.285523 SUDO_UID=0\r\nDEBUG: 2022/11/23 17:36:15.285569 SUDO_USER=root\r\nDEBUG: 2022/11/23 17:36:15.285612 TERM=xterm-256color\r\nDEBUG: 2022/11/23 17:36:15.285657 TOTAL_BG_UPLOADED_LIMIT=32\r\nDEBUG: 2022/11/23 17:36:15.285706 UPLOAD_CONCURRENCY=\r\nDEBUG: 2022/11/23 17:36:15.285751 USER=postgres\r\nDEBUG: 2022/11/23 17:36:15.285798 WALE_GPG_KEY_ID=\r\nDEBUG: 2022/11/23 17:36:15.285842 WALE_S3_PREFIX=s3://backup_postgresql_wal-g/cluster-psql-test/15\r\nDEBUG: 2022/11/23 17:36:15.285892 WALG_ALIVE_CHECK_INTERVAL=\r\nDEBUG: 2022/11/23 17:36:15.285936 WALG_AZURE_BUFFER_SIZE=\r\nDEBUG: 2022/11/23 17:36:15.285980 WALG_AZURE_MAX_BUFFERS=\r\nDEBUG: 2022/11/23 17:36:15.286025 WALG_AZ_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286074 WALG_COMPRESSION_METHOD=brotli\r\nDEBUG: 2022/11/23 17:36:15.286119 WALG_CSE_KMS_ID=\r\nDEBUG: 2022/11/23 17:36:15.286163 WALG_CSE_KMS_REGION=\r\nDEBUG: 2022/11/23 17:36:15.286206 WALG_DELTA_FROM_NAME=\r\nDEBUG: 2022/11/23 17:36:15.286255 WALG_DELTA_FROM_USER_DATA=\r\nDEBUG: 2022/11/23 17:36:15.286299 WALG_DELTA_MAX_STEPS=7\r\nDEBUG: 2022/11/23 17:36:15.286344 WALG_DELTA_ORIGIN=\r\nDEBUG: 2022/11/23 17:36:15.286388 WALG_DISK_RATE_LIMIT=\r\nDEBUG: 2022/11/23 17:36:15.286437 WALG_DOWNLOAD_CONCURRENCY=10\r\nDEBUG: 2022/11/23 17:36:15.286482 WALG_FETCH_TARGET_USER_DATA=\r\nDEBUG: 2022/11/23 17:36:15.286525 WALG_FILE_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286536 WALG_GPG_KEY_ID=\r\nDEBUG: 2022/11/23 17:36:15.286541 WALG_GS_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286547 WALG_INTEGRITY_MAX_DELAYED_WALS=0\r\nDEBUG: 2022/11/23 17:36:15.286553 WALG_LIBSODIUM_KEY=\r\nDEBUG: 2022/11/23 17:36:15.286580 WALG_LIBSODIUM_KEY_PATH=\r\nDEBUG: 2022/11/23 17:36:15.286589 WALG_LIBSODIUM_KEY_TRANSFORM=none\r\nDEBUG: 2022/11/23 17:36:15.286595 WALG_LOG_LEVEL=DEVEL\r\nDEBUG: 2022/11/23 17:36:15.286600 WALG_NETWORK_RATE_LIMIT=\r\nDEBUG: 2022/11/23 17:36:15.286628 WALG_PGP_KEY=\r\nDEBUG: 2022/11/23 17:36:15.286635 WALG_PGP_KEY_PASSPHRASE=\r\nDEBUG: 2022/11/23 17:36:15.286641 WALG_PGP_KEY_PATH=\r\nDEBUG: 2022/11/23 17:36:15.286646 WALG_PG_WAL_SIZE=16\r\nDEBUG: 2022/11/23 17:36:15.286673 WALG_PREFETCH_DIR=/var/lib/postgresql/\r\nDEBUG: 2022/11/23 17:36:15.286715 WALG_PREVENT_WAL_OVERWRITE=false\r\nDEBUG: 2022/11/23 17:36:15.286725 WALG_S3_CA_CERT_FILE=\r\nDEBUG: 2022/11/23 17:36:15.286731 WALG_S3_MAX_PART_SIZE=\r\nDEBUG: 2022/11/23 17:36:15.286737 WALG_S3_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286742 WALG_S3_SSE=\r\nDEBUG: 2022/11/23 17:36:15.286767 WALG_S3_SSE_C=\r\nDEBUG: 2022/11/23 17:36:15.286776 WALG_S3_SSE_KMS_ID=\r\nDEBUG: 2022/11/23 17:36:15.286782 WALG_S3_STORAGE_CLASS=\r\nDEBUG: 2022/11/23 17:36:15.286787 WALG_SENTINEL_USER_DATA=\r\nDEBUG: 2022/11/23 17:36:15.286811 WALG_SERIALIZER_TYPE=json_default\r\nDEBUG: 2022/11/23 17:36:15.286820 WALG_SKIP_REDUNDANT_TARS=false\r\nDEBUG: 2022/11/23 17:36:15.286826 WALG_SLOTNAME=\r\nDEBUG: 2022/11/23 17:36:15.286850 WALG_SSH_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286859 WALG_STATSD_ADDRESS=\r\nDEBUG: 2022/11/23 17:36:15.286864 WALG_STOP_BACKUP_TIMEOUT=\r\nDEBUG: 2022/11/23 17:36:15.286870 WALG_STORAGE_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286900 WALG_STORE_ALL_CORRUPT_BLOCKS=false\r\nDEBUG: 2022/11/23 17:36:15.286907 WALG_STREAM_CREATE_COMMAND=\r\nDEBUG: 2022/11/23 17:36:15.286913 WALG_STREAM_RESTORE_COMMAND=\r\nDEBUG: 2022/11/23 17:36:15.286919 WALG_SWIFT_PREFIX=\r\nDEBUG: 2022/11/23 17:36:15.286943 WALG_TAR_DISABLE_FSYNC=false\r\nDEBUG: 2022/11/23 17:36:15.286952 WALG_TAR_SIZE_THRESHOLD=4294967296\r\nDEBUG: 2022/11/23 17:36:15.286958 WALG_UPLOAD_CONCURRENCY=10\r\nDEBUG: 2022/11/23 17:36:15.286964 WALG_UPLOAD_DISK_CONCURRENCY=1\r\nDEBUG: 2022/11/23 17:36:15.286991 WALG_UPLOAD_QUEUE=2\r\nDEBUG: 2022/11/23 17:36:15.286997 WALG_UPLOAD_WAL_METADATA=NOMETADATA\r\nDEBUG: 2022/11/23 17:36:15.287003 WALG_USE_COPY_COMPOSER=false\r\nDEBUG: 2022/11/23 17:36:15.287026 WALG_USE_RATING_COMPOSER=false\r\nDEBUG: 2022/11/23 17:36:15.287036 WALG_USE_REVERSE_UNPACK=false\r\nDEBUG: 2022/11/23 17:36:15.287042 WALG_USE_WAL_DELTA=false\r\nDEBUG: 2022/11/23 17:36:15.287048 WALG_VERIFY_PAGE_CHECKSUMS=false\r\nDEBUG: 2022/11/23 17:36:15.287054 WALG_WITHOUT_FILES_METADATA=false\r\nDEBUG: 2022/11/23 17:36:15.287090 YC_CSE_KMS_KEY_ID=\r\nDEBUG: 2022/11/23 17:36:15.287096 YC_SERVICE_ACCOUNT_KEY_FILE=\r\nDEBUG: 2022/11/23 17:36:15.287548 Initializing tmp connection to read Postgres info\r\nWARNING: 2022/11/23 17:36:15.301291 It seems your archive_mode is not enabled. This will cause inconsistent backup. Please consider configuring WAL archiving.\r\nDEBUG: 2022/11/23 17:36:15.302755 Datadir: /var/lib/postgresql/15/cluster-psql-test\r\nDEBUG: 2022/11/23 17:36:15.302952 Postgres version: 150001\r\nDEBUG: 2022/11/23 17:36:15.303149 Postgres SystemIdentifier: 150001\r\nDEBUG: 2022/11/23 17:36:15.304919 Base backup folder: &{{%!s(*s3manager.Uploader=&{20971520 10 false 10000 0xc000010748 [] <nil> 0xc0002de9b0})    STANDARD} %!s(*s3.S3=&{0xc000967180}) %!s(*string=0xc0003d3c60) cluster-psql-test/15/basebackups_005/ map[AWS_ACCESS_KEY_ID:backup_postgresql_wal-g AWS_ENDPOINT:https://s3 AWS_REGION:region AWS_S3_FORCE_PATH_STYLE:true AWS_SECRET_ACCESS_KEY:pass UPLOAD_CONCURRENCY:10] %!s(bool=false)}\r\nINFO: 2022/11/23 17:36:15.304931 Running remote backup through Postgres connection.\r\nINFO: 2022/11/23 17:36:15.304934 Features like delta backup are disabled, there might be a performance impact.\r\nINFO: 2022/11/23 17:36:15.304936 To run with local backup functionalities, supply [db_directory].\r\nDEBUG: 2022/11/23 17:36:15.304946 Uploading folder: &{{%!s(*s3manager.Uploader=&{20971520 10 false 10000 0xc000010748 [] <nil> 0xc0002de9b0})    STANDARD} %!s(*s3.S3=&{0xc000967180}) %!s(*string=0xc0003d3d50) cluster-psql-test/15/basebackups_005/ map[AWS_ACCESS_KEY_ID:backup_postgresql_wal-g AWS_ENDPOINT:https://s3 AWS_REGION:region AWS_S3_FORCE_PATH_STYLE:true AWS_SECRET_ACCESS_KEY:pass UPLOAD_CONCURRENCY:10] %!s(bool=false)}\r\nDEBUG: 2022/11/23 17:36:15.304954 Connecting to Postgres (replication connection)\r\nINFO: 2022/11/23 17:36:15.306780 Starting remote backup\r\nERROR: 2022/11/23 17:36:15.308547 unexpected response: &{%!t(string=ERROR) %!t(string=ERROR) %!t(string=42601) %!t(string=syntax error) %!t(string=) %!t(string=) %!t(int32=0) %!t(int32=0) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=repl_scanner.l) %!t(int32=237) %!t(string=replication_yyerror) map[]}:\r\n    github.com/jackc/pglogrepl.getBaseBackupInfo\r\n        /home/user/go/src/github.com/wal-g/wal-g/vendor/github.com/jackc/pglogrepl/pglogrepl.go:408\r\n```\r\n</p>\r\n</details>\r\n\r\n<details><summary>\\dconfig</summary>\r\n<p>\r\n\r\n```bash\r\n                     List of non-default configuration parameters\r\n         Parameter          |                          Value\r\n----------------------------+----------------------------------------------------------\r\n application_name           | psql\r\n archive_command            | exit 0\r\n archive_mode               | on\r\n archive_timeout            | 1min\r\n cluster_name               | cluster-psql-test-15\r\n config_file                | /var/lib/postgresql/15/cluster-psql-test/postgresql.conf\r\n data_directory             | /var/lib/postgresql/15/cluster-psql-test\r\n default_text_search_config | pg_catalog.english\r\n effective_cache_size       | 1685MB\r\n effective_io_concurrency   | 200\r\n hba_file                   | /var/lib/postgresql/15/cluster-psql-test/pg_hba.conf\r\n ident_file                 | /var/lib/postgresql/15/cluster-psql-test/pg_ident.conf\r\n lc_messages                | en_US.UTF-8\r\n lc_monetary                | en_US.UTF-8\r\n lc_numeric                 | en_US.UTF-8\r\n lc_time                    | en_US.UTF-8\r\n listen_addresses           | 127.0.0.1,10.10.10.10\r\n log_directory              | /var/log/postgresql\r\n log_filename               | cluster-psql-test.log\r\n logging_collector          | on\r\n log_min_duration_statement | 5s\r\n log_rotation_age           | 0\r\n log_rotation_size          | 0\r\n log_timezone               | Europe/Moscow\r\n maintenance_work_mem       | 198MB\r\n max_connections            | 500\r\n max_wal_size               | 2GB\r\n min_wal_size               | 1GB\r\n pg_stat_statements.max     | 10000\r\n pg_stat_statements.track   | all\r\n random_page_cost           | 1.1\r\n shared_buffers             | 991MB\r\n shared_preload_libraries   | pg_stat_statements\r\n TimeZone                   | Europe/Moscow\r\n unix_socket_directories    | /var/run/postgresql/\r\n wal_buffers                | 16MB\r\n wal_keep_size              | 2GB\r\n wal_level                  | logical\r\n wal_log_hints              | on\r\n work_mem                   | 2MB\r\n(40 rows)\r\n```\r\n</p>\r\n</details>\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/issues/1385/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/wal-g/wal-g/issues/1385/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/wal-g/wal-g/issues/comments/1779299691",
                "html_url": "https://github.com/wal-g/wal-g/issues/1385#issuecomment-1779299691",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1385",
                "id": 1779299691,
                "node_id": "IC_kwDOBavIOM5qDfVr",
                "user": {
                    "login": "IgorOhrimenko",
                    "id": 24807060,
                    "node_id": "MDQ6VXNlcjI0ODA3MDYw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24807060?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/IgorOhrimenko",
                    "html_url": "https://github.com/IgorOhrimenko",
                    "followers_url": "https://api.github.com/users/IgorOhrimenko/followers",
                    "following_url": "https://api.github.com/users/IgorOhrimenko/following{/other_user}",
                    "gists_url": "https://api.github.com/users/IgorOhrimenko/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/IgorOhrimenko/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/IgorOhrimenko/subscriptions",
                    "organizations_url": "https://api.github.com/users/IgorOhrimenko/orgs",
                    "repos_url": "https://api.github.com/users/IgorOhrimenko/repos",
                    "events_url": "https://api.github.com/users/IgorOhrimenko/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/IgorOhrimenko/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T13:39:00Z",
                "updated_at": "2023-10-25T13:39:00Z",
                "author_association": "NONE",
                "body": "A year has passed.\r\nThe PG15 is outdated, I installed PG16 and get the same error:\r\n```\r\nERROR: 2023/10/25 15:37:36.274535 unexpected response: &{%!t(string=ERROR) %!t(string=ERROR) %!t(string=42601) %!t(string=syntax error) %!t(string=) %!t(string=) %!t(int32=0) %!t(int32=0) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=) %!t(string=repl_scanner.l) %!t(int32=247) %!t(string=replication_yyerror) map[]}\r\n```\r\nand the same workaround is working:\r\n`wal-g backup-push /var/lib/postgresql/16/cluster-psql-test`\r\n\r\nRelative https://github.com/wal-g/wal-g/issues/1248",
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/issues/comments/1779299691/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T13:39:01Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32834883233",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 1651873,
            "login": "VGoshev",
            "display_login": "VGoshev",
            "gravatar_id": "",
            "url": "https://api.github.com/users/VGoshev",
            "avatar_url": "https://avatars.githubusercontent.com/u/1651873?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1697213179,
                "node_id": "PRR_kwDOBavIOM5lKWr7",
                "user": {
                    "login": "VGoshev",
                    "id": 1651873,
                    "node_id": "MDQ6VXNlcjE2NTE4NzM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1651873?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/VGoshev",
                    "html_url": "https://github.com/VGoshev",
                    "followers_url": "https://api.github.com/users/VGoshev/followers",
                    "following_url": "https://api.github.com/users/VGoshev/following{/other_user}",
                    "gists_url": "https://api.github.com/users/VGoshev/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/VGoshev/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/VGoshev/subscriptions",
                    "organizations_url": "https://api.github.com/users/VGoshev/orgs",
                    "repos_url": "https://api.github.com/users/VGoshev/repos",
                    "events_url": "https://api.github.com/users/VGoshev/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/VGoshev/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "0937044cb20cdc5e50196df5b7610870cd3703b5",
                "submitted_at": "2023-10-25T12:32:43Z",
                "state": "approved",
                "html_url": "https://github.com/wal-g/wal-g/pull/1583#pullrequestreview-1697213179",
                "pull_request_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1583",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1583#pullrequestreview-1697213179"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1583"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/wal-g/wal-g/pulls/1583",
                "id": 1567453196,
                "node_id": "PR_kwDOBavIOM5dbXAM",
                "html_url": "https://github.com/wal-g/wal-g/pull/1583",
                "diff_url": "https://github.com/wal-g/wal-g/pull/1583.diff",
                "patch_url": "https://github.com/wal-g/wal-g/pull/1583.patch",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1583",
                "number": 1583,
                "state": "open",
                "locked": false,
                "title": "Add MongoDB 7.0 support. Remove MongoDB 4.2 support. Fix dropIndexes operation replay.",
                "user": {
                    "login": "dapqa",
                    "id": 11426109,
                    "node_id": "MDQ6VXNlcjExNDI2MTA5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/11426109?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dapqa",
                    "html_url": "https://github.com/dapqa",
                    "followers_url": "https://api.github.com/users/dapqa/followers",
                    "following_url": "https://api.github.com/users/dapqa/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dapqa/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dapqa/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dapqa/subscriptions",
                    "organizations_url": "https://api.github.com/users/dapqa/orgs",
                    "repos_url": "https://api.github.com/users/dapqa/repos",
                    "events_url": "https://api.github.com/users/dapqa/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dapqa/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Database name\r\nMongoDB\r\n\r\n# Pull request description\r\n\r\n## Added MongoDB 7.0 support and removed MongoDB 4.2 support\r\n\r\n* bumped Ubuntu version to `focal` in base image for functional tests (`focal` is supported by all the Mongo versions from 4.4 to 7.0)\r\n* added separate test configs for Mongo 4.4-6.0 and 6.1-7.0 (since starting from version 6.1, the `storage.journal.enabled` option is always `true` and no longer valid in config)\r\n* removed `mongodb-database-tools` from `Dockerfile.mongodb` (since it was needed only for Mongo 4.2 and older)\r\n* added test config file for WAL-G & Mongo 7.0\r\n* added Mongo 7.0.2 test to a GitHub Actions pipeline\r\n\r\n## Fixed `dropIndexes` operations replay\r\n\r\nTo replay a `dropIndexes` operation using the `applyOps` command, MongoDB needs the collection UUID (the `ui` field in an oplog document).\r\nHowever, WAL-G erases all UUIDs before pushing an oplog.\r\nThis is a correct strategy (since operations are meant to be replayable without UUIDs), but it clashes with the current Mongo behavior when dropping indexes.\r\n\r\nIn Mongo versions prior to 7.0, such a command (without UUID) has no effect: it completes successfully, but no indexes are dropped.\r\nIn Mongo 7.0.1-7.0.2, there is a [bug](https://jira.mongodb.org/browse/SERVER-82349) that leads to server crash on such commands.\r\n\r\nSo, this PR solves two issues:\r\n* it fixes `dropIndexes` operation replay on all the Mongo versions (by handling them separately, without using `applyOps`)\r\n* it helps support Mongo 7.0, since without this fix an oplog replay may crash the server thread and drop the connection\r\n\r\nBefore this PR, index drop and corresponding collection drop were performed in a single scenario step, so we did not catch this bug earlier.\r\nIn this commit, new steps are added to verify that an index is dropped correctly.\r\n\r\nSince index drop works now, we can face a `BackgroundOperationInProgressForNamespace` on Mongo versions prior to 5.2.\r\nIgnored this error and documented this behavior.",
                "created_at": "2023-10-20T23:47:56Z",
                "updated_at": "2023-10-25T12:32:44Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "33e11e601bfabf0d791c5a1da816504e82750ca5",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "KhurtinDN",
                        "id": 320987,
                        "node_id": "MDQ6VXNlcjMyMDk4Nw==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/320987?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/KhurtinDN",
                        "html_url": "https://github.com/KhurtinDN",
                        "followers_url": "https://api.github.com/users/KhurtinDN/followers",
                        "following_url": "https://api.github.com/users/KhurtinDN/following{/other_user}",
                        "gists_url": "https://api.github.com/users/KhurtinDN/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/KhurtinDN/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/KhurtinDN/subscriptions",
                        "organizations_url": "https://api.github.com/users/KhurtinDN/orgs",
                        "repos_url": "https://api.github.com/users/KhurtinDN/repos",
                        "events_url": "https://api.github.com/users/KhurtinDN/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/KhurtinDN/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "Apelsin234",
                        "id": 24853153,
                        "node_id": "MDQ6VXNlcjI0ODUzMTUz",
                        "avatar_url": "https://avatars.githubusercontent.com/u/24853153?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/Apelsin234",
                        "html_url": "https://github.com/Apelsin234",
                        "followers_url": "https://api.github.com/users/Apelsin234/followers",
                        "following_url": "https://api.github.com/users/Apelsin234/following{/other_user}",
                        "gists_url": "https://api.github.com/users/Apelsin234/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/Apelsin234/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/Apelsin234/subscriptions",
                        "organizations_url": "https://api.github.com/users/Apelsin234/orgs",
                        "repos_url": "https://api.github.com/users/Apelsin234/repos",
                        "events_url": "https://api.github.com/users/Apelsin234/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/Apelsin234/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "perekalov",
                        "id": 39157301,
                        "node_id": "MDQ6VXNlcjM5MTU3MzAx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/39157301?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/perekalov",
                        "html_url": "https://github.com/perekalov",
                        "followers_url": "https://api.github.com/users/perekalov/followers",
                        "following_url": "https://api.github.com/users/perekalov/following{/other_user}",
                        "gists_url": "https://api.github.com/users/perekalov/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/perekalov/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/perekalov/subscriptions",
                        "organizations_url": "https://api.github.com/users/perekalov/orgs",
                        "repos_url": "https://api.github.com/users/perekalov/repos",
                        "events_url": "https://api.github.com/users/perekalov/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/perekalov/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1583/commits",
                "review_comments_url": "https://api.github.com/repos/wal-g/wal-g/pulls/1583/comments",
                "review_comment_url": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1583/comments",
                "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/0937044cb20cdc5e50196df5b7610870cd3703b5",
                "head": {
                    "label": "dapqa:feature/mongo-versions-bump-and-drop-trigger-replay",
                    "ref": "feature/mongo-versions-bump-and-drop-trigger-replay",
                    "sha": "0937044cb20cdc5e50196df5b7610870cd3703b5",
                    "user": {
                        "login": "dapqa",
                        "id": 11426109,
                        "node_id": "MDQ6VXNlcjExNDI2MTA5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/11426109?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/dapqa",
                        "html_url": "https://github.com/dapqa",
                        "followers_url": "https://api.github.com/users/dapqa/followers",
                        "following_url": "https://api.github.com/users/dapqa/following{/other_user}",
                        "gists_url": "https://api.github.com/users/dapqa/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/dapqa/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/dapqa/subscriptions",
                        "organizations_url": "https://api.github.com/users/dapqa/orgs",
                        "repos_url": "https://api.github.com/users/dapqa/repos",
                        "events_url": "https://api.github.com/users/dapqa/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/dapqa/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 706280705,
                        "node_id": "R_kgDOKhj9AQ",
                        "name": "wal-g",
                        "full_name": "dapqa/wal-g",
                        "private": false,
                        "owner": {
                            "login": "dapqa",
                            "id": 11426109,
                            "node_id": "MDQ6VXNlcjExNDI2MTA5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/11426109?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/dapqa",
                            "html_url": "https://github.com/dapqa",
                            "followers_url": "https://api.github.com/users/dapqa/followers",
                            "following_url": "https://api.github.com/users/dapqa/following{/other_user}",
                            "gists_url": "https://api.github.com/users/dapqa/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/dapqa/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/dapqa/subscriptions",
                            "organizations_url": "https://api.github.com/users/dapqa/orgs",
                            "repos_url": "https://api.github.com/users/dapqa/repos",
                            "events_url": "https://api.github.com/users/dapqa/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/dapqa/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/dapqa/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": true,
                        "url": "https://api.github.com/repos/dapqa/wal-g",
                        "forks_url": "https://api.github.com/repos/dapqa/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/dapqa/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/dapqa/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/dapqa/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/dapqa/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/dapqa/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/dapqa/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/dapqa/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/dapqa/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/dapqa/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/dapqa/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/dapqa/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/dapqa/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/dapqa/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/dapqa/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/dapqa/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/dapqa/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/dapqa/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/dapqa/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/dapqa/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/dapqa/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/dapqa/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/dapqa/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/dapqa/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/dapqa/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/dapqa/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/dapqa/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/dapqa/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/dapqa/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/dapqa/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/dapqa/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/dapqa/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/dapqa/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/dapqa/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/dapqa/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/dapqa/wal-g/deployments",
                        "created_at": "2023-10-17T16:28:05Z",
                        "updated_at": "2023-10-18T10:20:55Z",
                        "pushed_at": "2023-10-22T01:29:18Z",
                        "git_url": "git://github.com/dapqa/wal-g.git",
                        "ssh_url": "git@github.com:dapqa/wal-g.git",
                        "clone_url": "https://github.com/dapqa/wal-g.git",
                        "svn_url": "https://github.com/dapqa/wal-g",
                        "homepage": "",
                        "size": 89900,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "wal-g:master",
                    "ref": "master",
                    "sha": "2e0d92cfb06acbf3f19ce8963ebe1085479083d6",
                    "user": {
                        "login": "wal-g",
                        "id": 31082131,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                        "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/wal-g",
                        "html_url": "https://github.com/wal-g",
                        "followers_url": "https://api.github.com/users/wal-g/followers",
                        "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                        "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                        "organizations_url": "https://api.github.com/users/wal-g/orgs",
                        "repos_url": "https://api.github.com/users/wal-g/repos",
                        "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/wal-g/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 95143992,
                        "node_id": "MDEwOlJlcG9zaXRvcnk5NTE0Mzk5Mg==",
                        "name": "wal-g",
                        "full_name": "wal-g/wal-g",
                        "private": false,
                        "owner": {
                            "login": "wal-g",
                            "id": 31082131,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxMDgyMTMx",
                            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/wal-g",
                            "html_url": "https://github.com/wal-g",
                            "followers_url": "https://api.github.com/users/wal-g/followers",
                            "following_url": "https://api.github.com/users/wal-g/following{/other_user}",
                            "gists_url": "https://api.github.com/users/wal-g/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/wal-g/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/wal-g/subscriptions",
                            "organizations_url": "https://api.github.com/users/wal-g/orgs",
                            "repos_url": "https://api.github.com/users/wal-g/repos",
                            "events_url": "https://api.github.com/users/wal-g/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/wal-g/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/wal-g/wal-g",
                        "description": "Archival and Restoration for databases in the Cloud",
                        "fork": false,
                        "url": "https://api.github.com/repos/wal-g/wal-g",
                        "forks_url": "https://api.github.com/repos/wal-g/wal-g/forks",
                        "keys_url": "https://api.github.com/repos/wal-g/wal-g/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/wal-g/wal-g/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/wal-g/wal-g/teams",
                        "hooks_url": "https://api.github.com/repos/wal-g/wal-g/hooks",
                        "issue_events_url": "https://api.github.com/repos/wal-g/wal-g/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/wal-g/wal-g/events",
                        "assignees_url": "https://api.github.com/repos/wal-g/wal-g/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/wal-g/wal-g/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/wal-g/wal-g/tags",
                        "blobs_url": "https://api.github.com/repos/wal-g/wal-g/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/wal-g/wal-g/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/wal-g/wal-g/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/wal-g/wal-g/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/wal-g/wal-g/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/wal-g/wal-g/languages",
                        "stargazers_url": "https://api.github.com/repos/wal-g/wal-g/stargazers",
                        "contributors_url": "https://api.github.com/repos/wal-g/wal-g/contributors",
                        "subscribers_url": "https://api.github.com/repos/wal-g/wal-g/subscribers",
                        "subscription_url": "https://api.github.com/repos/wal-g/wal-g/subscription",
                        "commits_url": "https://api.github.com/repos/wal-g/wal-g/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/wal-g/wal-g/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/wal-g/wal-g/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/wal-g/wal-g/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/wal-g/wal-g/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/wal-g/wal-g/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/wal-g/wal-g/merges",
                        "archive_url": "https://api.github.com/repos/wal-g/wal-g/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/wal-g/wal-g/downloads",
                        "issues_url": "https://api.github.com/repos/wal-g/wal-g/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/wal-g/wal-g/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/wal-g/wal-g/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/wal-g/wal-g/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/wal-g/wal-g/labels{/name}",
                        "releases_url": "https://api.github.com/repos/wal-g/wal-g/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/wal-g/wal-g/deployments",
                        "created_at": "2017-06-22T18:16:19Z",
                        "updated_at": "2023-10-24T11:30:42Z",
                        "pushed_at": "2023-10-22T01:29:20Z",
                        "git_url": "git://github.com/wal-g/wal-g.git",
                        "ssh_url": "git@github.com:wal-g/wal-g.git",
                        "clone_url": "https://github.com/wal-g/wal-g.git",
                        "svn_url": "https://github.com/wal-g/wal-g",
                        "homepage": "",
                        "size": 101555,
                        "stargazers_count": 2733,
                        "watchers_count": 2733,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 393,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 255,
                        "license": {
                            "key": "other",
                            "name": "Other",
                            "spdx_id": "NOASSERTION",
                            "url": null,
                            "node_id": "MDc6TGljZW5zZTA="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "archiving",
                            "aws",
                            "aws-s3",
                            "azure",
                            "azure-storage",
                            "backup",
                            "cloud",
                            "go",
                            "golang",
                            "greenplum",
                            "mariadb",
                            "mongodb",
                            "mysql",
                            "postgres",
                            "postgresql",
                            "redis",
                            "s3",
                            "sqlserver"
                        ],
                        "visibility": "public",
                        "forks": 393,
                        "open_issues": 255,
                        "watchers": 2733,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1583"
                    },
                    "html": {
                        "href": "https://github.com/wal-g/wal-g/pull/1583"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1583"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/issues/1583/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1583/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/pulls/1583/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/wal-g/wal-g/statuses/0937044cb20cdc5e50196df5b7610870cd3703b5"
                    }
                },
                "author_association": "NONE",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T12:32:44Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32800927557",
        "type": "WatchEvent",
        "actor": {
            "id": 1607147,
            "login": "boga",
            "display_login": "boga",
            "gravatar_id": "",
            "url": "https://api.github.com/users/boga",
            "avatar_url": "https://avatars.githubusercontent.com/u/1607147?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-24T11:30:42Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32789858964",
        "type": "WatchEvent",
        "actor": {
            "id": 40402518,
            "login": "thashimoto1998",
            "display_login": "thashimoto1998",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thashimoto1998",
            "avatar_url": "https://avatars.githubusercontent.com/u/40402518?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-24T02:12:57Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32789604568",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 11609678,
            "login": "godzilla-s",
            "display_login": "godzilla-s",
            "gravatar_id": "",
            "url": "https://api.github.com/users/godzilla-s",
            "avatar_url": "https://avatars.githubusercontent.com/u/11609678?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/wal-g/wal-g/issues/1584",
                "repository_url": "https://api.github.com/repos/wal-g/wal-g",
                "labels_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/labels{/name}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/comments",
                "events_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/events",
                "html_url": "https://github.com/wal-g/wal-g/issues/1584",
                "id": 1956772143,
                "node_id": "I_kwDOBavIOM50ofkv",
                "number": 1584,
                "title": "upload file stuck when I set AWS_SECRET_ACCESS_KEY to empty ",
                "user": {
                    "login": "godzilla-s",
                    "id": 11609678,
                    "node_id": "MDQ6VXNlcjExNjA5Njc4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/11609678?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/godzilla-s",
                    "html_url": "https://github.com/godzilla-s",
                    "followers_url": "https://api.github.com/users/godzilla-s/followers",
                    "following_url": "https://api.github.com/users/godzilla-s/following{/other_user}",
                    "gists_url": "https://api.github.com/users/godzilla-s/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/godzilla-s/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/godzilla-s/subscriptions",
                    "organizations_url": "https://api.github.com/users/godzilla-s/orgs",
                    "repos_url": "https://api.github.com/users/godzilla-s/repos",
                    "events_url": "https://api.github.com/users/godzilla-s/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/godzilla-s/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2023-10-23T09:46:26Z",
                "updated_at": "2023-10-24T01:55:40Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Database name\r\nWal-g provides support for many databases, please write down name of database you uses.\r\n\r\n# Issue description\r\n\r\n### Describe your problem\r\nWhen I set AWS_SECRET_ACCESS_KEY to empty, and execute `wal-g wal-push` to upload file to S3 bucket, it stuck. I debug it and print the message, it show:\r\n```\r\ncause by: Put \"http://169.254.169.254/latest/api/token\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)\r\n```\r\n\r\nI tested it in an offline network environment\uff08can not access website\uff09\r\n\r\nso should `AWS_SECRET_ACCESS_KEY` must be set? \r\n\r\n### Please provide steps to reproduce\r\n// it can really help\r\n\r\n### Please add config and wal-g stdout/stderr logs for debug purpose\r\n\r\nalso you can use WALG_LOG_LEVEL=DEVEL for logs collecting\r\n\r\n<details><summary>If you can, provide logs</summary>\r\n<p>\r\n```bash\r\nany logs here\r\n```\r\n</p>\r\n</details>\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/wal-g/wal-g/issues/comments/1776361882",
                "html_url": "https://github.com/wal-g/wal-g/issues/1584#issuecomment-1776361882",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584",
                "id": 1776361882,
                "node_id": "IC_kwDOBavIOM5p4SGa",
                "user": {
                    "login": "godzilla-s",
                    "id": 11609678,
                    "node_id": "MDQ6VXNlcjExNjA5Njc4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/11609678?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/godzilla-s",
                    "html_url": "https://github.com/godzilla-s",
                    "followers_url": "https://api.github.com/users/godzilla-s/followers",
                    "following_url": "https://api.github.com/users/godzilla-s/following{/other_user}",
                    "gists_url": "https://api.github.com/users/godzilla-s/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/godzilla-s/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/godzilla-s/subscriptions",
                    "organizations_url": "https://api.github.com/users/godzilla-s/orgs",
                    "repos_url": "https://api.github.com/users/godzilla-s/repos",
                    "events_url": "https://api.github.com/users/godzilla-s/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/godzilla-s/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-24T01:55:39Z",
                "updated_at": "2023-10-24T01:55:39Z",
                "author_association": "NONE",
                "body": "```\r\n       accessKeyId := getFirstSettingOf(settings, []string{AccessKeyIdSetting, AccessKeySetting})\r\n\tsecretAccessKey := getFirstSettingOf(settings, []string{SecretAccessKeySetting, SecretKeySetting})\r\n\tsessionToken := settings[SessionTokenSetting]\r\n\tif accessKeyId != \"\" && secretAccessKey != \"\" {\r\n\t\tprovider := &credentials.StaticProvider{Value: credentials.Value{\r\n\t\t\tAccessKeyID:     accessKeyId,\r\n\t\t\tSecretAccessKey: secretAccessKey,\r\n\t\t\tSessionToken:    sessionToken,\r\n\t\t}}\r\n\t\tproviders := make([]credentials.Provider, 0)\r\n\t\tproviders = append(providers, provider)\r\n\t\tproviders = append(providers, defaults.CredProviders(config, defaults.Handlers())...)\r\n\t\tnewCredentials := credentials.NewCredentials(&credentials.ChainProvider{\r\n\t\t\tVerboseErrors: aws.BoolValue(config.CredentialsChainVerboseErrors),\r\n\t\t\tProviders:     providers,\r\n\t\t})\r\n\r\n\t\tconfig = config.WithCredentials(newCredentials)\r\n\t}\r\n```\r\n\r\nwhat to do if `accesskeyId` and `secretAccessKey` is empty? use `credentials.AnonymousCredentials` ??",
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/issues/comments/1776361882/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-24T01:55:40Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32788660543",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 11609678,
            "login": "godzilla-s",
            "display_login": "godzilla-s",
            "gravatar_id": "",
            "url": "https://api.github.com/users/godzilla-s",
            "avatar_url": "https://avatars.githubusercontent.com/u/11609678?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/wal-g/wal-g/issues/1584",
                "repository_url": "https://api.github.com/repos/wal-g/wal-g",
                "labels_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/labels{/name}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/comments",
                "events_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/events",
                "html_url": "https://github.com/wal-g/wal-g/issues/1584",
                "id": 1956772143,
                "node_id": "I_kwDOBavIOM50ofkv",
                "number": 1584,
                "title": "upload file stuck when I set AWS_SECRET_ACCESS_KEY to empty ",
                "user": {
                    "login": "godzilla-s",
                    "id": 11609678,
                    "node_id": "MDQ6VXNlcjExNjA5Njc4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/11609678?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/godzilla-s",
                    "html_url": "https://github.com/godzilla-s",
                    "followers_url": "https://api.github.com/users/godzilla-s/followers",
                    "following_url": "https://api.github.com/users/godzilla-s/following{/other_user}",
                    "gists_url": "https://api.github.com/users/godzilla-s/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/godzilla-s/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/godzilla-s/subscriptions",
                    "organizations_url": "https://api.github.com/users/godzilla-s/orgs",
                    "repos_url": "https://api.github.com/users/godzilla-s/repos",
                    "events_url": "https://api.github.com/users/godzilla-s/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/godzilla-s/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-23T09:46:26Z",
                "updated_at": "2023-10-24T00:48:40Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Database name\r\nWal-g provides support for many databases, please write down name of database you uses.\r\n\r\n# Issue description\r\n\r\n### Describe your problem\r\nWhen I set AWS_SECRET_ACCESS_KEY to empty, and execute `wal-g wal-push` to upload file to S3 bucket, it stuck. I debug it and print the message, it show:\r\n```\r\ncause by: Put \"http://169.254.169.254/latest/api/token\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)\r\n```\r\n\r\nI tested it in an offline network environment\uff08can not access website\uff09\r\n\r\nso should `AWS_SECRET_ACCESS_KEY` must be set? \r\n\r\n### Please provide steps to reproduce\r\n// it can really help\r\n\r\n### Please add config and wal-g stdout/stderr logs for debug purpose\r\n\r\nalso you can use WALG_LOG_LEVEL=DEVEL for logs collecting\r\n\r\n<details><summary>If you can, provide logs</summary>\r\n<p>\r\n```bash\r\nany logs here\r\n```\r\n</p>\r\n</details>\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/wal-g/wal-g/issues/comments/1776280740",
                "html_url": "https://github.com/wal-g/wal-g/issues/1584#issuecomment-1776280740",
                "issue_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584",
                "id": 1776280740,
                "node_id": "IC_kwDOBavIOM5p3-Sk",
                "user": {
                    "login": "godzilla-s",
                    "id": 11609678,
                    "node_id": "MDQ6VXNlcjExNjA5Njc4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/11609678?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/godzilla-s",
                    "html_url": "https://github.com/godzilla-s",
                    "followers_url": "https://api.github.com/users/godzilla-s/followers",
                    "following_url": "https://api.github.com/users/godzilla-s/following{/other_user}",
                    "gists_url": "https://api.github.com/users/godzilla-s/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/godzilla-s/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/godzilla-s/subscriptions",
                    "organizations_url": "https://api.github.com/users/godzilla-s/orgs",
                    "repos_url": "https://api.github.com/users/godzilla-s/repos",
                    "events_url": "https://api.github.com/users/godzilla-s/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/godzilla-s/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-24T00:48:40Z",
                "updated_at": "2023-10-24T00:48:40Z",
                "author_association": "NONE",
                "body": "is it default to go to 169.254.169.254 server to request token if AWS_SECRET_ACCESS_KEY not set\uff1f",
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/issues/comments/1776280740/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-24T00:48:41Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32766278420",
        "type": "IssuesEvent",
        "actor": {
            "id": 11609678,
            "login": "godzilla-s",
            "display_login": "godzilla-s",
            "gravatar_id": "",
            "url": "https://api.github.com/users/godzilla-s",
            "avatar_url": "https://avatars.githubusercontent.com/u/11609678?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "opened",
            "issue": {
                "url": "https://api.github.com/repos/wal-g/wal-g/issues/1584",
                "repository_url": "https://api.github.com/repos/wal-g/wal-g",
                "labels_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/labels{/name}",
                "comments_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/comments",
                "events_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/events",
                "html_url": "https://github.com/wal-g/wal-g/issues/1584",
                "id": 1956772143,
                "node_id": "I_kwDOBavIOM50ofkv",
                "number": 1584,
                "title": "upload file stuck when I set AWS_SECRET_ACCESS_KEY to empty ",
                "user": {
                    "login": "godzilla-s",
                    "id": 11609678,
                    "node_id": "MDQ6VXNlcjExNjA5Njc4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/11609678?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/godzilla-s",
                    "html_url": "https://github.com/godzilla-s",
                    "followers_url": "https://api.github.com/users/godzilla-s/followers",
                    "following_url": "https://api.github.com/users/godzilla-s/following{/other_user}",
                    "gists_url": "https://api.github.com/users/godzilla-s/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/godzilla-s/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/godzilla-s/subscriptions",
                    "organizations_url": "https://api.github.com/users/godzilla-s/orgs",
                    "repos_url": "https://api.github.com/users/godzilla-s/repos",
                    "events_url": "https://api.github.com/users/godzilla-s/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/godzilla-s/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2023-10-23T09:46:26Z",
                "updated_at": "2023-10-23T09:46:26Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Database name\r\nWal-g provides support for many databases, please write down name of database you uses.\r\n\r\n# Issue description\r\n\r\n### Describe your problem\r\nWhen I set AWS_SECRET_ACCESS_KEY to empty, and execute `wal-g wal-push` to upload file to S3 bucket, it stuck. I debug it and print the message, it show:\r\n```\r\ncause by: Put \"http://169.254.169.254/latest/api/token\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)\r\n```\r\n\r\nI tested it in an offline network environment\uff08can not access website\uff09\r\n\r\nso should `AWS_SECRET_ACCESS_KEY` must be set? \r\n\r\n### Please provide steps to reproduce\r\n// it can really help\r\n\r\n### Please add config and wal-g stdout/stderr logs for debug purpose\r\n\r\nalso you can use WALG_LOG_LEVEL=DEVEL for logs collecting\r\n\r\n<details><summary>If you can, provide logs</summary>\r\n<p>\r\n```bash\r\nany logs here\r\n```\r\n</p>\r\n</details>\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/wal-g/wal-g/issues/1584/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-23T09:46:28Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32755634335",
        "type": "WatchEvent",
        "actor": {
            "id": 52429297,
            "login": "eingress",
            "display_login": "eingress",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eingress",
            "avatar_url": "https://avatars.githubusercontent.com/u/52429297?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-22T22:18:22Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    },
    {
        "id": "32736079635",
        "type": "WatchEvent",
        "actor": {
            "id": 11426109,
            "login": "dapqa",
            "display_login": "dapqa",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dapqa",
            "avatar_url": "https://avatars.githubusercontent.com/u/11426109?"
        },
        "repo": {
            "id": 95143992,
            "name": "wal-g/wal-g",
            "url": "https://api.github.com/repos/wal-g/wal-g"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-20T23:51:16Z",
        "org": {
            "id": 31082131,
            "login": "wal-g",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/wal-g",
            "avatar_url": "https://avatars.githubusercontent.com/u/31082131?"
        }
    }
]