[
    {
        "id": "32897619854",
        "type": "PushEvent",
        "actor": {
            "id": 44635000,
            "login": "ninaandal",
            "display_login": "ninaandal",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ninaandal",
            "avatar_url": "https://avatars.githubusercontent.com/u/44635000?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "repository_id": 79375056,
            "push_id": 15591210992,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/edx-670",
            "head": "9a78cb288ff4558541190c2f830a07a7239e0c06",
            "before": "4e05da0101a145d4714fbce83aee499f00863963",
            "commits": [
                {
                    "sha": "9a78cb288ff4558541190c2f830a07a7239e0c06",
                    "author": {
                        "email": "nina@sanity.io",
                        "name": "Nina Andal Aarvik"
                    },
                    "message": "fix(desk): remove a TimeAgo component and use hook for PublishAction tooltip",
                    "distinct": true,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/9a78cb288ff4558541190c2f830a07a7239e0c06"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T11:49:56Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32897563362",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 44635000,
            "login": "ninaandal",
            "display_login": "ninaandal",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ninaandal",
            "avatar_url": "https://avatars.githubusercontent.com/u/44635000?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/sanity-io/sanity/issues/5067",
                "repository_url": "https://api.github.com/repos/sanity-io/sanity",
                "labels_url": "https://api.github.com/repos/sanity-io/sanity/issues/5067/labels{/name}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5067/comments",
                "events_url": "https://api.github.com/repos/sanity-io/sanity/issues/5067/events",
                "html_url": "https://github.com/sanity-io/sanity/pull/5067",
                "id": 1960953402,
                "node_id": "PR_kwDOBLsq0M5duskR",
                "number": 5067,
                "title": "fix(desk): edit logic for published- and edit status message in document list ",
                "user": {
                    "login": "ninaandal",
                    "id": 44635000,
                    "node_id": "MDQ6VXNlcjQ0NjM1MDAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44635000?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ninaandal",
                    "html_url": "https://github.com/ninaandal",
                    "followers_url": "https://api.github.com/users/ninaandal/followers",
                    "following_url": "https://api.github.com/users/ninaandal/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ninaandal/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ninaandal/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ninaandal/subscriptions",
                    "organizations_url": "https://api.github.com/users/ninaandal/orgs",
                    "repos_url": "https://api.github.com/users/ninaandal/repos",
                    "events_url": "https://api.github.com/users/ninaandal/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ninaandal/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2023-10-25T09:28:59Z",
                "updated_at": "2023-10-27T11:47:35Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5067",
                    "html_url": "https://github.com/sanity-io/sanity/pull/5067",
                    "diff_url": "https://github.com/sanity-io/sanity/pull/5067.diff",
                    "patch_url": "https://github.com/sanity-io/sanity/pull/5067.patch",
                    "merged_at": null
                },
                "body": "### Description\r\nThe logic for published and edits message in the document list was wrong and would be incorrect in certain instances. \r\n\r\nBefore: \r\n<img width=\"358\" alt=\"Screenshot 2023-10-25 at 11 14 59\" src=\"https://github.com/sanity-io/sanity/assets/44635000/50879d61-d972-4217-a788-d59bfb548a8d\">\r\n<img width=\"371\" alt=\"Screenshot 2023-10-25 at 11 14 54\" src=\"https://github.com/sanity-io/sanity/assets/44635000/c86e6ed7-fb57-4228-8171-2f1eac595c9f\">\r\n\r\nInstead of using `<TimeAgo />`, we can use `useTimeAgo()` and show label with abbreviations and suffix. \r\n\r\n<!--\r\nWhat changes are introduced?\r\nWhy are these changes introduced?\r\nWhat issue(s) does this solve? (with link, if possible)\r\n-->\r\n\r\n### What to review\r\nThe document list published and edits status. \r\n<!--\r\nWhat steps should the reviewer take in order to review?\r\nWhat parts/flows of the application/packages/tooling is affected?\r\nAdd a test script, if that makes sense.\r\n-->\r\n\r\n### Notes for release\r\nFixed published and edits message in document list\r\n<!--\r\nA description of the change(s) that should be used in the release notes.\r\n-->\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/issues/5067/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/sanity-io/sanity/issues/5067/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/issues/comments/1782777921",
                "html_url": "https://github.com/sanity-io/sanity/pull/5067#issuecomment-1782777921",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5067",
                "id": 1782777921,
                "node_id": "IC_kwDOBLsq0M5qQwhB",
                "user": {
                    "login": "ninaandal",
                    "id": 44635000,
                    "node_id": "MDQ6VXNlcjQ0NjM1MDAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44635000?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ninaandal",
                    "html_url": "https://github.com/ninaandal",
                    "followers_url": "https://api.github.com/users/ninaandal/followers",
                    "following_url": "https://api.github.com/users/ninaandal/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ninaandal/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ninaandal/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ninaandal/subscriptions",
                    "organizations_url": "https://api.github.com/users/ninaandal/orgs",
                    "repos_url": "https://api.github.com/users/ninaandal/repos",
                    "events_url": "https://api.github.com/users/ninaandal/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ninaandal/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:47:35Z",
                "updated_at": "2023-10-27T11:47:35Z",
                "author_association": "CONTRIBUTOR",
                "body": "> Great find @ninaandal\r\n> \r\n> Since this issue lies with the `<TimeAgo>` component \u2013 perhaps it makes sense to find other places that's used (I think there are just 1-2), apply this same fix and then remove that component altogether?\r\n\r\nThere are several `<TimeAgo />` components and I think it makes sense to keep as is for the preview components (reference and CDR reference) as this shows how long ago it was (like `almost two years ago` instead of the date it was published). But I'll remove the one that is used for the `PublishAction` as this can be replaced with `useTimeAgo()` ",
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/issues/comments/1782777921/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:47:35Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32897332210",
        "type": "PushEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "repository_id": 79375056,
            "push_id": 15591071782,
            "size": 17,
            "distinct_size": 3,
            "ref": "refs/heads/renovate/sanity-pkg-utils-3.x",
            "head": "58ecca67affd4e9099d12871a9879932b619c97a",
            "before": "88c9c62ca5a651abcdef5ab44cb0d4acb687c12c",
            "commits": [
                {
                    "sha": "474c124cdd03c8ce11df40eb937452cca3a1015f",
                    "author": {
                        "email": "81981+stipsan@users.noreply.github.com",
                        "name": "Cody Olsen"
                    },
                    "message": "chore(renovatebot): use the correct group name for dev deps",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/474c124cdd03c8ce11df40eb937452cca3a1015f"
                },
                {
                    "sha": "c51319af5fe304639338f6eeb29811f2f3a4369b",
                    "author": {
                        "email": "81981+stipsan@users.noreply.github.com",
                        "name": "Cody Olsen"
                    },
                    "message": "chore(renovate): don't group dev updates",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/c51319af5fe304639338f6eeb29811f2f3a4369b"
                },
                {
                    "sha": "5233f358fccb53a50d0f0f9f1ebfd5920e918ca5",
                    "author": {
                        "email": "per.kristian.nordnes@gmail.com",
                        "name": "Per-Kristian Nordnes"
                    },
                    "message": "doc(form): add doc and example for components extention of block type (#5059)",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/5233f358fccb53a50d0f0f9f1ebfd5920e918ca5"
                },
                {
                    "sha": "441f637ef0e4631950d894b51254920b10648dc8",
                    "author": {
                        "email": "per.kristian.nordnes@gmail.com",
                        "name": "Per-Kristian Nordnes"
                    },
                    "message": "fix(portable-text-editor): allow user event handlers on Editable component (#5058)\n\n* fix(portable-text-editor): allow overriding onKeyDown, onFocus, onBlur for Editable\n\nThese props should be able to be overridden and potentially stopped before performing our internal behaviour.\n\n* fix(portable-text-editor): specify InputEvent event type for TS-type",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/441f637ef0e4631950d894b51254920b10648dc8"
                },
                {
                    "sha": "6fee81b11fc5ec2dce02c6e9c20e291440d810cf",
                    "author": {
                        "email": "me@binoy.io",
                        "name": "Binoy Patel"
                    },
                    "message": "chore(e2e): fix report merging (#5045)\n\n* chore(e2e): fix report merging\n\n* chore(e2e): add comment linking to env var usage",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/6fee81b11fc5ec2dce02c6e9c20e291440d810cf"
                },
                {
                    "sha": "8b4ec5d7353cb0c727d5a6a7967b808f0980a994",
                    "author": {
                        "email": "espen@hovlandsdal.com",
                        "name": "Espen Hovlandsdal"
                    },
                    "message": "fix(mutator): apply `setIfMissing` prior to `set` (#5062)",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/8b4ec5d7353cb0c727d5a6a7967b808f0980a994"
                },
                {
                    "sha": "935601bf255e1612f743a6a6deb427afada2bb46",
                    "author": {
                        "email": "bjoerge@gmail.com",
                        "name": "Bj\u00f8rge N\u00e6ss"
                    },
                    "message": "fix(deps): bump @sanity/ui to latest (#5056)\n\n* fix(deps): bump @sanity/ui to latest\n\n* fix(deps): bump @sanity/icons to latest\n\n---------\n\nCo-authored-by: Espen Hovlandsdal <espen@hovlandsdal.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/935601bf255e1612f743a6a6deb427afada2bb46"
                },
                {
                    "sha": "1ea4b2bf83ccb6b3dec6440e59c880ce982dfc8b",
                    "author": {
                        "email": "29139614+renovate[bot]@users.noreply.github.com",
                        "name": "renovate[bot]"
                    },
                    "message": "chore(deps): update dependency typescript to ^5.2.2 (#5073)\n\nCo-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/1ea4b2bf83ccb6b3dec6440e59c880ce982dfc8b"
                },
                {
                    "sha": "36a33d49ab89019e6aa3160f9665cd49126bea3a",
                    "author": {
                        "email": "29139614+renovate[bot]@users.noreply.github.com",
                        "name": "renovate[bot]"
                    },
                    "message": "fix(deps): update dependency @sanity/client to ^6.7.0 (#5032)\n\nCo-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/36a33d49ab89019e6aa3160f9665cd49126bea3a"
                },
                {
                    "sha": "e54623a62268d739e0356010d45785009709c1dd",
                    "author": {
                        "email": "29139614+renovate[bot]@users.noreply.github.com",
                        "name": "renovate[bot]"
                    },
                    "message": "chore(deps): update dependency turbo to ^1.10.16 (#5070)\n\nCo-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/e54623a62268d739e0356010d45785009709c1dd"
                },
                {
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "author": {
                        "email": "29139614+renovate[bot]@users.noreply.github.com",
                        "name": "renovate[bot]"
                    },
                    "message": "fix(deps): update dependency get-it to ^8.4.4 (#5071)\n\nCo-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03"
                },
                {
                    "sha": "fd3a972ed63a2583798dfd02c843e2f1a330e7aa",
                    "author": {
                        "email": "me@binoy.io",
                        "name": "Binoy Patel"
                    },
                    "message": "chore(test): jest 29 migration (#5069)\n\n* chore: migrate to jest 28\n\n* chore: test jest sharding\n\n* chore(test): ignore playwright tests\n\n* chore(test): revert ci changes from base\n\n* chore(test): add sharding\n\n* chore(test): fix shard dataset name and remove unused deps\n\n* chore(test): split install and test jobs\n\n* chore(test): restore npm cache in test step\n\n* chore(test): add install step\n\n* chore(test): fix cache name\n\n* chore(test): install playwright in test steps\n\n* chore(test): move playwright install after install\n\n* chore(test): upgrade to jest 29\n\n* chore(test): dedupe yarn.lock\n\n* chore(dev): remove the create react app starter example\n\n* chore(deps): add missing dev dependency\n\n* chore(portable-text-editor): speed up tests\n\n* chore(portable-text-editor): update jest-dev-server\n\n---------\n\nCo-authored-by: Fred Carlsen <fred@sjelfull.no>\nCo-authored-by: Bj\u00f8rge N\u00e6ss <bjoerge@gmail.com>\nCo-authored-by: Per-Kristian Nordnes <per.kristian.nordnes@gmail.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/fd3a972ed63a2583798dfd02c843e2f1a330e7aa"
                },
                {
                    "sha": "2d58099226bb6dd745d345e6f1b15e7c39044bf4",
                    "author": {
                        "email": "me@binoy.io",
                        "name": "Binoy Patel"
                    },
                    "message": "chore(e2e): create a test studio for e2e tests (#5044)\n\n* chore(e2e): create a test studio for e2e tests\n\n* chore(e2e): use correct token\n\n* chore(e2e): add basePath to testing studio\n\n* chore(e2e): use test-studio as a dependency cleanup packages\n\n* chore(e2e): remove unused dependency\n\n* chore(e2e): run e2e tests in production build",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/2d58099226bb6dd745d345e6f1b15e7c39044bf4"
                },
                {
                    "sha": "311d5b60438e33d0bd52c116f061b0c59c1bfdcf",
                    "author": {
                        "email": "per.kristian.nordnes@gmail.com",
                        "name": "Per-Kristian Nordnes"
                    },
                    "message": "test(portable-text-editor): adjust timings\n\nSeems like it's a bit agressive with only 50 ms here.",
                    "distinct": false,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/311d5b60438e33d0bd52c116f061b0c59c1bfdcf"
                },
                {
                    "sha": "d40f69127c757ed36efd385a57c6e2f3626790e7",
                    "author": {
                        "email": "29139614+renovate[bot]@users.noreply.github.com",
                        "name": "renovate[bot]"
                    },
                    "message": "chore(deps): update dependency @sanity/pkg-utils to v3",
                    "distinct": true,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/d40f69127c757ed36efd385a57c6e2f3626790e7"
                },
                {
                    "sha": "3ff52d500e3f666b6f561b94e358b4ecabed8aeb",
                    "author": {
                        "email": "stipsan@gmail.com",
                        "name": "Cody Olsen"
                    },
                    "message": "fix: apply pkg-utils v3 best practices",
                    "distinct": true,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/3ff52d500e3f666b6f561b94e358b4ecabed8aeb"
                },
                {
                    "sha": "58ecca67affd4e9099d12871a9879932b619c97a",
                    "author": {
                        "email": "stipsan@gmail.com",
                        "name": "Cody Olsen"
                    },
                    "message": "chore: apply new react linter rules",
                    "distinct": true,
                    "url": "https://api.github.com/repos/sanity-io/sanity/commits/58ecca67affd4e9099d12871a9879932b619c97a"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T11:37:46Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32897178931",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701569471,
                "node_id": "PRR_kwDOBLsq0M5la-O_",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "4282d983b3d1f952ed24a904e7d81b86fba28920",
                "submitted_at": "2023-10-27T11:31:13Z",
                "state": "approved",
                "html_url": "https://github.com/sanity-io/sanity/pull/5065#pullrequestreview-1701569471",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5065#pullrequestreview-1701569471"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065",
                "id": 1571465729,
                "node_id": "PR_kwDOBLsq0M5dqqoB",
                "html_url": "https://github.com/sanity-io/sanity/pull/5065",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5065.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5065.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5065",
                "number": 5065,
                "state": "open",
                "locked": false,
                "title": "feat(core): use platform-aware hotkeys",
                "user": {
                    "login": "rexxars",
                    "id": 48200,
                    "node_id": "MDQ6VXNlcjQ4MjAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/48200?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rexxars",
                    "html_url": "https://github.com/rexxars",
                    "followers_url": "https://api.github.com/users/rexxars/followers",
                    "following_url": "https://api.github.com/users/rexxars/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rexxars/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rexxars/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rexxars/subscriptions",
                    "organizations_url": "https://api.github.com/users/rexxars/orgs",
                    "repos_url": "https://api.github.com/users/rexxars/repos",
                    "events_url": "https://api.github.com/users/rexxars/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rexxars/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nIntroduces a new `<Hotkeys />` component in the `sanity` module which automatically changes `alt` to `option` and vice versa, but otherwise just reuses what's in `@sanity/ui`. For more context, see https://github.com/sanity-io/ui/pull/1168\r\n\r\n### What to review\r\n\r\n- Shows correct hotkey for publishing and similar on apple devices\r\n\r\n### Notes for release\r\n\r\n- Hotkeys are now device aware, showing `Option` instead of `Alt` on Apple devices\r\n",
                "created_at": "2023-10-24T17:33:01Z",
                "updated_at": "2023-10-27T11:31:13Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "d3b45012fb07eafd83b43c65e2bf24a2b294c1cd",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [
                    {
                        "name": "Studio EX",
                        "id": 7453693,
                        "node_id": "T_kwDOAQYcO84Acbv9",
                        "slug": "studio-ex",
                        "description": "Studio Editorial Experience",
                        "privacy": "closed",
                        "notification_setting": "notifications_enabled",
                        "url": "https://api.github.com/organizations/17177659/team/7453693",
                        "html_url": "https://github.com/orgs/sanity-io/teams/studio-ex",
                        "members_url": "https://api.github.com/organizations/17177659/team/7453693/members{/member}",
                        "repositories_url": "https://api.github.com/organizations/17177659/team/7453693/repos",
                        "permission": "pull",
                        "parent": null
                    }
                ],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5065/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/4282d983b3d1f952ed24a904e7d81b86fba28920",
                "head": {
                    "label": "sanity-io:feat/platform-agnostic-hotkeys",
                    "ref": "feat/platform-agnostic-hotkeys",
                    "sha": "4282d983b3d1f952ed24a904e7d81b86fba28920",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "8b4ec5d7353cb0c727d5a6a7967b808f0980a994",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5065"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5065"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5065/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/4282d983b3d1f952ed24a904e7d81b86fba28920"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:31:14Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32897177152",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701562686,
                "node_id": "PRR_kwDOBLsq0M5la8k-",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Very nice, thank you! <3",
                "commit_id": "4282d983b3d1f952ed24a904e7d81b86fba28920",
                "submitted_at": "2023-10-27T11:31:09Z",
                "state": "commented",
                "html_url": "https://github.com/sanity-io/sanity/pull/5065#pullrequestreview-1701562686",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5065#pullrequestreview-1701562686"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065",
                "id": 1571465729,
                "node_id": "PR_kwDOBLsq0M5dqqoB",
                "html_url": "https://github.com/sanity-io/sanity/pull/5065",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5065.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5065.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5065",
                "number": 5065,
                "state": "open",
                "locked": false,
                "title": "feat(core): use platform-aware hotkeys",
                "user": {
                    "login": "rexxars",
                    "id": 48200,
                    "node_id": "MDQ6VXNlcjQ4MjAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/48200?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rexxars",
                    "html_url": "https://github.com/rexxars",
                    "followers_url": "https://api.github.com/users/rexxars/followers",
                    "following_url": "https://api.github.com/users/rexxars/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rexxars/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rexxars/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rexxars/subscriptions",
                    "organizations_url": "https://api.github.com/users/rexxars/orgs",
                    "repos_url": "https://api.github.com/users/rexxars/repos",
                    "events_url": "https://api.github.com/users/rexxars/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rexxars/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nIntroduces a new `<Hotkeys />` component in the `sanity` module which automatically changes `alt` to `option` and vice versa, but otherwise just reuses what's in `@sanity/ui`. For more context, see https://github.com/sanity-io/ui/pull/1168\r\n\r\n### What to review\r\n\r\n- Shows correct hotkey for publishing and similar on apple devices\r\n\r\n### Notes for release\r\n\r\n- Hotkeys are now device aware, showing `Option` instead of `Alt` on Apple devices\r\n",
                "created_at": "2023-10-24T17:33:01Z",
                "updated_at": "2023-10-27T11:31:09Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "d3b45012fb07eafd83b43c65e2bf24a2b294c1cd",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [
                    {
                        "name": "Studio EX",
                        "id": 7453693,
                        "node_id": "T_kwDOAQYcO84Acbv9",
                        "slug": "studio-ex",
                        "description": "Studio Editorial Experience",
                        "privacy": "closed",
                        "notification_setting": "notifications_enabled",
                        "url": "https://api.github.com/organizations/17177659/team/7453693",
                        "html_url": "https://github.com/orgs/sanity-io/teams/studio-ex",
                        "members_url": "https://api.github.com/organizations/17177659/team/7453693/members{/member}",
                        "repositories_url": "https://api.github.com/organizations/17177659/team/7453693/repos",
                        "permission": "pull",
                        "parent": null
                    }
                ],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5065/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/4282d983b3d1f952ed24a904e7d81b86fba28920",
                "head": {
                    "label": "sanity-io:feat/platform-agnostic-hotkeys",
                    "ref": "feat/platform-agnostic-hotkeys",
                    "sha": "4282d983b3d1f952ed24a904e7d81b86fba28920",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "8b4ec5d7353cb0c727d5a6a7967b808f0980a994",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5065"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5065"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5065/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/4282d983b3d1f952ed24a904e7d81b86fba28920"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:31:10Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32897177206",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374435018",
                "pull_request_review_id": 1701562686,
                "id": 1374435018,
                "node_id": "PRRC_kwDOBLsq0M5R7DbK",
                "diff_hunk": "@@ -0,0 +1,81 @@\n+import React, {type HTMLProps, type RefAttributes} from 'react'\n+import {type HotkeysProps as UIHotkeysProps, Hotkeys as UIHotkeys} from '@sanity/ui'\n+\n+/**\n+ * Properties for the `Hotkeys` component.\n+ *\n+ * @public\n+ */\n+export type HotkeysProps = UIHotkeysProps & {\n+  /**\n+   * Whether to make the keys platform-aware (eg `alt` to `option` on Apple devices).\n+   *\n+   * @defaultValue true\n+   */\n+  makePlatformAware?: boolean",
                "path": "packages/sanity/src/core/components/Hotkeys.tsx",
                "commit_id": "4282d983b3d1f952ed24a904e7d81b86fba28920",
                "original_commit_id": "4282d983b3d1f952ed24a904e7d81b86fba28920",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "out of curiosity and lack of imagination: in what cases would you want to make it not platform aware?",
                "created_at": "2023-10-27T11:27:27Z",
                "updated_at": "2023-10-27T11:31:09Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/5065#discussion_r1374435018",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374435018"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5065#discussion_r1374435018"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374435018/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 15,
                "original_line": 15,
                "side": "RIGHT",
                "original_position": 15,
                "position": 15,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065",
                "id": 1571465729,
                "node_id": "PR_kwDOBLsq0M5dqqoB",
                "html_url": "https://github.com/sanity-io/sanity/pull/5065",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5065.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5065.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5065",
                "number": 5065,
                "state": "open",
                "locked": false,
                "title": "feat(core): use platform-aware hotkeys",
                "user": {
                    "login": "rexxars",
                    "id": 48200,
                    "node_id": "MDQ6VXNlcjQ4MjAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/48200?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rexxars",
                    "html_url": "https://github.com/rexxars",
                    "followers_url": "https://api.github.com/users/rexxars/followers",
                    "following_url": "https://api.github.com/users/rexxars/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rexxars/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rexxars/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rexxars/subscriptions",
                    "organizations_url": "https://api.github.com/users/rexxars/orgs",
                    "repos_url": "https://api.github.com/users/rexxars/repos",
                    "events_url": "https://api.github.com/users/rexxars/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rexxars/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nIntroduces a new `<Hotkeys />` component in the `sanity` module which automatically changes `alt` to `option` and vice versa, but otherwise just reuses what's in `@sanity/ui`. For more context, see https://github.com/sanity-io/ui/pull/1168\r\n\r\n### What to review\r\n\r\n- Shows correct hotkey for publishing and similar on apple devices\r\n\r\n### Notes for release\r\n\r\n- Hotkeys are now device aware, showing `Option` instead of `Alt` on Apple devices\r\n",
                "created_at": "2023-10-24T17:33:01Z",
                "updated_at": "2023-10-27T11:31:09Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "d3b45012fb07eafd83b43c65e2bf24a2b294c1cd",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [
                    {
                        "name": "Studio EX",
                        "id": 7453693,
                        "node_id": "T_kwDOAQYcO84Acbv9",
                        "slug": "studio-ex",
                        "description": "Studio Editorial Experience",
                        "privacy": "closed",
                        "notification_setting": "notifications_enabled",
                        "url": "https://api.github.com/organizations/17177659/team/7453693",
                        "html_url": "https://github.com/orgs/sanity-io/teams/studio-ex",
                        "members_url": "https://api.github.com/organizations/17177659/team/7453693/members{/member}",
                        "repositories_url": "https://api.github.com/organizations/17177659/team/7453693/repos",
                        "permission": "pull",
                        "parent": null
                    }
                ],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5065/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/4282d983b3d1f952ed24a904e7d81b86fba28920",
                "head": {
                    "label": "sanity-io:feat/platform-agnostic-hotkeys",
                    "ref": "feat/platform-agnostic-hotkeys",
                    "sha": "4282d983b3d1f952ed24a904e7d81b86fba28920",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "8b4ec5d7353cb0c727d5a6a7967b808f0980a994",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5065"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5065"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5065/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/4282d983b3d1f952ed24a904e7d81b86fba28920"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:27:27Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32897177066",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701562686,
                "node_id": "PRR_kwDOBLsq0M5la8k-",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Very nice, thank you! <3",
                "commit_id": "4282d983b3d1f952ed24a904e7d81b86fba28920",
                "submitted_at": "2023-10-27T11:31:09Z",
                "state": "commented",
                "html_url": "https://github.com/sanity-io/sanity/pull/5065#pullrequestreview-1701562686",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5065#pullrequestreview-1701562686"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065",
                "id": 1571465729,
                "node_id": "PR_kwDOBLsq0M5dqqoB",
                "html_url": "https://github.com/sanity-io/sanity/pull/5065",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5065.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5065.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5065",
                "number": 5065,
                "state": "open",
                "locked": false,
                "title": "feat(core): use platform-aware hotkeys",
                "user": {
                    "login": "rexxars",
                    "id": 48200,
                    "node_id": "MDQ6VXNlcjQ4MjAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/48200?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/rexxars",
                    "html_url": "https://github.com/rexxars",
                    "followers_url": "https://api.github.com/users/rexxars/followers",
                    "following_url": "https://api.github.com/users/rexxars/following{/other_user}",
                    "gists_url": "https://api.github.com/users/rexxars/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/rexxars/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/rexxars/subscriptions",
                    "organizations_url": "https://api.github.com/users/rexxars/orgs",
                    "repos_url": "https://api.github.com/users/rexxars/repos",
                    "events_url": "https://api.github.com/users/rexxars/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/rexxars/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nIntroduces a new `<Hotkeys />` component in the `sanity` module which automatically changes `alt` to `option` and vice versa, but otherwise just reuses what's in `@sanity/ui`. For more context, see https://github.com/sanity-io/ui/pull/1168\r\n\r\n### What to review\r\n\r\n- Shows correct hotkey for publishing and similar on apple devices\r\n\r\n### Notes for release\r\n\r\n- Hotkeys are now device aware, showing `Option` instead of `Alt` on Apple devices\r\n",
                "created_at": "2023-10-24T17:33:01Z",
                "updated_at": "2023-10-27T11:31:09Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "d3b45012fb07eafd83b43c65e2bf24a2b294c1cd",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [
                    {
                        "name": "Studio EX",
                        "id": 7453693,
                        "node_id": "T_kwDOAQYcO84Acbv9",
                        "slug": "studio-ex",
                        "description": "Studio Editorial Experience",
                        "privacy": "closed",
                        "notification_setting": "notifications_enabled",
                        "url": "https://api.github.com/organizations/17177659/team/7453693",
                        "html_url": "https://github.com/orgs/sanity-io/teams/studio-ex",
                        "members_url": "https://api.github.com/organizations/17177659/team/7453693/members{/member}",
                        "repositories_url": "https://api.github.com/organizations/17177659/team/7453693/repos",
                        "permission": "pull",
                        "parent": null
                    }
                ],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5065/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/4282d983b3d1f952ed24a904e7d81b86fba28920",
                "head": {
                    "label": "sanity-io:feat/platform-agnostic-hotkeys",
                    "ref": "feat/platform-agnostic-hotkeys",
                    "sha": "4282d983b3d1f952ed24a904e7d81b86fba28920",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "8b4ec5d7353cb0c727d5a6a7967b808f0980a994",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5065"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5065"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5065/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5065/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/4282d983b3d1f952ed24a904e7d81b86fba28920"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:31:10Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32897019857",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701557527,
                "node_id": "PRR_kwDOBLsq0M5la7UX",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "LGTM",
                "commit_id": "19938c6ee5529926f498efa036c940c1d028ceb4",
                "submitted_at": "2023-10-27T11:24:33Z",
                "state": "approved",
                "html_url": "https://github.com/sanity-io/sanity/pull/5060#pullrequestreview-1701557527",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5060",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5060#pullrequestreview-1701557527"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5060"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5060",
                "id": 1571133077,
                "node_id": "PR_kwDOBLsq0M5dpZaV",
                "html_url": "https://github.com/sanity-io/sanity/pull/5060",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5060.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5060.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5060",
                "number": 5060,
                "state": "open",
                "locked": false,
                "title": "fix(portable-text-editor): fix issues for .delete fn and add tests",
                "user": {
                    "login": "skogsmaskin",
                    "id": 373403,
                    "node_id": "MDQ6VXNlcjM3MzQwMw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/373403?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/skogsmaskin",
                    "html_url": "https://github.com/skogsmaskin",
                    "followers_url": "https://api.github.com/users/skogsmaskin/followers",
                    "following_url": "https://api.github.com/users/skogsmaskin/following{/other_user}",
                    "gists_url": "https://api.github.com/users/skogsmaskin/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/skogsmaskin/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/skogsmaskin/subscriptions",
                    "organizations_url": "https://api.github.com/users/skogsmaskin/orgs",
                    "repos_url": "https://api.github.com/users/skogsmaskin/repos",
                    "events_url": "https://api.github.com/users/skogsmaskin/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/skogsmaskin/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis will fix bugs related to deleting content in the PTE through the `PortableTextEditor.delete` function.\r\n\r\n* Test that the range produced from the `PortableTextEditor.delete` method is valid before deleting anything. There was an issue where if you gave it an invalid path, the resulting path for the produced range would be `[]` which would then delete content not targeted for deletion.\r\n* If you deleted block by block with this method until there were no blocks left, it would not properly produce a new placeholder block causing issues with inserting new content.\r\n* While writing tests for this I discovered some additional bugs with the `block` mode when providing a selection containing multiple blocks.\r\n\r\n\r\n<!--\r\nWhat changes are introduced?\r\nWhy are these changes introduced?\r\nWhat issue(s) does this solve? (with link, if possible)\r\n-->\r\n\r\n### What to review\r\nCode looks good\r\n\r\n<!--\r\nWhat steps should the reviewer take in order to review?\r\nWhat parts/flows of the application/packages/tooling is affected?\r\nAdd a test script, if that makes sense.\r\n-->\r\n\r\n### Notes for release\r\n* N/A\r\n\r\n<!--\r\nA description of the change(s) that should be used in the release notes.\r\n-->\r\n",
                "created_at": "2023-10-24T14:18:03Z",
                "updated_at": "2023-10-27T11:24:33Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "3c320f677dcb380ec3f2932c1836072a8f2f287f",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5060/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5060/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5060/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/19938c6ee5529926f498efa036c940c1d028ceb4",
                "head": {
                    "label": "sanity-io:fix/pte-delete-bugs",
                    "ref": "fix/pte-delete-bugs",
                    "sha": "19938c6ee5529926f498efa036c940c1d028ceb4",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "441f637ef0e4631950d894b51254920b10648dc8",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5060"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5060"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5060"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5060/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5060/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5060/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/19938c6ee5529926f498efa036c940c1d028ceb4"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:24:33Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32896985244",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701555380,
                "node_id": "PRR_kwDOBLsq0M5la6y0",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Nice, good catch & thanks for fixing!",
                "commit_id": "4e05da0101a145d4714fbce83aee499f00863963",
                "submitted_at": "2023-10-27T11:23:07Z",
                "state": "approved",
                "html_url": "https://github.com/sanity-io/sanity/pull/5067#pullrequestreview-1701555380",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5067",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5067#pullrequestreview-1701555380"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5067"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5067",
                "id": 1572522257,
                "node_id": "PR_kwDOBLsq0M5duskR",
                "html_url": "https://github.com/sanity-io/sanity/pull/5067",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5067.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5067.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5067",
                "number": 5067,
                "state": "open",
                "locked": false,
                "title": "fix(desk): edit logic for published- and edit status message in document list ",
                "user": {
                    "login": "ninaandal",
                    "id": 44635000,
                    "node_id": "MDQ6VXNlcjQ0NjM1MDAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44635000?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ninaandal",
                    "html_url": "https://github.com/ninaandal",
                    "followers_url": "https://api.github.com/users/ninaandal/followers",
                    "following_url": "https://api.github.com/users/ninaandal/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ninaandal/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ninaandal/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ninaandal/subscriptions",
                    "organizations_url": "https://api.github.com/users/ninaandal/orgs",
                    "repos_url": "https://api.github.com/users/ninaandal/repos",
                    "events_url": "https://api.github.com/users/ninaandal/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ninaandal/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\nThe logic for published and edits message in the document list was wrong and would be incorrect in certain instances. \r\n\r\nBefore: \r\n<img width=\"358\" alt=\"Screenshot 2023-10-25 at 11 14 59\" src=\"https://github.com/sanity-io/sanity/assets/44635000/50879d61-d972-4217-a788-d59bfb548a8d\">\r\n<img width=\"371\" alt=\"Screenshot 2023-10-25 at 11 14 54\" src=\"https://github.com/sanity-io/sanity/assets/44635000/c86e6ed7-fb57-4228-8171-2f1eac595c9f\">\r\n\r\nInstead of using `<TimeAgo />`, we can use `useTimeAgo()` and show label with abbreviations and suffix. \r\n\r\n<!--\r\nWhat changes are introduced?\r\nWhy are these changes introduced?\r\nWhat issue(s) does this solve? (with link, if possible)\r\n-->\r\n\r\n### What to review\r\nThe document list published and edits status. \r\n<!--\r\nWhat steps should the reviewer take in order to review?\r\nWhat parts/flows of the application/packages/tooling is affected?\r\nAdd a test script, if that makes sense.\r\n-->\r\n\r\n### Notes for release\r\nFixed published and edits message in document list\r\n<!--\r\nA description of the change(s) that should be used in the release notes.\r\n-->\r\n",
                "created_at": "2023-10-25T09:28:59Z",
                "updated_at": "2023-10-27T11:23:07Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "a76143eb46ad47222105ea7656e83dd862b37ac9",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [
                    {
                        "name": "Studio EX",
                        "id": 7453693,
                        "node_id": "T_kwDOAQYcO84Acbv9",
                        "slug": "studio-ex",
                        "description": "Studio Editorial Experience",
                        "privacy": "closed",
                        "notification_setting": "notifications_enabled",
                        "url": "https://api.github.com/organizations/17177659/team/7453693",
                        "html_url": "https://github.com/orgs/sanity-io/teams/studio-ex",
                        "members_url": "https://api.github.com/organizations/17177659/team/7453693/members{/member}",
                        "repositories_url": "https://api.github.com/organizations/17177659/team/7453693/repos",
                        "permission": "pull",
                        "parent": null
                    }
                ],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5067/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5067/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5067/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/4e05da0101a145d4714fbce83aee499f00863963",
                "head": {
                    "label": "sanity-io:edx-670",
                    "ref": "edx-670",
                    "sha": "4e05da0101a145d4714fbce83aee499f00863963",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "935601bf255e1612f743a6a6deb427afada2bb46",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5067"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5067"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5067"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5067/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5067/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5067/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/4e05da0101a145d4714fbce83aee499f00863963"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:23:08Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32896923500",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701551149,
                "node_id": "PRR_kwDOBLsq0M5la5wt",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "7872d00fecf8b9e543f224d1520b4da03aafbd05",
                "submitted_at": "2023-10-27T11:20:29Z",
                "state": "commented",
                "html_url": "https://github.com/sanity-io/sanity/pull/5079#pullrequestreview-1701551149",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5079",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5079#pullrequestreview-1701551149"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5079"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5079",
                "id": 1575630599,
                "node_id": "PR_kwDOBLsq0M5d6jcH",
                "html_url": "https://github.com/sanity-io/sanity/pull/5079",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5079.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5079.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5079",
                "number": 5079,
                "state": "open",
                "locked": false,
                "title": "fix(schema/types): fix wrong key being used for block schema def.",
                "user": {
                    "login": "skogsmaskin",
                    "id": 373403,
                    "node_id": "MDQ6VXNlcjM3MzQwMw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/373403?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/skogsmaskin",
                    "html_url": "https://github.com/skogsmaskin",
                    "followers_url": "https://api.github.com/users/skogsmaskin/followers",
                    "following_url": "https://api.github.com/users/skogsmaskin/following{/other_user}",
                    "gists_url": "https://api.github.com/users/skogsmaskin/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/skogsmaskin/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/skogsmaskin/subscriptions",
                    "organizations_url": "https://api.github.com/users/skogsmaskin/orgs",
                    "repos_url": "https://api.github.com/users/skogsmaskin/repos",
                    "events_url": "https://api.github.com/users/skogsmaskin/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/skogsmaskin/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis will fix some issues with the block type schema, where it is missing definition for level, and the list definition is using the wrong key as illustrated by editing a PT-field with the regular array input:\r\n\r\n![image](https://github.com/sanity-io/sanity/assets/373403/de89ca17-ddab-4546-a38b-d28913845453)\r\n\r\nThe correct key here is `listItem`. \r\n\r\nAfter:\r\n\r\n![image](https://github.com/sanity-io/sanity/assets/373403/430a7cd0-2dfc-4f40-98f2-356b523209f3)\r\n\r\n\r\n<!--\r\nWhat changes are introduced?\r\nWhy are these changes introduced?\r\nWhat issue(s) does this solve? (with link, if possible)\r\n-->\r\n\r\n### What to review\r\nThis change is trivial to do (renaming the schema field). I think it is, as all tests are passing and I can't find any other references to this field other than those I have already changed.\r\n\r\n<!--\r\nWhat steps should the reviewer take in order to review?\r\nWhat parts/flows of the application/packages/tooling is affected?\r\nAdd a test script, if that makes sense.\r\n-->\r\n\r\n### Notes for release\r\nN/A - not a user-facing problem.\r\n\r\n<!--\r\nA description of the change(s) that should be used in the release notes.\r\n-->\r\n",
                "created_at": "2023-10-26T21:54:18Z",
                "updated_at": "2023-10-27T11:20:29Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "54617e70e656836629c0dbf04ecf4d52018a9d32",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "rexxars",
                        "id": 48200,
                        "node_id": "MDQ6VXNlcjQ4MjAw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/48200?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rexxars",
                        "html_url": "https://github.com/rexxars",
                        "followers_url": "https://api.github.com/users/rexxars/followers",
                        "following_url": "https://api.github.com/users/rexxars/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rexxars/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rexxars/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rexxars/subscriptions",
                        "organizations_url": "https://api.github.com/users/rexxars/orgs",
                        "repos_url": "https://api.github.com/users/rexxars/repos",
                        "events_url": "https://api.github.com/users/rexxars/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rexxars/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5079/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5079/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5079/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/7872d00fecf8b9e543f224d1520b4da03aafbd05",
                "head": {
                    "label": "sanity-io:fix/block-schema-type-listItem-and-level",
                    "ref": "fix/block-schema-type-listItem-and-level",
                    "sha": "7872d00fecf8b9e543f224d1520b4da03aafbd05",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "311d5b60438e33d0bd52c116f061b0c59c1bfdcf",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5079"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5079"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5079"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5079/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5079/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5079/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/7872d00fecf8b9e543f224d1520b4da03aafbd05"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:20:30Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32896923573",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374427793",
                "pull_request_review_id": 1701551149,
                "id": 1374427793,
                "node_id": "PRRC_kwDOBLsq0M5R7BqR",
                "diff_hunk": "@@ -73,9 +73,9 @@ function resolveEnabledDecorators(spanType: ObjectSchemaType) {\n }\n \n function resolveEnabledListItems(blockType: ObjectSchemaType) {\n-  const listField = blockType.fields?.find((btField) => btField.name === 'list')\n+  const listField = blockType.fields?.find((btField) => btField.name === 'listItem')",
                "path": "packages/@sanity/portable-text-editor/src/utils/getPortableTextMemberSchemaTypes.ts",
                "commit_id": "7872d00fecf8b9e543f224d1520b4da03aafbd05",
                "original_commit_id": "7872d00fecf8b9e543f224d1520b4da03aafbd05",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "this is strictly speaking a breaking change, right? How likely is it that someone has `list` but not `listItem` and will get this error after upgrading?",
                "created_at": "2023-10-27T11:20:06Z",
                "updated_at": "2023-10-27T11:20:29Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/5079#discussion_r1374427793",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5079",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374427793"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5079#discussion_r1374427793"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5079"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374427793/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 76,
                "original_line": 76,
                "side": "RIGHT",
                "original_position": 5,
                "position": 5,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5079",
                "id": 1575630599,
                "node_id": "PR_kwDOBLsq0M5d6jcH",
                "html_url": "https://github.com/sanity-io/sanity/pull/5079",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5079.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5079.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5079",
                "number": 5079,
                "state": "open",
                "locked": false,
                "title": "fix(schema/types): fix wrong key being used for block schema def.",
                "user": {
                    "login": "skogsmaskin",
                    "id": 373403,
                    "node_id": "MDQ6VXNlcjM3MzQwMw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/373403?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/skogsmaskin",
                    "html_url": "https://github.com/skogsmaskin",
                    "followers_url": "https://api.github.com/users/skogsmaskin/followers",
                    "following_url": "https://api.github.com/users/skogsmaskin/following{/other_user}",
                    "gists_url": "https://api.github.com/users/skogsmaskin/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/skogsmaskin/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/skogsmaskin/subscriptions",
                    "organizations_url": "https://api.github.com/users/skogsmaskin/orgs",
                    "repos_url": "https://api.github.com/users/skogsmaskin/repos",
                    "events_url": "https://api.github.com/users/skogsmaskin/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/skogsmaskin/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis will fix some issues with the block type schema, where it is missing definition for level, and the list definition is using the wrong key as illustrated by editing a PT-field with the regular array input:\r\n\r\n![image](https://github.com/sanity-io/sanity/assets/373403/de89ca17-ddab-4546-a38b-d28913845453)\r\n\r\nThe correct key here is `listItem`. \r\n\r\nAfter:\r\n\r\n![image](https://github.com/sanity-io/sanity/assets/373403/430a7cd0-2dfc-4f40-98f2-356b523209f3)\r\n\r\n\r\n<!--\r\nWhat changes are introduced?\r\nWhy are these changes introduced?\r\nWhat issue(s) does this solve? (with link, if possible)\r\n-->\r\n\r\n### What to review\r\nThis change is trivial to do (renaming the schema field). I think it is, as all tests are passing and I can't find any other references to this field other than those I have already changed.\r\n\r\n<!--\r\nWhat steps should the reviewer take in order to review?\r\nWhat parts/flows of the application/packages/tooling is affected?\r\nAdd a test script, if that makes sense.\r\n-->\r\n\r\n### Notes for release\r\nN/A - not a user-facing problem.\r\n\r\n<!--\r\nA description of the change(s) that should be used in the release notes.\r\n-->\r\n",
                "created_at": "2023-10-26T21:54:18Z",
                "updated_at": "2023-10-27T11:20:29Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "54617e70e656836629c0dbf04ecf4d52018a9d32",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "rexxars",
                        "id": 48200,
                        "node_id": "MDQ6VXNlcjQ4MjAw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/48200?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rexxars",
                        "html_url": "https://github.com/rexxars",
                        "followers_url": "https://api.github.com/users/rexxars/followers",
                        "following_url": "https://api.github.com/users/rexxars/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rexxars/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rexxars/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rexxars/subscriptions",
                        "organizations_url": "https://api.github.com/users/rexxars/orgs",
                        "repos_url": "https://api.github.com/users/rexxars/repos",
                        "events_url": "https://api.github.com/users/rexxars/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rexxars/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5079/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5079/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5079/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/7872d00fecf8b9e543f224d1520b4da03aafbd05",
                "head": {
                    "label": "sanity-io:fix/block-schema-type-listItem-and-level",
                    "ref": "fix/block-schema-type-listItem-and-level",
                    "sha": "7872d00fecf8b9e543f224d1520b4da03aafbd05",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "311d5b60438e33d0bd52c116f061b0c59c1bfdcf",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5079"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5079"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5079"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5079/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5079/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5079/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/7872d00fecf8b9e543f224d1520b4da03aafbd05"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:20:06Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32896923446",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701551149,
                "node_id": "PRR_kwDOBLsq0M5la5wt",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "7872d00fecf8b9e543f224d1520b4da03aafbd05",
                "submitted_at": "2023-10-27T11:20:29Z",
                "state": "commented",
                "html_url": "https://github.com/sanity-io/sanity/pull/5079#pullrequestreview-1701551149",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5079",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5079#pullrequestreview-1701551149"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5079"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5079",
                "id": 1575630599,
                "node_id": "PR_kwDOBLsq0M5d6jcH",
                "html_url": "https://github.com/sanity-io/sanity/pull/5079",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5079.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5079.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5079",
                "number": 5079,
                "state": "open",
                "locked": false,
                "title": "fix(schema/types): fix wrong key being used for block schema def.",
                "user": {
                    "login": "skogsmaskin",
                    "id": 373403,
                    "node_id": "MDQ6VXNlcjM3MzQwMw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/373403?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/skogsmaskin",
                    "html_url": "https://github.com/skogsmaskin",
                    "followers_url": "https://api.github.com/users/skogsmaskin/followers",
                    "following_url": "https://api.github.com/users/skogsmaskin/following{/other_user}",
                    "gists_url": "https://api.github.com/users/skogsmaskin/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/skogsmaskin/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/skogsmaskin/subscriptions",
                    "organizations_url": "https://api.github.com/users/skogsmaskin/orgs",
                    "repos_url": "https://api.github.com/users/skogsmaskin/repos",
                    "events_url": "https://api.github.com/users/skogsmaskin/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/skogsmaskin/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis will fix some issues with the block type schema, where it is missing definition for level, and the list definition is using the wrong key as illustrated by editing a PT-field with the regular array input:\r\n\r\n![image](https://github.com/sanity-io/sanity/assets/373403/de89ca17-ddab-4546-a38b-d28913845453)\r\n\r\nThe correct key here is `listItem`. \r\n\r\nAfter:\r\n\r\n![image](https://github.com/sanity-io/sanity/assets/373403/430a7cd0-2dfc-4f40-98f2-356b523209f3)\r\n\r\n\r\n<!--\r\nWhat changes are introduced?\r\nWhy are these changes introduced?\r\nWhat issue(s) does this solve? (with link, if possible)\r\n-->\r\n\r\n### What to review\r\nThis change is trivial to do (renaming the schema field). I think it is, as all tests are passing and I can't find any other references to this field other than those I have already changed.\r\n\r\n<!--\r\nWhat steps should the reviewer take in order to review?\r\nWhat parts/flows of the application/packages/tooling is affected?\r\nAdd a test script, if that makes sense.\r\n-->\r\n\r\n### Notes for release\r\nN/A - not a user-facing problem.\r\n\r\n<!--\r\nA description of the change(s) that should be used in the release notes.\r\n-->\r\n",
                "created_at": "2023-10-26T21:54:18Z",
                "updated_at": "2023-10-27T11:20:29Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "54617e70e656836629c0dbf04ecf4d52018a9d32",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "rexxars",
                        "id": 48200,
                        "node_id": "MDQ6VXNlcjQ4MjAw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/48200?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/rexxars",
                        "html_url": "https://github.com/rexxars",
                        "followers_url": "https://api.github.com/users/rexxars/followers",
                        "following_url": "https://api.github.com/users/rexxars/following{/other_user}",
                        "gists_url": "https://api.github.com/users/rexxars/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/rexxars/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/rexxars/subscriptions",
                        "organizations_url": "https://api.github.com/users/rexxars/orgs",
                        "repos_url": "https://api.github.com/users/rexxars/repos",
                        "events_url": "https://api.github.com/users/rexxars/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/rexxars/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5079/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5079/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5079/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/7872d00fecf8b9e543f224d1520b4da03aafbd05",
                "head": {
                    "label": "sanity-io:fix/block-schema-type-listItem-and-level",
                    "ref": "fix/block-schema-type-listItem-and-level",
                    "sha": "7872d00fecf8b9e543f224d1520b4da03aafbd05",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "311d5b60438e33d0bd52c116f061b0c59c1bfdcf",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5079"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5079"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5079"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5079/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5079/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5079/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/7872d00fecf8b9e543f224d1520b4da03aafbd05"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:20:30Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32896823739",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701545516,
                "node_id": "PRR_kwDOBLsq0M5la4Ys",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Sweet! Thanks a lot <3",
                "commit_id": "3c8eb093cd500fc17137567166a58dab5da13955",
                "submitted_at": "2023-10-27T11:16:11Z",
                "state": "commented",
                "html_url": "https://github.com/sanity-io/sanity/pull/5080#pullrequestreview-1701545516",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5080#pullrequestreview-1701545516"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080",
                "id": 1575666900,
                "node_id": "PR_kwDOBLsq0M5d6sTU",
                "html_url": "https://github.com/sanity-io/sanity/pull/5080",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5080.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5080.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5080",
                "number": 5080,
                "state": "open",
                "locked": false,
                "title": "ci: move PTE e2e tests out in own workflow",
                "user": {
                    "login": "skogsmaskin",
                    "id": 373403,
                    "node_id": "MDQ6VXNlcjM3MzQwMw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/373403?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/skogsmaskin",
                    "html_url": "https://github.com/skogsmaskin",
                    "followers_url": "https://api.github.com/users/skogsmaskin/followers",
                    "following_url": "https://api.github.com/users/skogsmaskin/following{/other_user}",
                    "gists_url": "https://api.github.com/users/skogsmaskin/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/skogsmaskin/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/skogsmaskin/subscriptions",
                    "organizations_url": "https://api.github.com/users/skogsmaskin/orgs",
                    "repos_url": "https://api.github.com/users/skogsmaskin/repos",
                    "events_url": "https://api.github.com/users/skogsmaskin/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/skogsmaskin/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nMoved these tests into their own workflow to have them run more in isolation and speed up our unit tests (playwright dep. no longer needed).\r\n\r\n<!--\r\nWhat changes are introduced?\r\nWhy are these changes introduced?\r\nWhat issue(s) does this solve? (with link, if possible)\r\n-->\r\n\r\n### What to review\r\n\r\n<!--\r\nWhat steps should the reviewer take in order to review?\r\nWhat parts/flows of the application/packages/tooling is affected?\r\nAdd a test script, if that makes sense.\r\n-->\r\n\r\n### Notes for release\r\nN/A\r\n\r\n<!--\r\nA description of the change(s) that should be used in the release notes.\r\n-->\r\n",
                "created_at": "2023-10-26T22:31:10Z",
                "updated_at": "2023-10-27T11:16:23Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "9ee26698e34b46f1071eeff3d4ecb59c99a2c988",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "binoy14",
                        "id": 6476108,
                        "node_id": "MDQ6VXNlcjY0NzYxMDg=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/6476108?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/binoy14",
                        "html_url": "https://github.com/binoy14",
                        "followers_url": "https://api.github.com/users/binoy14/followers",
                        "following_url": "https://api.github.com/users/binoy14/following{/other_user}",
                        "gists_url": "https://api.github.com/users/binoy14/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/binoy14/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/binoy14/subscriptions",
                        "organizations_url": "https://api.github.com/users/binoy14/orgs",
                        "repos_url": "https://api.github.com/users/binoy14/repos",
                        "events_url": "https://api.github.com/users/binoy14/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/binoy14/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5080/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/3c8eb093cd500fc17137567166a58dab5da13955",
                "head": {
                    "label": "sanity-io:test/move-pte-e2e",
                    "ref": "test/move-pte-e2e",
                    "sha": "3c8eb093cd500fc17137567166a58dab5da13955",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "311d5b60438e33d0bd52c116f061b0c59c1bfdcf",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5080"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5080"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5080/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/3c8eb093cd500fc17137567166a58dab5da13955"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:16:23Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32896818834",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701545516,
                "node_id": "PRR_kwDOBLsq0M5la4Ys",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Sweet! Thanks a lot.",
                "commit_id": "3c8eb093cd500fc17137567166a58dab5da13955",
                "submitted_at": "2023-10-27T11:16:11Z",
                "state": "commented",
                "html_url": "https://github.com/sanity-io/sanity/pull/5080#pullrequestreview-1701545516",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5080#pullrequestreview-1701545516"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080",
                "id": 1575666900,
                "node_id": "PR_kwDOBLsq0M5d6sTU",
                "html_url": "https://github.com/sanity-io/sanity/pull/5080",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5080.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5080.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5080",
                "number": 5080,
                "state": "open",
                "locked": false,
                "title": "ci: move PTE e2e tests out in own workflow",
                "user": {
                    "login": "skogsmaskin",
                    "id": 373403,
                    "node_id": "MDQ6VXNlcjM3MzQwMw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/373403?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/skogsmaskin",
                    "html_url": "https://github.com/skogsmaskin",
                    "followers_url": "https://api.github.com/users/skogsmaskin/followers",
                    "following_url": "https://api.github.com/users/skogsmaskin/following{/other_user}",
                    "gists_url": "https://api.github.com/users/skogsmaskin/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/skogsmaskin/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/skogsmaskin/subscriptions",
                    "organizations_url": "https://api.github.com/users/skogsmaskin/orgs",
                    "repos_url": "https://api.github.com/users/skogsmaskin/repos",
                    "events_url": "https://api.github.com/users/skogsmaskin/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/skogsmaskin/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nMoved these tests into their own workflow to have them run more in isolation and speed up our unit tests (playwright dep. no longer needed).\r\n\r\n<!--\r\nWhat changes are introduced?\r\nWhy are these changes introduced?\r\nWhat issue(s) does this solve? (with link, if possible)\r\n-->\r\n\r\n### What to review\r\n\r\n<!--\r\nWhat steps should the reviewer take in order to review?\r\nWhat parts/flows of the application/packages/tooling is affected?\r\nAdd a test script, if that makes sense.\r\n-->\r\n\r\n### Notes for release\r\nN/A\r\n\r\n<!--\r\nA description of the change(s) that should be used in the release notes.\r\n-->\r\n",
                "created_at": "2023-10-26T22:31:10Z",
                "updated_at": "2023-10-27T11:16:11Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "9ee26698e34b46f1071eeff3d4ecb59c99a2c988",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "binoy14",
                        "id": 6476108,
                        "node_id": "MDQ6VXNlcjY0NzYxMDg=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/6476108?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/binoy14",
                        "html_url": "https://github.com/binoy14",
                        "followers_url": "https://api.github.com/users/binoy14/followers",
                        "following_url": "https://api.github.com/users/binoy14/following{/other_user}",
                        "gists_url": "https://api.github.com/users/binoy14/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/binoy14/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/binoy14/subscriptions",
                        "organizations_url": "https://api.github.com/users/binoy14/orgs",
                        "repos_url": "https://api.github.com/users/binoy14/repos",
                        "events_url": "https://api.github.com/users/binoy14/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/binoy14/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5080/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/3c8eb093cd500fc17137567166a58dab5da13955",
                "head": {
                    "label": "sanity-io:test/move-pte-e2e",
                    "ref": "test/move-pte-e2e",
                    "sha": "3c8eb093cd500fc17137567166a58dab5da13955",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "311d5b60438e33d0bd52c116f061b0c59c1bfdcf",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5080"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5080"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5080/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/3c8eb093cd500fc17137567166a58dab5da13955"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:16:11Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32896805146",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374423770",
                "pull_request_review_id": 1701544657,
                "id": 1374423770,
                "node_id": "PRRC_kwDOBLsq0M5R7Ara",
                "diff_hunk": "@@ -0,0 +1,100 @@\n+name: End-to-End PTE collaboration tests\n+on:\n+  # Build on pushes branches that have a PR (including drafts)\n+  pull_request:\n+  # Build on commits pushed to branches without a PR if it's in the allowlist\n+  push:\n+    branches: [next]\n+jobs:\n+  playwright-test:\n+    timeout-minutes: 30\n+    runs-on: ubuntu-latest\n+    env:\n+      TURBO_TOKEN: ${{ secrets.TURBO_TOKEN }}\n+      TURBO_TEAM: ${{ vars.TURBO_TEAM }}\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        project: [chromium]\n+        # Add more shards here if needed\n+        shardIndex: [1, 2]\n+        shardTotal: [2]\n+    steps:\n+      - uses: actions/checkout@v4\n+      - uses: actions/setup-node@v4\n+        with:\n+          node-version: 18\n+\n+      - name: Cache node modules\n+        id: cache-node-modules\n+        uses: actions/cache@v3\n+        env:\n+          cache-name: cache-node-modules\n+        with:\n+          path: '**/node_modules'\n+          key: ${{ runner.os }}-modules-${{ env.cache-name }}-${{ hashFiles('**/yarn.lock') }}\n+          restore-keys: |\n+            ${{ runner.os }}-modules-${{ env.cache-name }}-\n+            ${{ runner.os }}-modules-\n+            ${{ runner.os }}-\n+\n+      - name: Install project dependencies\n+        if: steps.cache-node-modules.outputs.cache-hit != 'true'\n+        run: yarn install --frozen-lockfile\n+\n+      - name: Store Playwright's Version\n+        run: |\n+          PLAYWRIGHT_VERSION=$(npx playwright --version | sed 's/Version //')\n+          echo \"Playwright's Version: $PLAYWRIGHT_VERSION\"\n+          echo \"PLAYWRIGHT_VERSION=$PLAYWRIGHT_VERSION\" >> $GITHUB_ENV\n+\n+      - name: Cache Playwright Browsers for Playwright's Version\n+        id: cache-playwright-browsers\n+        uses: actions/cache@v3\n+        with:\n+          path: ~/.cache/ms-playwright\n+          key: playwright-browsers-${{ env.PLAYWRIGHT_VERSION }}\n+\n+      - name: Install Playwright Browsers\n+        if: steps.cache-playwright-browsers.outputs.cache-hit != 'true'\n+        run: npx playwright install --with-deps\n+\n+      - name: Run end-to-end tests\n+        env:\n+          # Missing in docs but in use\n+          # here https://github.com/microsoft/playwright/blob/main/packages/playwright/src/reporters/blob.ts#L108\n+          PWTEST_BLOB_REPORT_NAME: ${{ matrix.project }}\n+        run: cd packages/@sanity/portable-text-editor && yarn test:e2e --silent --shard=${{ matrix.shardIndex}}/${{ matrix.shardTotal }}\n+\n+      - uses: actions/upload-artifact@v3\n+        if: always()\n+        with:\n+          name: playwright-report\n+          path: blob-report\n+          retention-days: 30\n+  merge-reports:",
                "path": ".github/workflows/e2e-pte.yml",
                "commit_id": "3c8eb093cd500fc17137567166a58dab5da13955",
                "original_commit_id": "8d9309b19642941f9e5968ac6987c25f86e0c308",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "cc @binoy14",
                "created_at": "2023-10-27T11:15:36Z",
                "updated_at": "2023-10-27T11:15:38Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/5080#discussion_r1374423770",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374423770"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5080#discussion_r1374423770"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374423770/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 75,
                "original_line": 75,
                "side": "RIGHT",
                "in_reply_to_id": 1373924282,
                "original_position": 75,
                "position": 75,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080",
                "id": 1575666900,
                "node_id": "PR_kwDOBLsq0M5d6sTU",
                "html_url": "https://github.com/sanity-io/sanity/pull/5080",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5080.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5080.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5080",
                "number": 5080,
                "state": "open",
                "locked": false,
                "title": "ci: move PTE e2e tests out in own workflow",
                "user": {
                    "login": "skogsmaskin",
                    "id": 373403,
                    "node_id": "MDQ6VXNlcjM3MzQwMw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/373403?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/skogsmaskin",
                    "html_url": "https://github.com/skogsmaskin",
                    "followers_url": "https://api.github.com/users/skogsmaskin/followers",
                    "following_url": "https://api.github.com/users/skogsmaskin/following{/other_user}",
                    "gists_url": "https://api.github.com/users/skogsmaskin/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/skogsmaskin/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/skogsmaskin/subscriptions",
                    "organizations_url": "https://api.github.com/users/skogsmaskin/orgs",
                    "repos_url": "https://api.github.com/users/skogsmaskin/repos",
                    "events_url": "https://api.github.com/users/skogsmaskin/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/skogsmaskin/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nMoved these tests into their own workflow to have them run more in isolation and speed up our unit tests (playwright dep. no longer needed).\r\n\r\n<!--\r\nWhat changes are introduced?\r\nWhy are these changes introduced?\r\nWhat issue(s) does this solve? (with link, if possible)\r\n-->\r\n\r\n### What to review\r\n\r\n<!--\r\nWhat steps should the reviewer take in order to review?\r\nWhat parts/flows of the application/packages/tooling is affected?\r\nAdd a test script, if that makes sense.\r\n-->\r\n\r\n### Notes for release\r\nN/A\r\n\r\n<!--\r\nA description of the change(s) that should be used in the release notes.\r\n-->\r\n",
                "created_at": "2023-10-26T22:31:10Z",
                "updated_at": "2023-10-27T11:15:38Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "9ee26698e34b46f1071eeff3d4ecb59c99a2c988",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "bjoerge",
                        "id": 876086,
                        "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/bjoerge",
                        "html_url": "https://github.com/bjoerge",
                        "followers_url": "https://api.github.com/users/bjoerge/followers",
                        "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                        "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                        "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                        "repos_url": "https://api.github.com/users/bjoerge/repos",
                        "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "binoy14",
                        "id": 6476108,
                        "node_id": "MDQ6VXNlcjY0NzYxMDg=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/6476108?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/binoy14",
                        "html_url": "https://github.com/binoy14",
                        "followers_url": "https://api.github.com/users/binoy14/followers",
                        "following_url": "https://api.github.com/users/binoy14/following{/other_user}",
                        "gists_url": "https://api.github.com/users/binoy14/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/binoy14/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/binoy14/subscriptions",
                        "organizations_url": "https://api.github.com/users/binoy14/orgs",
                        "repos_url": "https://api.github.com/users/binoy14/repos",
                        "events_url": "https://api.github.com/users/binoy14/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/binoy14/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5080/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/3c8eb093cd500fc17137567166a58dab5da13955",
                "head": {
                    "label": "sanity-io:test/move-pte-e2e",
                    "ref": "test/move-pte-e2e",
                    "sha": "3c8eb093cd500fc17137567166a58dab5da13955",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "311d5b60438e33d0bd52c116f061b0c59c1bfdcf",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5080"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5080"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5080/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/3c8eb093cd500fc17137567166a58dab5da13955"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:15:36Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32896805083",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701544657,
                "node_id": "PRR_kwDOBLsq0M5la4LR",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": null,
                "commit_id": "3c8eb093cd500fc17137567166a58dab5da13955",
                "submitted_at": "2023-10-27T11:15:38Z",
                "state": "commented",
                "html_url": "https://github.com/sanity-io/sanity/pull/5080#pullrequestreview-1701544657",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5080#pullrequestreview-1701544657"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080",
                "id": 1575666900,
                "node_id": "PR_kwDOBLsq0M5d6sTU",
                "html_url": "https://github.com/sanity-io/sanity/pull/5080",
                "diff_url": "https://github.com/sanity-io/sanity/pull/5080.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/5080.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/5080",
                "number": 5080,
                "state": "open",
                "locked": false,
                "title": "ci: move PTE e2e tests out in own workflow",
                "user": {
                    "login": "skogsmaskin",
                    "id": 373403,
                    "node_id": "MDQ6VXNlcjM3MzQwMw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/373403?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/skogsmaskin",
                    "html_url": "https://github.com/skogsmaskin",
                    "followers_url": "https://api.github.com/users/skogsmaskin/followers",
                    "following_url": "https://api.github.com/users/skogsmaskin/following{/other_user}",
                    "gists_url": "https://api.github.com/users/skogsmaskin/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/skogsmaskin/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/skogsmaskin/subscriptions",
                    "organizations_url": "https://api.github.com/users/skogsmaskin/orgs",
                    "repos_url": "https://api.github.com/users/skogsmaskin/repos",
                    "events_url": "https://api.github.com/users/skogsmaskin/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/skogsmaskin/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nMoved these tests into their own workflow to have them run more in isolation and speed up our unit tests (playwright dep. no longer needed).\r\n\r\n<!--\r\nWhat changes are introduced?\r\nWhy are these changes introduced?\r\nWhat issue(s) does this solve? (with link, if possible)\r\n-->\r\n\r\n### What to review\r\n\r\n<!--\r\nWhat steps should the reviewer take in order to review?\r\nWhat parts/flows of the application/packages/tooling is affected?\r\nAdd a test script, if that makes sense.\r\n-->\r\n\r\n### Notes for release\r\nN/A\r\n\r\n<!--\r\nA description of the change(s) that should be used in the release notes.\r\n-->\r\n",
                "created_at": "2023-10-26T22:31:10Z",
                "updated_at": "2023-10-27T11:15:38Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "9ee26698e34b46f1071eeff3d4ecb59c99a2c988",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "bjoerge",
                        "id": 876086,
                        "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/bjoerge",
                        "html_url": "https://github.com/bjoerge",
                        "followers_url": "https://api.github.com/users/bjoerge/followers",
                        "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                        "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                        "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                        "repos_url": "https://api.github.com/users/bjoerge/repos",
                        "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "binoy14",
                        "id": 6476108,
                        "node_id": "MDQ6VXNlcjY0NzYxMDg=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/6476108?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/binoy14",
                        "html_url": "https://github.com/binoy14",
                        "followers_url": "https://api.github.com/users/binoy14/followers",
                        "following_url": "https://api.github.com/users/binoy14/following{/other_user}",
                        "gists_url": "https://api.github.com/users/binoy14/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/binoy14/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/binoy14/subscriptions",
                        "organizations_url": "https://api.github.com/users/binoy14/orgs",
                        "repos_url": "https://api.github.com/users/binoy14/repos",
                        "events_url": "https://api.github.com/users/binoy14/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/binoy14/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/5080/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/3c8eb093cd500fc17137567166a58dab5da13955",
                "head": {
                    "label": "sanity-io:test/move-pte-e2e",
                    "ref": "test/move-pte-e2e",
                    "sha": "3c8eb093cd500fc17137567166a58dab5da13955",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "311d5b60438e33d0bd52c116f061b0c59c1bfdcf",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/5080"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5080"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/5080/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/5080/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/3c8eb093cd500fc17137567166a58dab5da13955"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:15:38Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634633",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374281805",
                "pull_request_review_id": 1699779299,
                "id": 1374281805,
                "node_id": "PRRC_kwDOBLsq0M5R6eBN",
                "diff_hunk": "@@ -0,0 +1,44 @@\n+import React, {useCallback, useMemo, useState} from 'react'\n+import {CommentsOnboardingContext} from './CommentsOnboardingContext'\n+import {CommentsOnboardingContextValue} from './types'\n+\n+const VERSION = 1\n+const LOCAL_STORAGE_KEY = `sanityStudio:comments:inspector:onboarding:dismissed:v${VERSION}`\n+\n+const setLocalStorage = (value: boolean) => {\n+  window.localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(value))\n+}\n+\n+const getLocalStorage = (): boolean => {\n+  const value = window.localStorage.getItem(LOCAL_STORAGE_KEY)\n+  return value ? JSON.parse(value) : false",
                "path": "packages/sanity/src/desk/comments/src/context/onboarding/CommentsOnboardingProvider.tsx",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "I would recommend wrapping this in a try catch and silently ignore any parse error. If, for some reason the local storage value isn't valid stringified json this will throw a disruptive error. The last thing we want is to ask people to clear their localstorage. Localstorage can be finicky, and sensitive to various security policies in incognito/private mode, so I would also consider adding error handling around every localstorage call making sure it basically cannot throw an error.",
                "created_at": "2023-10-27T09:00:48Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1374281805",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374281805"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1374281805"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374281805/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 14,
                "original_line": 14,
                "side": "RIGHT",
                "original_position": 14,
                "position": 14,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T09:00:48Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634597",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373315121",
                "pull_request_review_id": 1699779299,
                "id": 1373315121,
                "node_id": "PRRC_kwDOBLsq0M5R2yAx",
                "diff_hunk": "@@ -0,0 +1,222 @@\n+import React, {useCallback, useMemo, useRef, useState} from 'react'\n+import {\n+  Box,\n+  Button,\n+  Flex,\n+  Popover,\n+  Stack,\n+  Text,\n+  Tooltip,\n+  TooltipProps,\n+  useClickOutside,\n+} from '@sanity/ui'\n+import styled, {css} from 'styled-components'\n+import {\n+  CommentMessage,\n+  CommentInput,\n+  CommentInputHandle,\n+  hasCommentMessageValue,\n+  AddCommentIcon,\n+  CommentIcon,\n+  MentionOptionsHookValue,\n+} from '../../src'\n+import {CurrentUser, PortableTextBlock} from 'sanity'\n+\n+const TOOLTIP_DELAY: TooltipProps['delay'] = {open: 500}\n+\n+const TooltipText = styled(Text)`\n+  width: max-content;\n+`\n+\n+const ContentStack = styled(Stack)`\n+  width: 320px;\n+`\n+\n+const StyledPopover = styled(Popover)(({theme}) => {\n+  const {space} = theme.sanity\n+  const offsetX = space[1] * 2\n+  const offsetY = -3\n+\n+  return css`\n+    /* &[data-placement='right-start'] {",
                "path": "packages/sanity/src/desk/comments/plugin/field/CommentFieldButton.tsx",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "If we want this comment to be merged, I'd appreciate a little note explaining why we want to keep them. Commented out code has a tendency to not survive in a working state for long, so preferably remove?",
                "created_at": "2023-10-26T14:55:07Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373315121",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373315121"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373315121"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373315121/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 41,
                "original_line": 41,
                "side": "RIGHT",
                "original_position": 41,
                "position": 41,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T14:55:07Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634662",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374319657",
                "pull_request_review_id": 1699779299,
                "id": 1374319657,
                "node_id": "PRRC_kwDOBLsq0M5R6nQp",
                "diff_hunk": "@@ -0,0 +1,118 @@\n+/* eslint-disable max-nested-callbacks */\n+import {useState, useEffect, useMemo} from 'react'\n+import {Observable, concat, forkJoin, map, mergeMap, of, switchMap} from 'rxjs'\n+import {SanityDocument} from '@sanity/client'\n+import {sortBy} from 'lodash'\n+import {Loadable, MentionOptionUser, MentionOptionsHookValue} from '../../types'\n+import {grantsPermissionOn} from './helpers'\n+import {\n+  useProjectStore,\n+  useUserStore,\n+  useClient,\n+  DEFAULT_STUDIO_CLIENT_OPTIONS,\n+  ProjectData,\n+} from 'sanity'\n+\n+const INITIAL_STATE: MentionOptionsHookValue = {\n+  data: [],\n+  error: null,\n+  loading: true,\n+}\n+\n+export interface MentionHookOptions {\n+  documentValue: SanityDocument | null\n+}\n+\n+let cachedSystemGroups: [] | null = null\n+\n+export function useMentionOptions(opts: MentionHookOptions): MentionOptionsHookValue {\n+  const {documentValue} = opts\n+\n+  const projectStore = useProjectStore()\n+  const userStore = useUserStore()\n+  const client = useClient(DEFAULT_STUDIO_CLIENT_OPTIONS)\n+\n+  const [state, setState] = useState<MentionOptionsHookValue>(INITIAL_STATE)\n+\n+  const list$ = useMemo(() => {\n+    // 1. Get the project members and filter out the robot users\n+    const members$: Observable<ProjectData['members']> = projectStore\n+      .get()\n+      .pipe(map((res: ProjectData) => res.members?.filter((m) => !m.isRobot)))\n+\n+    // 2. Map the members to users to get more data of the users such as displayName (used for filtering)\n+    const users$: Observable<MentionOptionUser[]> = members$.pipe(\n+      switchMap(async (members) => {\n+        const ids = members.map(({id}) => id)\n+        const users = await userStore.getUsers(ids)\n+        return users\n+      }),\n+      map((res) =>\n+        res.map((user) => ({\n+          displayName: user.displayName,\n+          id: user.id,\n+          canBeMentioned: false,\n+        })),\n+      ),\n+    )\n+\n+    // 3. Get all the system groups. Use the cached response if it exists to avoid unnecessary requests.\n+    const cached = cachedSystemGroups\n+    const systemGroup$ = cached ? of(cached) : client.observable.fetch('*[_type == \"system.group\"]')\n+\n+    // 4. Check if the user has read permission on the document and set the `canBeMentioned` property\n+    const grants$: Observable<MentionOptionUser[]> = forkJoin([users$, systemGroup$]).pipe(",
                "path": "packages/sanity/src/desk/comments/src/hooks/use-mention-options/useMentionOptions.ts",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "As `forkJoin` will wait for both streams to complete,  this stream will only emit a single (tuple) value and then complete. Just making sure this is the desired behavior, as it means a user will have to reload the studio to be able to mention a newly added user (e.g. a user that was added to the project after this ran initially) \u2013 in the future we may want to ma ke it reactive? ",
                "created_at": "2023-10-27T09:34:05Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1374319657",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374319657"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1374319657"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374319657/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 64,
                "original_line": 64,
                "side": "RIGHT",
                "original_position": 64,
                "position": 64,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T09:34:05Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634617",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374284586",
                "pull_request_review_id": 1699779299,
                "id": 1374284586,
                "node_id": "PRRC_kwDOBLsq0M5R6esq",
                "diff_hunk": "@@ -0,0 +1,128 @@\n+import React, {useCallback, useEffect, useMemo, useState} from 'react'\n+import {SanityClient} from '@sanity/client'\n+import {CommentPostPayload} from '../../types'\n+import {CommentsSetupContext} from './CommentsSetupContext'\n+import {CommentsSetupContextValue} from './types'\n+import {useWorkspace, useClient, DEFAULT_STUDIO_CLIENT_OPTIONS} from 'sanity'\n+\n+interface CommentsClientProviderProps {\n+  children: React.ReactNode\n+}\n+\n+/**\n+ * @beta\n+ * @hidden\n+ */\n+export function CommentsSetupProvider(props: CommentsClientProviderProps) {\n+  const {children} = props\n+  const {dataset, projectId} = useWorkspace()\n+  const originalClient = useClient(DEFAULT_STUDIO_CLIENT_OPTIONS)\n+  const [addonDatasetClient, setAddonDatasetClient] = useState<SanityClient | null>(null)\n+  const [isRunningSetup, setIsRunningSetup] = useState<boolean>(false)\n+\n+  const getAddonDatasetName = useCallback(async (): Promise<string | undefined> => {\n+    const res = await originalClient.withConfig({apiVersion: 'vX'}).request({\n+      uri: `/projects/${projectId}/datasets?datasetProfile=comments&addonFor=${dataset}`,",
                "path": "packages/sanity/src/desk/comments/src/context/setup/CommentsSetupProvider.tsx",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Should there be a  tag added to this request too? e.g. `sanity.studio.(...)` (you're in a better position to judge what the particular tag should be)",
                "created_at": "2023-10-27T09:03:13Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1374284586",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374284586"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1374284586"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374284586/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 25,
                "original_line": 25,
                "side": "RIGHT",
                "original_position": 25,
                "position": 25,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T09:03:13Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634708",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374326598",
                "pull_request_review_id": 1699779299,
                "id": 1374326598,
                "node_id": "PRRC_kwDOBLsq0M5R6o9G",
                "diff_hunk": "@@ -0,0 +1,68 @@\n+import {useMemo} from 'react'\n+import {getPublishedId, useFeatureEnabled, useSource} from 'sanity'\n+\n+interface Disabled {\n+  isEnabled: false\n+  reason: 'disabled-by-config' | 'plan-upgrade-required' | 'loading'\n+}\n+\n+interface Enabled {\n+  isEnabled: true\n+  reason: null\n+}\n+\n+interface Loading {\n+  isEnabled: false\n+  reason: 'loading'\n+}\n+\n+type CommentsEnabled = Enabled | Disabled | Loading\n+\n+interface CommentsEnabledHookOptions {\n+  documentId: string\n+  documentType: string\n+}\n+\n+/**\n+ * @internal\n+ */\n+export function useCommentsEnabled(opts: CommentsEnabledHookOptions): CommentsEnabled {\n+  const {documentId, documentType} = opts\n+\n+  // 1. Plan check\n+  const {enabled: featureEnabled, isLoading} = useFeatureEnabled('studioComments')\n+\n+  // 2. Config check\n+  const {enabled} = useSource().document.unstable_comments\n+  const enabledFromConfig = enabled({documentType, documentId: getPublishedId(documentId)})\n+\n+  const commentsEnabled = useMemo(() => {\n+    if (isLoading) {\n+      return {\n+        isEnabled: false,\n+        reason: 'loading',\n+      } satisfies CommentsEnabled",
                "path": "packages/sanity/src/desk/comments/src/hooks/useCommentsEnabled.ts",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "is there any benefit from using satisfies vs typing the return value of this function as `CommentsEnabled`? (e.g. changing from `useMemo(() => {\u2026` to `useMemo((): CommentsEnabled => {`  above)",
                "created_at": "2023-10-27T09:40:38Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1374326598",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374326598"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1374326598"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374326598/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 44,
                "original_line": 44,
                "side": "RIGHT",
                "original_position": 44,
                "position": 44,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T09:40:38Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634698",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373281282",
                "pull_request_review_id": 1699779299,
                "id": 1373281282,
                "node_id": "PRRC_kwDOBLsq0M5R2pwC",
                "diff_hunk": "@@ -1,26 +1,23 @@\n-import {Box, Card, Flex} from '@sanity/ui'\n import React, {useEffect, useMemo, useState} from 'react'\n import styled, {css} from 'styled-components'\n+import {Box, Card, Flex, Theme} from '@sanity/ui'\n import {FieldPresence, FormNodePresence} from '../../../presence'\n import {DocumentFieldActionNode} from '../../../config'\n import {calcAvatarStackWidth} from '../../../presence/utils'\n import {FieldActionMenu} from '../../field'\n+import {FieldCommentsProps} from '../../types'\n \n-const Root = styled(Flex)({\n-  // This prevents the buttons from taking up extra vertical space in the flex layout,\n-  // due to their default vertical alignment being baseline.\n-  lineHeight: 1,\n-\n-  // This is needed for the floating actions menu\n-  position: 'relative',\n-})\n+const Root = styled(Flex)`\n+  /* Prevent buttons from taking up extra vertical space */\n+  line-height: 1;\n+  position: relative; /* For floating actions menu */",
                "path": "packages/sanity/src/core/form/components/formField/FormFieldBaseHeader.tsx",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "good catch, btw!",
                "created_at": "2023-10-26T14:32:56Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373281282",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373281282"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373281282"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373281282/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 13,
                "original_line": 13,
                "side": "RIGHT",
                "in_reply_to_id": 1373281023,
                "original_position": 22,
                "position": 22,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T14:32:56Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634710",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374330901",
                "pull_request_review_id": 1699779299,
                "id": 1374330901,
                "node_id": "PRRC_kwDOBLsq0M5R6qAV",
                "diff_hunk": "@@ -0,0 +1,187 @@\n+import {PortableTextBlock, User} from '@sanity/types'\n+\n+/**\n+ * @beta\n+ * @hidden",
                "path": "packages/sanity/src/desk/comments/src/types.ts",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "would be good if we could add a todo here that calls out documenting this as a remaining task for this feature",
                "created_at": "2023-10-27T09:44:40Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1374330901",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374330901"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1374330901"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374330901/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 5,
                "original_line": 5,
                "side": "RIGHT",
                "original_position": 5,
                "position": 5,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T09:44:40Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634658",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374308159",
                "pull_request_review_id": 1699779299,
                "id": 1374308159,
                "node_id": "PRRC_kwDOBLsq0M5R6kc_",
                "diff_hunk": "@@ -0,0 +1,72 @@\n+import {SanityDocument} from '@sanity/client'\n+import {evaluate, parse} from 'groq-js'\n+import {MentionOptionUser} from '../../types'\n+import {EvaluationParams, Grant, DocumentValuePermission, PermissionCheckResult} from 'sanity'\n+\n+// TODO:\n+// This code is copied from the `grantsStore.ts` and slightly modified to work with the `MentionOptionUser` type.\n+// TODO: Refactor this to be a shared function between the `grantsStore.ts` and this file.",
                "path": "packages/sanity/src/desk/comments/src/hooks/use-mention-options/helpers.ts",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "+1 do we/should we have a matching ticket for this?",
                "created_at": "2023-10-27T09:24:00Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1374308159",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374308159"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1374308159"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1374308159/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 8,
                "original_line": 8,
                "side": "RIGHT",
                "original_position": 8,
                "position": 8,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T09:24:00Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634578",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373293656",
                "pull_request_review_id": 1699779299,
                "id": 1373293656,
                "node_id": "PRRC_kwDOBLsq0M5R2sxY",
                "diff_hunk": "@@ -137,15 +151,19 @@ export function FormFieldBaseHeader(props: FormFieldBaseHeaderProps) {\n \n       {slotEl}\n \n-      {showFieldActions && (\n+      {shouldShowFloatingCard && !noCommentsOrActions && (",
                "path": "packages/sanity/src/core/form/components/formField/FormFieldBaseHeader.tsx",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "see comment above re:double negation. This would be more readable if it said `shouldShowFloatingCard || hasCommentsOrActions` (think you could even consider splitting it into `hasComments || hasActions`) ",
                "created_at": "2023-10-26T14:41:21Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373293656",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373293656"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373293656"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373293656/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 154,
                "original_line": 154,
                "side": "RIGHT",
                "original_position": 168,
                "position": 168,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T14:41:21Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634573",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373305992",
                "pull_request_review_id": 1699779299,
                "id": 1373305992,
                "node_id": "PRRC_kwDOBLsq0M5R2vyI",
                "diff_hunk": "@@ -14,6 +14,11 @@ import {usePrevious} from './usePrevious'\n  * })\n  * ```\n  */\n+\n+/**",
                "path": "packages/sanity/src/core/form/hooks/useDidUpdate.ts",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "This should not be in a separate docblock I believe?",
                "created_at": "2023-10-26T14:49:06Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373305992",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373305992"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373305992"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373305992/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 18,
                "original_line": 18,
                "side": "RIGHT",
                "original_position": 5,
                "position": 5,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T14:49:06Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634540",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373290879",
                "pull_request_review_id": 1699779299,
                "id": 1373290879,
                "node_id": "PRRC_kwDOBLsq0M5R2sF_",
                "diff_hunk": "@@ -43,72 +38,91 @@ const SlotBox = styled(Box)<{\n }>(({theme, $right, $fieldActionsVisible}) => {\n   const {space} = theme.sanity\n   const right = $fieldActionsVisible ? $right + space[1] : $right\n-\n   return css`\n     position: absolute;\n     bottom: 0;\n     right: ${right}px;\n   `\n })\n \n-const FieldActionsFloatingCard = styled(Card)(({theme}) => {\n+const FieldActionsFloatingCard = styled(Card)(({theme}: {theme: Theme}) => {\n   const {space} = theme.sanity\n-\n   return css`\n-    position: absolute;\n     bottom: 0;\n-    right: 0;\n+    gap: ${space[1] / 2}px;\n     padding: ${space[1] / 2}px;\n+    position: absolute;\n+    right: 0;\n   `\n })\n \n const MAX_AVATARS = 4\n \n interface FormFieldBaseHeaderProps {\n-  /** @internal @deprecated ONLY USED BY AI ASSIST PLUGIN */\n-  __internal_slot?: React.ReactNode\n+  __internal_comments?: FieldCommentsProps // DO NOT USE\n+  __internal_slot?: React.ReactNode // ONLY USED BY AI ASSIST PLUGIN\n   actions?: DocumentFieldActionNode[]\n   content: React.ReactNode\n   fieldFocused: boolean\n   fieldHovered: boolean\n   presence?: FormNodePresence[]\n }\n \n-/** @internal */\n export function FormFieldBaseHeader(props: FormFieldBaseHeaderProps) {\n-  const {__internal_slot: slot, actions, content, presence, fieldFocused, fieldHovered} = props\n-\n-  // The state refers to if a group field action menu is open\n+  const {\n+    __internal_comments: comments,\n+    __internal_slot: slot,\n+    actions,\n+    content,\n+    fieldFocused,\n+    fieldHovered,\n+    presence,\n+  } = props\n+\n+  // State for if an actions menu is open\n   const [menuOpen, setMenuOpen] = useState<boolean>(false)\n \n+  // States for floating card element and its width\n   const [floatingCardElement, setFloatingCardElement] = useState<HTMLDivElement | null>(null)\n+  const [floatingCardWidth, setFloatingCardWidth] = useState<number>(0)\n \n+  // States for slot element and its width\n   const [slotElement, setSlotElement] = useState<HTMLDivElement | null>(null)\n-\n-  // The amount the presence box should be offset to the right\n-  const [floatingCardWidth, setFloatingCardWidth] = useState<number>(0)\n   const [slotWidth, setSlotWidth] = useState<number>(0)\n \n+  // Extract comment related data with default values\n+  const {hasComments = false, button = null, isAddingComment = false} = comments || {}\n+\n+  // Determine if actions exist and if field actions should be shown\n   const hasActions = actions && actions.length > 0\n-  const showFieldActions = hasActions && (fieldFocused || fieldHovered || menuOpen)\n+  const showFieldActions = fieldFocused || fieldHovered || menuOpen || isAddingComment\n+\n+  // Determine if floating card with actions should be shown\n+  const shouldShowFloatingCard = showFieldActions || hasComments\n \n-  const presenceMaxWidth = calcAvatarStackWidth(MAX_AVATARS)\n+  // Determine the shadow level for the card\n+  const shadow = (showFieldActions && hasActions) || !hasComments ? 3 : undefined\n \n-  // Use the width of the floating card to offset the presence box\n+  // Determine if there are no comments or actions\n+  const noCommentsOrActions = !comments?.button && !hasActions",
                "path": "packages/sanity/src/core/form/components/formField/FormFieldBaseHeader.tsx",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "We should generally try to avoid double negations as they incur a bit of unnecessary cognitive load on the reader. Invert the logic and rename to `hasCommentsOrActions`?\n\nSide note: It's a bit unclear to me when reading this why we use a UI construct (button) to determine whether we have comments or not? Adding a comment would help clarify.",
                "created_at": "2023-10-26T14:39:32Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373290879",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373290879"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373290879"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373290879/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 107,
                "original_line": 107,
                "side": "RIGHT",
                "original_position": 132,
                "position": 132,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T14:39:32Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634537",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373283680",
                "pull_request_review_id": 1699779299,
                "id": 1373283680,
                "node_id": "PRRC_kwDOBLsq0M5R2qVg",
                "diff_hunk": "@@ -43,72 +38,91 @@ const SlotBox = styled(Box)<{\n }>(({theme, $right, $fieldActionsVisible}) => {\n   const {space} = theme.sanity\n   const right = $fieldActionsVisible ? $right + space[1] : $right\n-\n   return css`\n     position: absolute;\n     bottom: 0;\n     right: ${right}px;\n   `\n })\n \n-const FieldActionsFloatingCard = styled(Card)(({theme}) => {\n+const FieldActionsFloatingCard = styled(Card)(({theme}: {theme: Theme}) => {\n   const {space} = theme.sanity\n-\n   return css`\n-    position: absolute;\n     bottom: 0;\n-    right: 0;\n+    gap: ${space[1] / 2}px;\n     padding: ${space[1] / 2}px;\n+    position: absolute;\n+    right: 0;\n   `\n })\n \n const MAX_AVATARS = 4\n \n interface FormFieldBaseHeaderProps {\n-  /** @internal @deprecated ONLY USED BY AI ASSIST PLUGIN */\n-  __internal_slot?: React.ReactNode\n+  __internal_comments?: FieldCommentsProps // DO NOT USE\n+  __internal_slot?: React.ReactNode // ONLY USED BY AI ASSIST PLUGIN\n   actions?: DocumentFieldActionNode[]\n   content: React.ReactNode\n   fieldFocused: boolean\n   fieldHovered: boolean\n   presence?: FormNodePresence[]\n }\n \n-/** @internal */\n export function FormFieldBaseHeader(props: FormFieldBaseHeaderProps) {\n-  const {__internal_slot: slot, actions, content, presence, fieldFocused, fieldHovered} = props\n-\n-  // The state refers to if a group field action menu is open\n+  const {\n+    __internal_comments: comments,\n+    __internal_slot: slot,\n+    actions,\n+    content,\n+    fieldFocused,\n+    fieldHovered,\n+    presence,\n+  } = props\n+\n+  // State for if an actions menu is open\n   const [menuOpen, setMenuOpen] = useState<boolean>(false)\n \n+  // States for floating card element and its width\n   const [floatingCardElement, setFloatingCardElement] = useState<HTMLDivElement | null>(null)\n+  const [floatingCardWidth, setFloatingCardWidth] = useState<number>(0)\n \n+  // States for slot element and its width\n   const [slotElement, setSlotElement] = useState<HTMLDivElement | null>(null)\n-\n-  // The amount the presence box should be offset to the right\n-  const [floatingCardWidth, setFloatingCardWidth] = useState<number>(0)\n   const [slotWidth, setSlotWidth] = useState<number>(0)\n \n+  // Extract comment related data with default values\n+  const {hasComments = false, button = null, isAddingComment = false} = comments || {}\n+\n+  // Determine if actions exist and if field actions should be shown\n   const hasActions = actions && actions.length > 0\n-  const showFieldActions = hasActions && (fieldFocused || fieldHovered || menuOpen)\n+  const showFieldActions = fieldFocused || fieldHovered || menuOpen || isAddingComment\n+\n+  // Determine if floating card with actions should be shown\n+  const shouldShowFloatingCard = showFieldActions || hasComments\n \n-  const presenceMaxWidth = calcAvatarStackWidth(MAX_AVATARS)\n+  // Determine the shadow level for the card\n+  const shadow = (showFieldActions && hasActions) || !hasComments ? 3 : undefined\n \n-  // Use the width of the floating card to offset the presence box\n+  // Determine if there are no comments or actions\n+  const noCommentsOrActions = !comments?.button && !hasActions\n+\n+  // Calculate floating card's width\n   useEffect(() => {\n     if (floatingCardElement) {\n       const {width} = floatingCardElement.getBoundingClientRect()\n       setFloatingCardWidth(width || 0)\n     }\n   }, [floatingCardElement, showFieldActions])\n \n+  // Calculate slot element's width",
                "path": "packages/sanity/src/core/form/components/formField/FormFieldBaseHeader.tsx",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "thanks for adding these \ud83e\uddd1\u200d\ud83d\udd27",
                "created_at": "2023-10-26T14:34:37Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373283680",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373283680"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373283680"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373283680/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 117,
                "original_line": 117,
                "side": "RIGHT",
                "original_position": 142,
                "position": 142,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T14:34:37Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634511",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373281023",
                "pull_request_review_id": 1699779299,
                "id": 1373281023,
                "node_id": "PRRC_kwDOBLsq0M5R2pr_",
                "diff_hunk": "@@ -1,26 +1,23 @@\n-import {Box, Card, Flex} from '@sanity/ui'\n import React, {useEffect, useMemo, useState} from 'react'\n import styled, {css} from 'styled-components'\n+import {Box, Card, Flex, Theme} from '@sanity/ui'\n import {FieldPresence, FormNodePresence} from '../../../presence'\n import {DocumentFieldActionNode} from '../../../config'\n import {calcAvatarStackWidth} from '../../../presence/utils'\n import {FieldActionMenu} from '../../field'\n+import {FieldCommentsProps} from '../../types'\n \n-const Root = styled(Flex)({\n-  // This prevents the buttons from taking up extra vertical space in the flex layout,\n-  // due to their default vertical alignment being baseline.\n-  lineHeight: 1,\n-\n-  // This is needed for the floating actions menu\n-  position: 'relative',\n-})\n+const Root = styled(Flex)`\n+  /* Prevent buttons from taking up extra vertical space */\n+  line-height: 1;\n+  position: relative; /* For floating actions menu */",
                "path": "packages/sanity/src/core/form/components/formField/FormFieldBaseHeader.tsx",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "nit: place comment above?",
                "created_at": "2023-10-26T14:32:47Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373281023",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373281023"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373281023"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373281023/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 13,
                "original_line": 13,
                "side": "RIGHT",
                "original_position": 22,
                "position": 22,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T14:32:47Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    },
    {
        "id": "32894634472",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 876086,
            "login": "bjoerge",
            "display_login": "bjoerge",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bjoerge",
            "avatar_url": "https://avatars.githubusercontent.com/u/876086?"
        },
        "repo": {
            "id": 79375056,
            "name": "sanity-io/sanity",
            "url": "https://api.github.com/repos/sanity-io/sanity"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373279371",
                "pull_request_review_id": 1699779299,
                "id": 1373279371,
                "node_id": "PRRC_kwDOBLsq0M5R2pSL",
                "diff_hunk": "@@ -461,6 +466,12 @@ export interface DocumentInspectorContext extends ConfigContext {\n   documentType: string\n }\n \n+/** @hidden @beta */\n+export interface DocumentCommentsEnabledContext {",
                "path": "packages/sanity/src/core/config/types.ts",
                "commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "original_commit_id": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "user": {
                    "login": "bjoerge",
                    "id": 876086,
                    "node_id": "MDQ6VXNlcjg3NjA4Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/876086?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bjoerge",
                    "html_url": "https://github.com/bjoerge",
                    "followers_url": "https://api.github.com/users/bjoerge/followers",
                    "following_url": "https://api.github.com/users/bjoerge/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bjoerge/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bjoerge/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bjoerge/subscriptions",
                    "organizations_url": "https://api.github.com/users/bjoerge/orgs",
                    "repos_url": "https://api.github.com/users/bjoerge/repos",
                    "events_url": "https://api.github.com/users/bjoerge/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bjoerge/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "re:my previous comment - if we think of this as \"comments config\", rather than \"comments enabled\" we could make the name match the other context interfaces here, e.g. `DocumentCommentsContext` ",
                "created_at": "2023-10-26T14:31:41Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373279371",
                "pull_request_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373279371"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886#discussion_r1373279371"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments/1373279371/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 470,
                "original_line": 470,
                "side": "RIGHT",
                "original_position": 17,
                "position": 17,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886",
                "id": 1497311016,
                "node_id": "PR_kwDOBLsq0M5ZPyco",
                "html_url": "https://github.com/sanity-io/sanity/pull/4886",
                "diff_url": "https://github.com/sanity-io/sanity/pull/4886.diff",
                "patch_url": "https://github.com/sanity-io/sanity/pull/4886.patch",
                "issue_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886",
                "number": 4886,
                "state": "open",
                "locked": false,
                "title": "feat(desk): implement comments (beta)",
                "user": {
                    "login": "hermanwikner",
                    "id": 15094168,
                    "node_id": "MDQ6VXNlcjE1MDk0MTY4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/15094168?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/hermanwikner",
                    "html_url": "https://github.com/hermanwikner",
                    "followers_url": "https://api.github.com/users/hermanwikner/followers",
                    "following_url": "https://api.github.com/users/hermanwikner/following{/other_user}",
                    "gists_url": "https://api.github.com/users/hermanwikner/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/hermanwikner/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/hermanwikner/subscriptions",
                    "organizations_url": "https://api.github.com/users/hermanwikner/orgs",
                    "repos_url": "https://api.github.com/users/hermanwikner/repos",
                    "events_url": "https://api.github.com/users/hermanwikner/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/hermanwikner/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "### Description\r\n\r\nThis pull request introduces a new comments feature, providing the ability to add comments to specific fields within documents. The comments specific logic is implemented in `desk`, and some updates have been made to `core` to enable comments to be configured from the `desk` plugin. Please note that this pull request aims to introduce comments as a beta feature and there is thus room for improvement in the implementation that will be adressed before GA.\r\n\r\nThe changes made to `core` and `desk` respectively are divided into two sections below.\r\n\r\n### What to review: core (`DX` + `EX`)\r\n- **Field Comments:**\r\n  - Introduces a new `__internal_comments` prop for fields. This prop allows the configuration of fields with a comment action that is rendered along with Field Actions. The `desk` plugin uses this prop, as demonstrated in the following example:\r\n\r\n    ```ts\r\n    import {FieldProps} from 'sanity'\r\n    \r\n    export function CommentField(props: FieldProps) {\r\n      return props.renderDefault({\r\n        ...props,\r\n        __internal_comments: {\r\n          button: <CommentButton />, // The button rendered along with field actions\r\n          hasComments: false, // Needed to know if we should display the comment button when the field has comments\r\n          isAddingComment: false, // Needed to keep the field actions visible when authoring a comment\r\n        },\r\n      })\r\n    }\r\n    ```\r\n\r\n- **Document Comments API:**\r\n  - Adds a new (unstable) API to enable/disable the comments feature for documents. In the initial beta release, the comments feature is opt-in, requiring explicit configuration. The API provides both a simple boolean option to enable/disable comments for all documents and a more granular configuration by using the `documentType` and/or `documentId` values provided in the context parameter.\r\n\r\n    **Boolean example \u2013 Enable comments for all documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n    \r\n    export default defineConfig({\r\n      // ... \r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: true,\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n    **Context example \u2013 Enable comments only for 'article' documents:**\r\n    ```ts\r\n    import {defineConfig} from 'sanity'\r\n\r\n    export default defineConfig({\r\n      // ...\r\n    \r\n      document: {\r\n        unstable_comments: {\r\n          enabled: (ctx) => {\r\n            return ctx.documentType === 'article'\r\n          },\r\n        },\r\n      },\r\n    })\r\n    ```\r\n\r\n- **New exports from the sanity package:**\r\n  - The `useDidUpdate` hook.\r\n  - The `resolveConditionalProperty` function: We use this function to determine if a comment should be visible or not, ensuring that only comments related to visible fields are displayed.\r\n  - The `useFeatureEnabled` hook: This hook is essential to check if the comments feature is enabled for the current plan.\r\n\r\n##\r\n\r\n### What to review: desk (`EX`)\r\n#### Summary of critical elements in the implementation:\r\n\r\n- **`CommentsProvider`**: This provider is used in `DocumentPaneProvider` and is responsible for handling all CRUD operations.\r\n\r\n- **`CommentsSetupProvider`**: This provider wraps the entire studio through `studio.components.layout`. It is responsible for the setup of comments (using the setup endpoint) and configuring a client for the addon dataset. This client is accessed with `useCommentsSetup` in `CommentsProvider` to enable CRUD operations on the addon dataset.\r\n\r\n- **`CommentsOnboardingProvider`**: This provider is relatively straightforward and is responsible for storing a value in local storage if the user dismisses the comments onboarding. It is implemented as a provider because, in the future, there may be multiple instances where onboarding needs to be displayed.\r\n\r\n- **`useCommentOperations`**: This hook manages the logic for creating, editing, updating, or deleting comments.\r\n\r\n- **`useCommentsStore`**: This hook initiates the initial fetch of all comments, subscribes to a real-time listener, and manages the state using a reducer. The `dispatch` function in this hook is exported to facilitate immediate and optimistic state updates with callbacks provided by the `useCommentOperations`. That is, whenever e.g. a `create` operation is executed, we optimistically update the state in the reducer to make the experience feel snappy and fast.\r\n\r\n- **`useMentionOptions`**: This hook returns a list of users who can be mentioned in the current document. The hook performs the following tasks:\r\n    - Retrieves all grant filters using `'*[_type == \"system.group\u201d]'`.\r\n    - Evaluates each user's grant filter against the document's value to determine if the user has `read` access. If this is the case, it becomes possible to mention the user.\r\n\r\n- **`useCommentsEnabled`**: This hook checks whether the comments feature flag (`studioComments`) are enabled for the project and resolves `document.unstable_comments.enabled` to determine if the comment feature should be enabled. The default value in `document.unstable_comments.enabled` should be `false`, and the user needs to explicitly enable comments in the config to try it out. This hook is used in three different locations:\r\n\r\n    1. In `CommentField` to decide whether to render a field with a comment button or defer to the default field rendering.\r\n\r\n    2. In the `useMenuItem` hook within the document inspector definition to determine whether the inspector button should be set as `hidden: true`.\r\n\r\n    3. In `CommentsProvider` to determine whether to set up listeners, and so forth, for comments. If not, the provider is still rendered with nullified values.\r\n    \r\n- **`buildCommentBreadcrumbs`**: This function builds the breadcrumbs for a comment and evaluates the comment against the document value to determine whether it should be displayed. This evaluation is performed because we only want to display comments that have a corresponding field. If there is no associated field (e.g., if the schema definition has changed or an array item has been removed), the comment should not be displayed. This also applies if a conditional `hidden` callback returns `false`.\r\n\r\n- **`buildCommentThreadItems`**: This function maps over all the comments an groups them in a format that is easier to work with in the UI. \r\n\r\n### Notes for release\r\n\r\nn/a\r\n",
                "created_at": "2023-08-31T14:43:49Z",
                "updated_at": "2023-10-27T09:49:31Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "030ea398288842126f74025056a2e8e6e2d44ebb",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits",
                "review_comments_url": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments",
                "review_comment_url": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments",
                "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                "head": {
                    "label": "sanity-io:feat/comments-mvi-1",
                    "ref": "feat/comments-mvi-1",
                    "sha": "8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "base": {
                    "label": "sanity-io:next",
                    "ref": "next",
                    "sha": "01e3eef2ebdf0e175f506bbbd48db4f71dcd4b03",
                    "user": {
                        "login": "sanity-io",
                        "id": 17177659,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/sanity-io",
                        "html_url": "https://github.com/sanity-io",
                        "followers_url": "https://api.github.com/users/sanity-io/followers",
                        "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                        "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                        "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                        "repos_url": "https://api.github.com/users/sanity-io/repos",
                        "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 79375056,
                        "node_id": "MDEwOlJlcG9zaXRvcnk3OTM3NTA1Ng==",
                        "name": "sanity",
                        "full_name": "sanity-io/sanity",
                        "private": false,
                        "owner": {
                            "login": "sanity-io",
                            "id": 17177659,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3MTc3NjU5",
                            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/sanity-io",
                            "html_url": "https://github.com/sanity-io",
                            "followers_url": "https://api.github.com/users/sanity-io/followers",
                            "following_url": "https://api.github.com/users/sanity-io/following{/other_user}",
                            "gists_url": "https://api.github.com/users/sanity-io/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/sanity-io/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/sanity-io/subscriptions",
                            "organizations_url": "https://api.github.com/users/sanity-io/orgs",
                            "repos_url": "https://api.github.com/users/sanity-io/repos",
                            "events_url": "https://api.github.com/users/sanity-io/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/sanity-io/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/sanity-io/sanity",
                        "description": "Sanity Studio \u2013 Rapidly configure content workspaces powered by structured content",
                        "fork": false,
                        "url": "https://api.github.com/repos/sanity-io/sanity",
                        "forks_url": "https://api.github.com/repos/sanity-io/sanity/forks",
                        "keys_url": "https://api.github.com/repos/sanity-io/sanity/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/sanity-io/sanity/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/sanity-io/sanity/teams",
                        "hooks_url": "https://api.github.com/repos/sanity-io/sanity/hooks",
                        "issue_events_url": "https://api.github.com/repos/sanity-io/sanity/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/sanity-io/sanity/events",
                        "assignees_url": "https://api.github.com/repos/sanity-io/sanity/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/sanity-io/sanity/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/sanity-io/sanity/tags",
                        "blobs_url": "https://api.github.com/repos/sanity-io/sanity/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/sanity-io/sanity/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/sanity-io/sanity/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/sanity-io/sanity/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/sanity-io/sanity/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/sanity-io/sanity/languages",
                        "stargazers_url": "https://api.github.com/repos/sanity-io/sanity/stargazers",
                        "contributors_url": "https://api.github.com/repos/sanity-io/sanity/contributors",
                        "subscribers_url": "https://api.github.com/repos/sanity-io/sanity/subscribers",
                        "subscription_url": "https://api.github.com/repos/sanity-io/sanity/subscription",
                        "commits_url": "https://api.github.com/repos/sanity-io/sanity/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/sanity-io/sanity/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/sanity-io/sanity/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/sanity-io/sanity/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/sanity-io/sanity/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/sanity-io/sanity/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/sanity-io/sanity/merges",
                        "archive_url": "https://api.github.com/repos/sanity-io/sanity/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/sanity-io/sanity/downloads",
                        "issues_url": "https://api.github.com/repos/sanity-io/sanity/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/sanity-io/sanity/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/sanity-io/sanity/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/sanity-io/sanity/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/sanity-io/sanity/labels{/name}",
                        "releases_url": "https://api.github.com/repos/sanity-io/sanity/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/sanity-io/sanity/deployments",
                        "created_at": "2017-01-18T19:19:02Z",
                        "updated_at": "2023-10-26T15:52:47Z",
                        "pushed_at": "2023-10-27T08:40:17Z",
                        "git_url": "git://github.com/sanity-io/sanity.git",
                        "ssh_url": "git@github.com:sanity-io/sanity.git",
                        "clone_url": "https://github.com/sanity-io/sanity.git",
                        "svn_url": "https://github.com/sanity-io/sanity",
                        "homepage": "https://www.sanity.io",
                        "size": 67741,
                        "stargazers_count": 4636,
                        "watchers_count": 4636,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": false,
                        "has_downloads": true,
                        "has_wiki": false,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 382,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 309,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cms",
                            "headless",
                            "react",
                            "reactjs",
                            "real-time",
                            "realtime"
                        ],
                        "visibility": "public",
                        "forks": 382,
                        "open_issues": 309,
                        "watchers": 4636,
                        "default_branch": "next"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886"
                    },
                    "html": {
                        "href": "https://github.com/sanity-io/sanity/pull/4886"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/issues/4886/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/pulls/4886/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/sanity-io/sanity/statuses/8b156a5e8797d08ec6c8cd92b57dbcc5f1153be2"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T14:31:41Z",
        "org": {
            "id": 17177659,
            "login": "sanity-io",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/sanity-io",
            "avatar_url": "https://avatars.githubusercontent.com/u/17177659?"
        }
    }
]