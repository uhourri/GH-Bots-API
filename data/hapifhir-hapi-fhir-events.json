[
    {
        "id": "32888985898",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 22429695,
            "login": "codecov[bot]",
            "display_login": "codecov",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codecov[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/22429695?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408",
                "repository_url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408/labels{/name}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408/comments",
                "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408/events",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5408",
                "id": 1964757223,
                "node_id": "PR_kwDOAUMxRc5d7q08",
                "number": 5408,
                "title": "Transaction fails if SearchNarrowingInterceptor is registered and Partitioning Enabled - fix cross-tenant requests failure",
                "user": {
                    "login": "volodymyr-korzh",
                    "id": 132366313,
                    "node_id": "U_kgDOB-O_6Q",
                    "avatar_url": "https://avatars.githubusercontent.com/u/132366313?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/volodymyr-korzh",
                    "html_url": "https://github.com/volodymyr-korzh",
                    "followers_url": "https://api.github.com/users/volodymyr-korzh/followers",
                    "following_url": "https://api.github.com/users/volodymyr-korzh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/volodymyr-korzh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/volodymyr-korzh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/volodymyr-korzh/subscriptions",
                    "organizations_url": "https://api.github.com/users/volodymyr-korzh/orgs",
                    "repos_url": "https://api.github.com/users/volodymyr-korzh/repos",
                    "events_url": "https://api.github.com/users/volodymyr-korzh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/volodymyr-korzh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "volodymyr-korzh",
                    "id": 132366313,
                    "node_id": "U_kgDOB-O_6Q",
                    "avatar_url": "https://avatars.githubusercontent.com/u/132366313?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/volodymyr-korzh",
                    "html_url": "https://github.com/volodymyr-korzh",
                    "followers_url": "https://api.github.com/users/volodymyr-korzh/followers",
                    "following_url": "https://api.github.com/users/volodymyr-korzh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/volodymyr-korzh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/volodymyr-korzh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/volodymyr-korzh/subscriptions",
                    "organizations_url": "https://api.github.com/users/volodymyr-korzh/orgs",
                    "repos_url": "https://api.github.com/users/volodymyr-korzh/repos",
                    "events_url": "https://api.github.com/users/volodymyr-korzh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/volodymyr-korzh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "volodymyr-korzh",
                        "id": 132366313,
                        "node_id": "U_kgDOB-O_6Q",
                        "avatar_url": "https://avatars.githubusercontent.com/u/132366313?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/volodymyr-korzh",
                        "html_url": "https://github.com/volodymyr-korzh",
                        "followers_url": "https://api.github.com/users/volodymyr-korzh/followers",
                        "following_url": "https://api.github.com/users/volodymyr-korzh/following{/other_user}",
                        "gists_url": "https://api.github.com/users/volodymyr-korzh/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/volodymyr-korzh/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/volodymyr-korzh/subscriptions",
                        "organizations_url": "https://api.github.com/users/volodymyr-korzh/orgs",
                        "repos_url": "https://api.github.com/users/volodymyr-korzh/repos",
                        "events_url": "https://api.github.com/users/volodymyr-korzh/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/volodymyr-korzh/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 2,
                "created_at": "2023-10-27T04:44:43Z",
                "updated_at": "2023-10-27T05:42:50Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "draft": true,
                "pull_request": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5408",
                    "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5408",
                    "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5408.diff",
                    "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5408.patch",
                    "merged_at": null
                },
                "body": "Part of the fix for issue #5388 \r\nIncludes fix for cross-tenant request failure",
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments/1782329301",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5408#issuecomment-1782329301",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408",
                "id": 1782329301,
                "node_id": "IC_kwDOAUMxRc5qPC_V",
                "user": {
                    "login": "codecov[bot]",
                    "id": 22429695,
                    "node_id": "MDM6Qm90MjI0Mjk2OTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/in/254?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/codecov%5Bbot%5D",
                    "html_url": "https://github.com/apps/codecov",
                    "followers_url": "https://api.github.com/users/codecov%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/codecov%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/codecov%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/codecov%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/codecov%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/codecov%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/codecov%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/codecov%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/codecov%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "created_at": "2023-10-27T05:42:50Z",
                "updated_at": "2023-10-27T05:42:50Z",
                "author_association": "NONE",
                "body": "## [Codecov](https://app.codecov.io/gh/hapifhir/hapi-fhir/pull/5408?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=hapifhir) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> :exclamation: No coverage uploaded for pull request base (`rel_6_10@757ef72`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=hapifhir#section-missing-base-commit).\n\n> :exclamation: Current head 73ea57b differs from pull request most recent head c59fb62. Consider uploading reports for the commit c59fb62 to get more accurate results\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff             @@\n##             rel_6_10    #5408   +/-   ##\n===========================================\n  Coverage            ?   82.96%           \n  Complexity          ?    26504           \n===========================================\n  Files               ?     1635           \n  Lines               ?   102914           \n  Branches            ?    13136           \n===========================================\n  Hits                ?    85380           \n  Misses              ?    11920           \n  Partials            ?     5614           \n```\n\n\n\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/hapifhir/hapi-fhir/pull/5408?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=hapifhir).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=hapifhir).\n",
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments/1782329301/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T05:42:51Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32888170847",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 41898282,
            "login": "github-actions[bot]",
            "display_login": "github-actions",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/41898282?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408",
                "repository_url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408/labels{/name}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408/comments",
                "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408/events",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5408",
                "id": 1964757223,
                "node_id": "PR_kwDOAUMxRc5d7q08",
                "number": 5408,
                "title": "Transaction fails if SearchNarrowingInterceptor is registered and Partitioning Enabled - fix cross-tenant requests failure",
                "user": {
                    "login": "volodymyr-korzh",
                    "id": 132366313,
                    "node_id": "U_kgDOB-O_6Q",
                    "avatar_url": "https://avatars.githubusercontent.com/u/132366313?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/volodymyr-korzh",
                    "html_url": "https://github.com/volodymyr-korzh",
                    "followers_url": "https://api.github.com/users/volodymyr-korzh/followers",
                    "following_url": "https://api.github.com/users/volodymyr-korzh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/volodymyr-korzh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/volodymyr-korzh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/volodymyr-korzh/subscriptions",
                    "organizations_url": "https://api.github.com/users/volodymyr-korzh/orgs",
                    "repos_url": "https://api.github.com/users/volodymyr-korzh/repos",
                    "events_url": "https://api.github.com/users/volodymyr-korzh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/volodymyr-korzh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "volodymyr-korzh",
                    "id": 132366313,
                    "node_id": "U_kgDOB-O_6Q",
                    "avatar_url": "https://avatars.githubusercontent.com/u/132366313?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/volodymyr-korzh",
                    "html_url": "https://github.com/volodymyr-korzh",
                    "followers_url": "https://api.github.com/users/volodymyr-korzh/followers",
                    "following_url": "https://api.github.com/users/volodymyr-korzh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/volodymyr-korzh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/volodymyr-korzh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/volodymyr-korzh/subscriptions",
                    "organizations_url": "https://api.github.com/users/volodymyr-korzh/orgs",
                    "repos_url": "https://api.github.com/users/volodymyr-korzh/repos",
                    "events_url": "https://api.github.com/users/volodymyr-korzh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/volodymyr-korzh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "volodymyr-korzh",
                        "id": 132366313,
                        "node_id": "U_kgDOB-O_6Q",
                        "avatar_url": "https://avatars.githubusercontent.com/u/132366313?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/volodymyr-korzh",
                        "html_url": "https://github.com/volodymyr-korzh",
                        "followers_url": "https://api.github.com/users/volodymyr-korzh/followers",
                        "following_url": "https://api.github.com/users/volodymyr-korzh/following{/other_user}",
                        "gists_url": "https://api.github.com/users/volodymyr-korzh/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/volodymyr-korzh/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/volodymyr-korzh/subscriptions",
                        "organizations_url": "https://api.github.com/users/volodymyr-korzh/orgs",
                        "repos_url": "https://api.github.com/users/volodymyr-korzh/repos",
                        "events_url": "https://api.github.com/users/volodymyr-korzh/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/volodymyr-korzh/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-27T04:44:43Z",
                "updated_at": "2023-10-27T04:46:00Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "draft": true,
                "pull_request": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5408",
                    "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5408",
                    "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5408.diff",
                    "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5408.patch",
                    "merged_at": null
                },
                "body": null,
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments/1782285276",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5408#issuecomment-1782285276",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408",
                "id": 1782285276,
                "node_id": "IC_kwDOAUMxRc5qO4Pc",
                "user": {
                    "login": "github-actions[bot]",
                    "id": 41898282,
                    "node_id": "MDM6Qm90NDE4OTgyODI=",
                    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
                    "html_url": "https://github.com/apps/github-actions",
                    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "created_at": "2023-10-27T04:46:00Z",
                "updated_at": "2023-10-27T04:46:00Z",
                "author_association": "NONE",
                "body": "<!-- add-pr-comment:add-pr-comment -->\n\nFormatting check succeeded!",
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments/1782285276/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T04:46:00Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32888154515",
        "type": "PullRequestEvent",
        "actor": {
            "id": 132366313,
            "login": "volodymyr-korzh",
            "display_login": "volodymyr-korzh",
            "gravatar_id": "",
            "url": "https://api.github.com/users/volodymyr-korzh",
            "avatar_url": "https://avatars.githubusercontent.com/u/132366313?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "opened",
            "number": 5408,
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5408",
                "id": 1575923004,
                "node_id": "PR_kwDOAUMxRc5d7q08",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5408",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5408.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5408.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408",
                "number": 5408,
                "state": "open",
                "locked": false,
                "title": "Transaction fails if SearchNarrowingInterceptor is registered and Partitioning Enabled - fix cross-tenant requests failure",
                "user": {
                    "login": "volodymyr-korzh",
                    "id": 132366313,
                    "node_id": "U_kgDOB-O_6Q",
                    "avatar_url": "https://avatars.githubusercontent.com/u/132366313?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/volodymyr-korzh",
                    "html_url": "https://github.com/volodymyr-korzh",
                    "followers_url": "https://api.github.com/users/volodymyr-korzh/followers",
                    "following_url": "https://api.github.com/users/volodymyr-korzh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/volodymyr-korzh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/volodymyr-korzh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/volodymyr-korzh/subscriptions",
                    "organizations_url": "https://api.github.com/users/volodymyr-korzh/orgs",
                    "repos_url": "https://api.github.com/users/volodymyr-korzh/repos",
                    "events_url": "https://api.github.com/users/volodymyr-korzh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/volodymyr-korzh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": null,
                "created_at": "2023-10-27T04:44:43Z",
                "updated_at": "2023-10-27T04:44:43Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": null,
                "assignee": {
                    "login": "volodymyr-korzh",
                    "id": 132366313,
                    "node_id": "U_kgDOB-O_6Q",
                    "avatar_url": "https://avatars.githubusercontent.com/u/132366313?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/volodymyr-korzh",
                    "html_url": "https://github.com/volodymyr-korzh",
                    "followers_url": "https://api.github.com/users/volodymyr-korzh/followers",
                    "following_url": "https://api.github.com/users/volodymyr-korzh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/volodymyr-korzh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/volodymyr-korzh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/volodymyr-korzh/subscriptions",
                    "organizations_url": "https://api.github.com/users/volodymyr-korzh/orgs",
                    "repos_url": "https://api.github.com/users/volodymyr-korzh/repos",
                    "events_url": "https://api.github.com/users/volodymyr-korzh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/volodymyr-korzh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "volodymyr-korzh",
                        "id": 132366313,
                        "node_id": "U_kgDOB-O_6Q",
                        "avatar_url": "https://avatars.githubusercontent.com/u/132366313?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/volodymyr-korzh",
                        "html_url": "https://github.com/volodymyr-korzh",
                        "followers_url": "https://api.github.com/users/volodymyr-korzh/followers",
                        "following_url": "https://api.github.com/users/volodymyr-korzh/following{/other_user}",
                        "gists_url": "https://api.github.com/users/volodymyr-korzh/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/volodymyr-korzh/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/volodymyr-korzh/subscriptions",
                        "organizations_url": "https://api.github.com/users/volodymyr-korzh/orgs",
                        "repos_url": "https://api.github.com/users/volodymyr-korzh/repos",
                        "events_url": "https://api.github.com/users/volodymyr-korzh/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/volodymyr-korzh/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": true,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5408/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5408/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/c59fb62572102f31941ddded5b6c221ff39908ea",
                "head": {
                    "label": "hapifhir:5388-transaction-with-conditional-update-fails-if-searchnarrowinginterceptor-is-registered-and-enabled-partitioning-fix",
                    "ref": "5388-transaction-with-conditional-update-fails-if-searchnarrowinginterceptor-is-registered-and-enabled-partitioning-fix",
                    "sha": "c59fb62572102f31941ddded5b6c221ff39908ea",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-27T04:44:43Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967191,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 940,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 940,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "757ef722792220e6e5810df6ccec3fc79638c094",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-27T04:44:43Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967191,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 940,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 940,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5408"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5408"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5408/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5408/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5408/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/c59fb62572102f31941ddded5b6c221ff39908ea"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": false,
                "commits": 1,
                "additions": 70,
                "deletions": 2,
                "changed_files": 2
            }
        },
        "public": true,
        "created_at": "2023-10-27T04:44:45Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32888111067",
        "type": "CreateEvent",
        "actor": {
            "id": 132366313,
            "login": "volodymyr-korzh",
            "display_login": "volodymyr-korzh",
            "gravatar_id": "",
            "url": "https://api.github.com/users/volodymyr-korzh",
            "avatar_url": "https://avatars.githubusercontent.com/u/132366313?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "ref": "5388-transaction-with-conditional-update-fails-if-searchnarrowinginterceptor-is-registered-and-enabled-partitioning-fix",
            "ref_type": "branch",
            "master_branch": "master",
            "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-27T04:41:16Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32887601457",
        "type": "CreateEvent",
        "actor": {
            "id": 132295567,
            "login": "TynerGjs",
            "display_login": "TynerGjs",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TynerGjs",
            "avatar_url": "https://avatars.githubusercontent.com/u/132295567?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "ref": "5407-we-dont-have-guaranteed-subscription-delivery-if-a-resource-is-too-large",
            "ref_type": "branch",
            "master_branch": "master",
            "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-27T04:00:47Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32887596653",
        "type": "DeleteEvent",
        "actor": {
            "id": 132295567,
            "login": "TynerGjs",
            "display_login": "TynerGjs",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TynerGjs",
            "avatar_url": "https://avatars.githubusercontent.com/u/132295567?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "ref": "5407-we-dont-have-guaranteed-subscription-delivery-if-a-resource-is-too-large",
            "ref_type": "branch",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-27T04:00:26Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32887567114",
        "type": "CreateEvent",
        "actor": {
            "id": 132295567,
            "login": "TynerGjs",
            "display_login": "TynerGjs",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TynerGjs",
            "avatar_url": "https://avatars.githubusercontent.com/u/132295567?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "ref": "5407-we-dont-have-guaranteed-subscription-delivery-if-a-resource-is-too-large",
            "ref_type": "branch",
            "master_branch": "master",
            "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-27T03:58:07Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32887563596",
        "type": "IssuesEvent",
        "actor": {
            "id": 132295567,
            "login": "TynerGjs",
            "display_login": "TynerGjs",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TynerGjs",
            "avatar_url": "https://avatars.githubusercontent.com/u/132295567?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "opened",
            "issue": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5407",
                "repository_url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5407/labels{/name}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5407/comments",
                "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5407/events",
                "html_url": "https://github.com/hapifhir/hapi-fhir/issues/5407",
                "id": 1964719851,
                "node_id": "I_kwDOAUMxRc51Gz7r",
                "number": 5407,
                "title": "We don't have guaranteed subscription delivery if a resource is too large",
                "user": {
                    "login": "TynerGjs",
                    "id": 132295567,
                    "node_id": "U_kgDOB-Krjw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/132295567?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TynerGjs",
                    "html_url": "https://github.com/TynerGjs",
                    "followers_url": "https://api.github.com/users/TynerGjs/followers",
                    "following_url": "https://api.github.com/users/TynerGjs/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TynerGjs/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TynerGjs/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TynerGjs/subscriptions",
                    "organizations_url": "https://api.github.com/users/TynerGjs/orgs",
                    "repos_url": "https://api.github.com/users/TynerGjs/repos",
                    "events_url": "https://api.github.com/users/TynerGjs/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TynerGjs/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "TynerGjs",
                    "id": 132295567,
                    "node_id": "U_kgDOB-Krjw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/132295567?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TynerGjs",
                    "html_url": "https://github.com/TynerGjs",
                    "followers_url": "https://api.github.com/users/TynerGjs/followers",
                    "following_url": "https://api.github.com/users/TynerGjs/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TynerGjs/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TynerGjs/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TynerGjs/subscriptions",
                    "organizations_url": "https://api.github.com/users/TynerGjs/orgs",
                    "repos_url": "https://api.github.com/users/TynerGjs/repos",
                    "events_url": "https://api.github.com/users/TynerGjs/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TynerGjs/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "TynerGjs",
                        "id": 132295567,
                        "node_id": "U_kgDOB-Krjw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/132295567?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/TynerGjs",
                        "html_url": "https://github.com/TynerGjs",
                        "followers_url": "https://api.github.com/users/TynerGjs/followers",
                        "following_url": "https://api.github.com/users/TynerGjs/following{/other_user}",
                        "gists_url": "https://api.github.com/users/TynerGjs/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/TynerGjs/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/TynerGjs/subscriptions",
                        "organizations_url": "https://api.github.com/users/TynerGjs/orgs",
                        "repos_url": "https://api.github.com/users/TynerGjs/repos",
                        "events_url": "https://api.github.com/users/TynerGjs/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/TynerGjs/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 0,
                "created_at": "2023-10-27T03:57:49Z",
                "updated_at": "2023-10-27T03:57:49Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "**Describe the bug**\r\nIf the resource is larger than the maximum message size of the broker, the message submission will fail and keep retrying infinitely until the maximum message size is adjusted.\r\n\r\n**To Reproduce**\r\n1. Use Kafka and set the max message size lower than 1Mb (this should be the default size).\r\n2. Create a subscription on a resource type.\r\n3. Create one really big resource that will be matched to the subscription (larger than 1 Mb).  Here's one I used: [ALargePatient.json](https://github.com/hapifhir/hapi-fhir/files/13184816/ALargePatient.json)\r\n4. Submit it to the server.\r\n\r\n**Actual behavior**\r\n- Sending to subscription matching channel fails because message is too large.\r\n- Retry indefinitely until the maximum message size is adjusted.\r\n\r\n**Expected behavior**\r\n- The message is successfully sent.\r\n\r\n**Environment (please complete the following information):**\r\n - HAPI FHIR Version 6.11.0-SNAPSHOT\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5407/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5407/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T03:57:50Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32883647122",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 10132350,
            "login": "JPercival",
            "display_login": "JPercival",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JPercival",
            "avatar_url": "https://avatars.githubusercontent.com/u/10132350?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1700750518,
                "node_id": "PRR_kwDOAUMxRc5lX2S2",
                "user": {
                    "login": "JPercival",
                    "id": 10132350,
                    "node_id": "MDQ6VXNlcjEwMTMyMzUw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10132350?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/JPercival",
                    "html_url": "https://github.com/JPercival",
                    "followers_url": "https://api.github.com/users/JPercival/followers",
                    "following_url": "https://api.github.com/users/JPercival/following{/other_user}",
                    "gists_url": "https://api.github.com/users/JPercival/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/JPercival/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/JPercival/subscriptions",
                    "organizations_url": "https://api.github.com/users/JPercival/orgs",
                    "repos_url": "https://api.github.com/users/JPercival/repos",
                    "events_url": "https://api.github.com/users/JPercival/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/JPercival/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "33b040900ecd93bcf665236941427d5060f6b8a0",
                "submitted_at": "2023-10-26T22:48:03Z",
                "state": "approved",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5406#pullrequestreview-1700750518",
                "pull_request_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406",
                "author_association": "COLLABORATOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5406#pullrequestreview-1700750518"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406",
                "id": 1575671291,
                "node_id": "PR_kwDOAUMxRc5d6tX7",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5406",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5406.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5406.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406",
                "number": 5406,
                "state": "open",
                "locked": false,
                "title": "bump version of clinical reasoning",
                "user": {
                    "login": "Capt-Mac",
                    "id": 60718638,
                    "node_id": "MDQ6VXNlcjYwNzE4NjM4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/60718638?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Capt-Mac",
                    "html_url": "https://github.com/Capt-Mac",
                    "followers_url": "https://api.github.com/users/Capt-Mac/followers",
                    "following_url": "https://api.github.com/users/Capt-Mac/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Capt-Mac/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Capt-Mac/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Capt-Mac/subscriptions",
                    "organizations_url": "https://api.github.com/users/Capt-Mac/orgs",
                    "repos_url": "https://api.github.com/users/Capt-Mac/repos",
                    "events_url": "https://api.github.com/users/Capt-Mac/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Capt-Mac/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "fixes https://gitlab.com/simpatico.ai/cdr/-/issues/5236\r\nfixes https://github.com/hapifhir/hapi-fhir/issues/5404",
                "created_at": "2023-10-26T22:35:52Z",
                "updated_at": "2023-10-26T22:48:03Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "cfcaf57143ff76caf147b5b96baaeb3ec30b5c71",
                "assignee": {
                    "login": "Capt-Mac",
                    "id": 60718638,
                    "node_id": "MDQ6VXNlcjYwNzE4NjM4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/60718638?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Capt-Mac",
                    "html_url": "https://github.com/Capt-Mac",
                    "followers_url": "https://api.github.com/users/Capt-Mac/followers",
                    "following_url": "https://api.github.com/users/Capt-Mac/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Capt-Mac/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Capt-Mac/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Capt-Mac/subscriptions",
                    "organizations_url": "https://api.github.com/users/Capt-Mac/orgs",
                    "repos_url": "https://api.github.com/users/Capt-Mac/repos",
                    "events_url": "https://api.github.com/users/Capt-Mac/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Capt-Mac/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "Capt-Mac",
                        "id": 60718638,
                        "node_id": "MDQ6VXNlcjYwNzE4NjM4",
                        "avatar_url": "https://avatars.githubusercontent.com/u/60718638?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/Capt-Mac",
                        "html_url": "https://github.com/Capt-Mac",
                        "followers_url": "https://api.github.com/users/Capt-Mac/followers",
                        "following_url": "https://api.github.com/users/Capt-Mac/following{/other_user}",
                        "gists_url": "https://api.github.com/users/Capt-Mac/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/Capt-Mac/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/Capt-Mac/subscriptions",
                        "organizations_url": "https://api.github.com/users/Capt-Mac/orgs",
                        "repos_url": "https://api.github.com/users/Capt-Mac/repos",
                        "events_url": "https://api.github.com/users/Capt-Mac/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/Capt-Mac/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/33b040900ecd93bcf665236941427d5060f6b8a0",
                "head": {
                    "label": "hapifhir:5404-cql-translator-bug",
                    "ref": "5404-cql-translator-bug",
                    "sha": "33b040900ecd93bcf665236941427d5060f6b8a0",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T22:35:53Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967190,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "757ef722792220e6e5810df6ccec3fc79638c094",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T22:35:53Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967190,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5406"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/33b040900ecd93bcf665236941427d5060f6b8a0"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T22:48:04Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32883496035",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 41898282,
            "login": "github-actions[bot]",
            "display_login": "github-actions",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/41898282?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406",
                "repository_url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406/labels{/name}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406/comments",
                "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406/events",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5406",
                "id": 1964468912,
                "node_id": "PR_kwDOAUMxRc5d6tX7",
                "number": 5406,
                "title": "bump version of clinical reasoning",
                "user": {
                    "login": "Capt-Mac",
                    "id": 60718638,
                    "node_id": "MDQ6VXNlcjYwNzE4NjM4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/60718638?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Capt-Mac",
                    "html_url": "https://github.com/Capt-Mac",
                    "followers_url": "https://api.github.com/users/Capt-Mac/followers",
                    "following_url": "https://api.github.com/users/Capt-Mac/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Capt-Mac/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Capt-Mac/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Capt-Mac/subscriptions",
                    "organizations_url": "https://api.github.com/users/Capt-Mac/orgs",
                    "repos_url": "https://api.github.com/users/Capt-Mac/repos",
                    "events_url": "https://api.github.com/users/Capt-Mac/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Capt-Mac/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "Capt-Mac",
                    "id": 60718638,
                    "node_id": "MDQ6VXNlcjYwNzE4NjM4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/60718638?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Capt-Mac",
                    "html_url": "https://github.com/Capt-Mac",
                    "followers_url": "https://api.github.com/users/Capt-Mac/followers",
                    "following_url": "https://api.github.com/users/Capt-Mac/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Capt-Mac/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Capt-Mac/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Capt-Mac/subscriptions",
                    "organizations_url": "https://api.github.com/users/Capt-Mac/orgs",
                    "repos_url": "https://api.github.com/users/Capt-Mac/repos",
                    "events_url": "https://api.github.com/users/Capt-Mac/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Capt-Mac/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "Capt-Mac",
                        "id": 60718638,
                        "node_id": "MDQ6VXNlcjYwNzE4NjM4",
                        "avatar_url": "https://avatars.githubusercontent.com/u/60718638?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/Capt-Mac",
                        "html_url": "https://github.com/Capt-Mac",
                        "followers_url": "https://api.github.com/users/Capt-Mac/followers",
                        "following_url": "https://api.github.com/users/Capt-Mac/following{/other_user}",
                        "gists_url": "https://api.github.com/users/Capt-Mac/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/Capt-Mac/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/Capt-Mac/subscriptions",
                        "organizations_url": "https://api.github.com/users/Capt-Mac/orgs",
                        "repos_url": "https://api.github.com/users/Capt-Mac/repos",
                        "events_url": "https://api.github.com/users/Capt-Mac/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/Capt-Mac/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-26T22:35:52Z",
                "updated_at": "2023-10-26T22:37:21Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406",
                    "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5406",
                    "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5406.diff",
                    "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5406.patch",
                    "merged_at": null
                },
                "body": "fixes https://gitlab.com/simpatico.ai/cdr/-/issues/5236\r\nfixes https://github.com/hapifhir/hapi-fhir/issues/5404",
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments/1781985040",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5406#issuecomment-1781985040",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406",
                "id": 1781985040,
                "node_id": "IC_kwDOAUMxRc5qNu8Q",
                "user": {
                    "login": "github-actions[bot]",
                    "id": 41898282,
                    "node_id": "MDM6Qm90NDE4OTgyODI=",
                    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
                    "html_url": "https://github.com/apps/github-actions",
                    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "created_at": "2023-10-26T22:37:20Z",
                "updated_at": "2023-10-26T22:37:20Z",
                "author_association": "NONE",
                "body": "<!-- add-pr-comment:add-pr-comment -->\n\nFormatting check succeeded!",
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments/1781985040/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T22:37:21Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32883475689",
        "type": "PullRequestEvent",
        "actor": {
            "id": 60718638,
            "login": "Capt-Mac",
            "display_login": "Capt-Mac",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Capt-Mac",
            "avatar_url": "https://avatars.githubusercontent.com/u/60718638?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "opened",
            "number": 5406,
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406",
                "id": 1575671291,
                "node_id": "PR_kwDOAUMxRc5d6tX7",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5406",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5406.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5406.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406",
                "number": 5406,
                "state": "open",
                "locked": false,
                "title": "bump version of clinical reasoning",
                "user": {
                    "login": "Capt-Mac",
                    "id": 60718638,
                    "node_id": "MDQ6VXNlcjYwNzE4NjM4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/60718638?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Capt-Mac",
                    "html_url": "https://github.com/Capt-Mac",
                    "followers_url": "https://api.github.com/users/Capt-Mac/followers",
                    "following_url": "https://api.github.com/users/Capt-Mac/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Capt-Mac/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Capt-Mac/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Capt-Mac/subscriptions",
                    "organizations_url": "https://api.github.com/users/Capt-Mac/orgs",
                    "repos_url": "https://api.github.com/users/Capt-Mac/repos",
                    "events_url": "https://api.github.com/users/Capt-Mac/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Capt-Mac/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "fixes https://gitlab.com/simpatico.ai/cdr/-/issues/5236\r\nfixes https://github.com/hapifhir/hapi-fhir/issues/5404",
                "created_at": "2023-10-26T22:35:52Z",
                "updated_at": "2023-10-26T22:35:53Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": null,
                "assignee": {
                    "login": "Capt-Mac",
                    "id": 60718638,
                    "node_id": "MDQ6VXNlcjYwNzE4NjM4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/60718638?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Capt-Mac",
                    "html_url": "https://github.com/Capt-Mac",
                    "followers_url": "https://api.github.com/users/Capt-Mac/followers",
                    "following_url": "https://api.github.com/users/Capt-Mac/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Capt-Mac/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Capt-Mac/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Capt-Mac/subscriptions",
                    "organizations_url": "https://api.github.com/users/Capt-Mac/orgs",
                    "repos_url": "https://api.github.com/users/Capt-Mac/repos",
                    "events_url": "https://api.github.com/users/Capt-Mac/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Capt-Mac/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "Capt-Mac",
                        "id": 60718638,
                        "node_id": "MDQ6VXNlcjYwNzE4NjM4",
                        "avatar_url": "https://avatars.githubusercontent.com/u/60718638?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/Capt-Mac",
                        "html_url": "https://github.com/Capt-Mac",
                        "followers_url": "https://api.github.com/users/Capt-Mac/followers",
                        "following_url": "https://api.github.com/users/Capt-Mac/following{/other_user}",
                        "gists_url": "https://api.github.com/users/Capt-Mac/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/Capt-Mac/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/Capt-Mac/subscriptions",
                        "organizations_url": "https://api.github.com/users/Capt-Mac/orgs",
                        "repos_url": "https://api.github.com/users/Capt-Mac/repos",
                        "events_url": "https://api.github.com/users/Capt-Mac/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/Capt-Mac/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_reviewers": [
                    {
                        "login": "JPercival",
                        "id": 10132350,
                        "node_id": "MDQ6VXNlcjEwMTMyMzUw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10132350?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/JPercival",
                        "html_url": "https://github.com/JPercival",
                        "followers_url": "https://api.github.com/users/JPercival/followers",
                        "following_url": "https://api.github.com/users/JPercival/following{/other_user}",
                        "gists_url": "https://api.github.com/users/JPercival/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/JPercival/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/JPercival/subscriptions",
                        "organizations_url": "https://api.github.com/users/JPercival/orgs",
                        "repos_url": "https://api.github.com/users/JPercival/repos",
                        "events_url": "https://api.github.com/users/JPercival/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/JPercival/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/33b040900ecd93bcf665236941427d5060f6b8a0",
                "head": {
                    "label": "hapifhir:5404-cql-translator-bug",
                    "ref": "5404-cql-translator-bug",
                    "sha": "33b040900ecd93bcf665236941427d5060f6b8a0",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T22:35:53Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967190,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "757ef722792220e6e5810df6ccec3fc79638c094",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T22:35:53Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967190,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5406"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5406/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5406/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/33b040900ecd93bcf665236941427d5060f6b8a0"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": false,
                "commits": 1,
                "additions": 5,
                "deletions": 1,
                "changed_files": 2
            }
        },
        "public": true,
        "created_at": "2023-10-26T22:35:54Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32883435021",
        "type": "CreateEvent",
        "actor": {
            "id": 60718638,
            "login": "Capt-Mac",
            "display_login": "Capt-Mac",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Capt-Mac",
            "avatar_url": "https://avatars.githubusercontent.com/u/60718638?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "ref": "5404-cql-translator-bug",
            "ref_type": "branch",
            "master_branch": "master",
            "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-26T22:33:08Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32881286737",
        "type": "DeleteEvent",
        "actor": {
            "id": 10764269,
            "login": "michaelabuckley",
            "display_login": "michaelabuckley",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelabuckley",
            "avatar_url": "https://avatars.githubusercontent.com/u/10764269?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "ref": "5395-search-cleaner-faster",
            "ref_type": "branch",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-26T20:37:07Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32881285969",
        "type": "PushEvent",
        "actor": {
            "id": 10764269,
            "login": "michaelabuckley",
            "display_login": "michaelabuckley",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelabuckley",
            "avatar_url": "https://avatars.githubusercontent.com/u/10764269?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "repository_id": 21180741,
            "push_id": 15582870817,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/rel_6_10",
            "head": "757ef722792220e6e5810df6ccec3fc79638c094",
            "before": "cf3cf2547db270f3fdfe572a7bf8261118790300",
            "commits": [
                {
                    "sha": "757ef722792220e6e5810df6ccec3fc79638c094",
                    "author": {
                        "email": "michaelabuckley@gmail.com",
                        "name": "michaelabuckley"
                    },
                    "message": "Clean stale search results more aggressively. (#5396)\n\nUse bulk DMA statements when cleaning the search cache.\r\nThe cleaner job now works as long as possible until a deadline based on the scheduling frequency.",
                    "distinct": true,
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits/757ef722792220e6e5810df6ccec3fc79638c094"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T20:37:05Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32881285671",
        "type": "PullRequestEvent",
        "actor": {
            "id": 10764269,
            "login": "michaelabuckley",
            "display_login": "michaelabuckley",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelabuckley",
            "avatar_url": "https://avatars.githubusercontent.com/u/10764269?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "closed",
            "number": 5396,
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "id": 1569379600,
                "node_id": "PR_kwDOAUMxRc5ditUQ",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396",
                "number": 5396,
                "state": "closed",
                "locked": false,
                "title": "Clean stale search results more aggressively.",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Closes #5395\r\n\r\nUse bulk DMA statements to delete more data with less server IO.  Also run longer, and use an explicit deadline instead of a hard-coded batch size.\r\n",
                "created_at": "2023-10-23T15:02:17Z",
                "updated_at": "2023-10-26T20:37:04Z",
                "closed_at": "2023-10-26T20:37:03Z",
                "merged_at": "2023-10-26T20:37:03Z",
                "merge_commit_sha": "757ef722792220e6e5810df6ccec3fc79638c094",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "head": {
                    "label": "hapifhir:5395-search-cleaner-faster",
                    "ref": "5395-search-cleaner-faster",
                    "sha": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T20:37:03Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 937,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 937,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "edb01a891a4cc155cb2040a7835d8fad6e8ca5f6",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T20:37:03Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 937,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 937,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": {
                    "enabled_by": {
                        "login": "michaelabuckley",
                        "id": 10764269,
                        "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/michaelabuckley",
                        "html_url": "https://github.com/michaelabuckley",
                        "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                        "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                        "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                        "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                        "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                        "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "merge_method": "squash",
                    "commit_title": "Clean stale search results more aggressively. (#5396)",
                    "commit_message": "Use bulk DMA statements when cleaning the search cache.\r\nThe cleaner job now works as long as possible until a deadline based on the scheduling frequency."
                },
                "active_lock_reason": null,
                "merged": true,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "comments": 2,
                "review_comments": 5,
                "maintainer_can_modify": false,
                "commits": 23,
                "additions": 374,
                "deletions": 175,
                "changed_files": 17
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:37:04Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32881255899",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 10764269,
            "login": "michaelabuckley",
            "display_login": "michaelabuckley",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelabuckley",
            "avatar_url": "https://avatars.githubusercontent.com/u/10764269?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373786480",
                "pull_request_review_id": 1700602526,
                "id": 1373786480,
                "node_id": "PRRC_kwDOAUMxRc5R4lFw",
                "diff_hunk": "@@ -169,128 +177,271 @@ public Optional<Search> findCandidatesForReuse(\n \t\treturn Optional.empty();\n \t}\n \n-\t@Override\n-\tpublic void pollForStaleSearchesAndDeleteThem(RequestPartitionId theRequestPartitionId) {\n-\t\tHapiTransactionService.noTransactionAllowed();\n+\t/**\n+\t * A transient worker for a single pass through stale-search deletion.\n+\t */\n+\tclass DeleteRun {\n+\t\tfinal RequestPartitionId myRequestPartitionId;\n+\t\tfinal Instant myDeadline;\n+\t\tfinal Date myCutoffForDeletion;\n+\t\tfinal Set<Long> myUpdateDeletedFlagBatch = new HashSet<>();\n+\t\tfinal Set<Long> myDeleteSearchBatch = new HashSet<>();\n+\t\t/** the Search pids of the SearchResults we plan to delete in a chunk */\n+\t\tfinal Set<Long> myDeleteSearchResultsBatch = new HashSet<>();\n+\t\t/**\n+\t\t * Number of results we have queued up in mySearchPidsToDeleteResults to delete.\n+\t\t * We try to keep this to a reasonable size to avoid long transactions that may escalate to a table lock.\n+\t\t */\n+\t\tprivate int myDeleteSearchResultsBatchCount = 0;\n+\n+\t\tDeleteRun(Instant theDeadline, Date theCutoffForDeletion, RequestPartitionId theRequestPartitionId) {\n+\t\t\tmyDeadline = theDeadline;\n+\t\t\tmyCutoffForDeletion = theCutoffForDeletion;\n+\t\t\tmyRequestPartitionId = theRequestPartitionId;\n+\t\t}\n \n-\t\tif (!myStorageSettings.isExpireSearchResults()) {\n-\t\t\treturn;\n+\t\t/**\n+\t\t * Mark all ids in the mySearchesToMarkForDeletion buffer as deleted, and clear the buffer.\n+\t\t */\n+\t\tpublic void flushDeleteMarks() {\n+\t\t\tif (myUpdateDeletedFlagBatch.isEmpty()) {\n+\t\t\t\treturn;\n+\t\t\t}\n+\t\t\tourLog.debug(\"Marking {} searches as deleted\", myUpdateDeletedFlagBatch.size());\n+\t\t\tmySearchDao.updateDeleted(myUpdateDeletedFlagBatch, true);\n+\t\t\tmyUpdateDeletedFlagBatch.clear();\n+\t\t\tcommitOpenChanges();\n \t\t}\n \n-\t\tlong cutoffMillis = myStorageSettings.getExpireSearchResultsAfterMillis();\n-\t\tif (myStorageSettings.getReuseCachedSearchResultsForMillis() != null) {\n-\t\t\tcutoffMillis = cutoffMillis + myStorageSettings.getReuseCachedSearchResultsForMillis();\n+\t\t/**\n+\t\t * Dig into the guts of our Hibernate session, flush any changes in the session, and commit the underlying connection.\n+\t\t */\n+\t\tprivate void commitOpenChanges() {\n+\t\t\t// flush to force Hibernate to actually get a connection from the pool\n+\t\t\tmyEntityManager.flush();\n+\t\t\t// get our connection from the underlying Hibernate session, and commit\n+\t\t\t//noinspection resource\n+\t\t\tmyEntityManager.unwrap(Session.class).doWork(Connection::commit);\n \t\t}\n-\t\tfinal Date cutoff = new Date((now() - cutoffMillis) - myCutoffSlack);\n \n-\t\tif (ourNowForUnitTests != null) {\n-\t\t\tourLog.info(\n-\t\t\t\t\t\"Searching for searches which are before {} - now is {}\",\n-\t\t\t\t\tnew InstantType(cutoff),\n-\t\t\t\t\tnew InstantType(new Date(now())));\n+\t\tvoid throwIfDeadlineExpired() {\n+\t\t\tboolean result = Instant.ofEpochMilli(now()).isAfter(myDeadline);\n+\t\t\tif (result) {\n+\t\t\t\tthrow new DeadlineException(\n+\t\t\t\t\t\tMsg.code(2443) + \"Deadline expired while cleaning Search cache - \" + myDeadline);\n+\t\t\t}\n \t\t}\n \n-\t\tourLog.debug(\"Searching for searches which are before {}\", cutoff);\n+\t\tprivate int deleteMarkedSearchesInBatches() {\n+\t\t\tAtomicInteger deletedCounter = new AtomicInteger(0);\n \n-\t\t// Mark searches as deleted if they should be\n-\t\tfinal Slice<Long> toMarkDeleted = myTransactionService\n-\t\t\t\t.withSystemRequestOnPartition(theRequestPartitionId)\n-\t\t\t\t.execute(theStatus -> mySearchDao.findWhereCreatedBefore(\n-\t\t\t\t\t\tcutoff, new Date(), PageRequest.of(0, ourMaximumSearchesToCheckForDeletionCandidacy)));\n-\t\tassert toMarkDeleted != null;\n-\t\tfor (final Long nextSearchToDelete : toMarkDeleted) {\n-\t\t\tourLog.debug(\"Deleting search with PID {}\", nextSearchToDelete);\n-\t\t\tmyTransactionService\n-\t\t\t\t\t.withSystemRequest()\n-\t\t\t\t\t.withRequestPartitionId(theRequestPartitionId)\n-\t\t\t\t\t.execute(t -> {\n-\t\t\t\t\t\tmySearchDao.updateDeleted(nextSearchToDelete, true);\n-\t\t\t\t\t\treturn null;\n-\t\t\t\t\t});\n+\t\t\ttry (final Stream<SearchIdAndResultSize> toDelete = mySearchDao.findDeleted()) {\n+\t\t\t\tassert toDelete != null;\n+\n+\t\t\t\ttoDelete.forEach(nextSearchToDelete -> {\n+\t\t\t\t\tthrowIfDeadlineExpired();\n+\n+\t\t\t\t\tdeleteSearchAndResults(nextSearchToDelete.searchId, nextSearchToDelete.size);\n+\n+\t\t\t\t\tdeletedCounter.incrementAndGet();\n+\t\t\t\t});\n+\t\t\t}\n+\n+\t\t\t// flush anything left in the buffers\n+\t\t\tflushSearchResultDeletes();\n+\t\t\tflushSearchAndIncludeDeletes();\n+\n+\t\t\tint deletedCount = deletedCounter.get();\n+\n+\t\t\tourLog.info(\"Deleted {} expired searches\", deletedCount);\n+\n+\t\t\treturn deletedCount;\n \t\t}\n \n-\t\t// Delete searches that are marked as deleted\n-\t\tfinal Slice<Long> toDelete = myTransactionService\n-\t\t\t\t.withSystemRequestOnPartition(theRequestPartitionId)\n-\t\t\t\t.execute(theStatus ->\n-\t\t\t\t\t\tmySearchDao.findDeleted(PageRequest.of(0, ourMaximumSearchesToCheckForDeletionCandidacy)));\n-\t\tassert toDelete != null;\n-\t\tfor (final Long nextSearchToDelete : toDelete) {\n-\t\t\tourLog.debug(\"Deleting search with PID {}\", nextSearchToDelete);\n-\t\t\tmyTransactionService\n-\t\t\t\t\t.withSystemRequest()\n-\t\t\t\t\t.withRequestPartitionId(theRequestPartitionId)\n-\t\t\t\t\t.execute(t -> {\n-\t\t\t\t\t\tdeleteSearch(nextSearchToDelete);\n-\t\t\t\t\t\treturn null;\n-\t\t\t\t\t});\n+\t\t/**\n+\t\t * Schedule theSearchPid for deletion assuming it has theNumberOfResults SearchResults attached.\n+\t\t *\n+\t\t * We accumulate a batch of search pids for deletion, and then do a bulk DML as we reach a threshold number\n+\t\t * of SearchResults.\n+\t\t *\n+\t\t * @param theSearchPid pk of the Search\n+\t\t * @param theNumberOfResults the number of SearchResults attached\n+\t\t */\n+\t\tprivate void deleteSearchAndResults(long theSearchPid, int theNumberOfResults) {\n+\t\t\tourLog.trace(\"Buffering deletion of search pid {} and {} results\", theSearchPid, theNumberOfResults);\n+\n+\t\t\tmyDeleteSearchBatch.add(theSearchPid);\n+\n+\t\t\tif (theNumberOfResults > ourMaximumResultsToDeleteInOneCommit) {\n+\t\t\t\t// don't buffer this one - do it inline\n+\t\t\t\tdeleteSearchResultsByChunk(theSearchPid, theNumberOfResults);\n+\t\t\t\treturn;\n+\t\t\t}\n+\t\t\tmyDeleteSearchResultsBatch.add(theSearchPid);\n+\t\t\tmyDeleteSearchResultsBatchCount += theNumberOfResults;\n+\n+\t\t\tif (myDeleteSearchResultsBatchCount > ourMaximumResultsToDeleteInOneCommit) {\n+\t\t\t\tflushSearchResultDeletes();\n+\t\t\t}\n+\n+\t\t\tif (myDeleteSearchBatch.size() > ourMaximumResultsToDeleteInOneStatement) {\n+\t\t\t\t// flush the results to make sure we don't have any references.\n+\t\t\t\tflushSearchResultDeletes();\n+\n+\t\t\t\tflushSearchAndIncludeDeletes();\n+\t\t\t}\n \t\t}\n \n-\t\tint count = toDelete.getContent().size();\n-\t\tif (count > 0) {\n-\t\t\tif (ourLog.isDebugEnabled() || HapiSystemProperties.isTestModeEnabled()) {\n-\t\t\t\tLong total = myTransactionService\n-\t\t\t\t\t\t.withSystemRequest()\n-\t\t\t\t\t\t.withRequestPartitionId(theRequestPartitionId)\n-\t\t\t\t\t\t.execute(t -> mySearchDao.count());\n-\t\t\t\tourLog.debug(\"Deleted {} searches, {} remaining\", count, total);\n+\t\t/**\n+\t\t * If this Search has more results than our max delete size,\n+\t\t * delete in by itself in range chunks.\n+\t\t * @param theSearchPid the target Search pid\n+\t\t * @param theNumberOfResults the number of search results present\n+\t\t */\n+\t\tprivate void deleteSearchResultsByChunk(long theSearchPid, int theNumberOfResults) {\n+\t\t\tourLog.debug(\n+\t\t\t\t\t\"Search {} is large: has {} results.  Deleting results in chunks.\",\n+\t\t\t\t\ttheSearchPid,\n+\t\t\t\t\ttheNumberOfResults);\n+\t\t\tfor (int rangeEnd = theNumberOfResults; rangeEnd >= 0; rangeEnd -= ourMaximumResultsToDeleteInOneCommit) {\n+\t\t\t\tint rangeStart = rangeEnd - ourMaximumResultsToDeleteInOneCommit;\n+\t\t\t\tourLog.trace(\"Deleting results for search {}: {} - {}\", theSearchPid, rangeStart, rangeEnd);\n+\t\t\t\tmySearchResultDao.deleteBySearchIdInRange(theSearchPid, rangeStart, rangeEnd);\n+\t\t\t\tcommitOpenChanges();\n \t\t\t}\n \t\t}\n-\t}\n \n-\tprivate void deleteSearch(final Long theSearchPid) {\n-\t\tmySearchDao.findById(theSearchPid).ifPresent(searchToDelete -> {\n-\t\t\tmySearchIncludeDao.deleteForSearch(searchToDelete.getId());\n-\n-\t\t\t/*\n-\t\t\t * Note, we're only deleting up to 500 results in an individual search here. This\n-\t\t\t * is to prevent really long running transactions in cases where there are\n-\t\t\t * huge searches with tons of results in them. By the time we've gotten here\n-\t\t\t * we have marked the parent Search entity as deleted, so it's not such a\n-\t\t\t * huge deal to be only partially deleting search results. They'll get deleted\n-\t\t\t * eventually\n-\t\t\t */\n-\t\t\tint max = ourMaximumResultsToDeleteInOnePass;\n-\t\t\tSlice<Long> resultPids = mySearchResultDao.findForSearch(PageRequest.of(0, max), searchToDelete.getId());\n-\t\t\tif (resultPids.hasContent()) {\n-\t\t\t\tList<List<Long>> partitions =\n-\t\t\t\t\t\tLists.partition(resultPids.getContent(), ourMaximumResultsToDeleteInOneStatement);\n-\t\t\t\tfor (List<Long> nextPartition : partitions) {\n-\t\t\t\t\tmySearchResultDao.deleteByIds(nextPartition);\n-\t\t\t\t}\n+\t\tprivate void flushSearchAndIncludeDeletes() {\n+\t\t\tif (myDeleteSearchBatch.isEmpty()) {\n+\t\t\t\treturn;\n \t\t\t}\n+\t\t\tourLog.debug(\"Deleting {} Search records\", myDeleteSearchBatch.size());\n+\t\t\t// referential integrity requires we delete includes before the search\n+\t\t\tmySearchIncludeDao.deleteForSearch(myDeleteSearchBatch);\n+\t\t\tmySearchDao.deleteByPids(myDeleteSearchBatch);",
                "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/search/cache/DatabaseSearchCacheSvcImpl.java",
                "commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "original_commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Same.  This is streaming.  QuadraMed has 40 million stale searches.  I don't wan't that in ram every minute while we nibble away.  What I really need to write is the equivalent of the chunker for Streams.",
                "created_at": "2023-10-26T20:35:38Z",
                "updated_at": "2023-10-26T20:35:38Z",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396#discussion_r1373786480",
                "pull_request_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373786480"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396#discussion_r1373786480"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373786480/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 321,
                "original_line": 321,
                "side": "RIGHT",
                "in_reply_to_id": 1373662598,
                "original_position": 285,
                "position": 285,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "id": 1569379600,
                "node_id": "PR_kwDOAUMxRc5ditUQ",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396",
                "number": 5396,
                "state": "open",
                "locked": false,
                "title": "Clean stale search results more aggressively.",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Closes #5395\r\n\r\nUse bulk DMA statements to delete more data with less server IO.  Also run longer, and use an explicit deadline instead of a hard-coded batch size.\r\n",
                "created_at": "2023-10-23T15:02:17Z",
                "updated_at": "2023-10-26T20:35:38Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "7ee2f2307cfb87fa1ea25e39287d080fad6f46a4",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "head": {
                    "label": "hapifhir:5395-search-cleaner-faster",
                    "ref": "5395-search-cleaner-faster",
                    "sha": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:31:09Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "edb01a891a4cc155cb2040a7835d8fad6e8ca5f6",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:31:09Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": {
                    "enabled_by": {
                        "login": "michaelabuckley",
                        "id": 10764269,
                        "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/michaelabuckley",
                        "html_url": "https://github.com/michaelabuckley",
                        "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                        "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                        "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                        "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                        "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                        "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "merge_method": "squash",
                    "commit_title": "Clean stale search results more aggressively. (#5396)",
                    "commit_message": "Use bulk DMA statements when cleaning the search cache.\r\nThe cleaner job now works as long as possible until a deadline based on the scheduling frequency."
                },
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:35:38Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32881255838",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 10764269,
            "login": "michaelabuckley",
            "display_login": "michaelabuckley",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelabuckley",
            "avatar_url": "https://avatars.githubusercontent.com/u/10764269?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1700602526,
                "node_id": "PRR_kwDOAUMxRc5lXSKe",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": null,
                "commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "submitted_at": "2023-10-26T20:35:38Z",
                "state": "commented",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396#pullrequestreview-1700602526",
                "pull_request_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396#pullrequestreview-1700602526"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "id": 1569379600,
                "node_id": "PR_kwDOAUMxRc5ditUQ",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396",
                "number": 5396,
                "state": "open",
                "locked": false,
                "title": "Clean stale search results more aggressively.",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Closes #5395\r\n\r\nUse bulk DMA statements to delete more data with less server IO.  Also run longer, and use an explicit deadline instead of a hard-coded batch size.\r\n",
                "created_at": "2023-10-23T15:02:17Z",
                "updated_at": "2023-10-26T20:35:38Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "7ee2f2307cfb87fa1ea25e39287d080fad6f46a4",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "head": {
                    "label": "hapifhir:5395-search-cleaner-faster",
                    "ref": "5395-search-cleaner-faster",
                    "sha": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:31:09Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "edb01a891a4cc155cb2040a7835d8fad6e8ca5f6",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:31:09Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": {
                    "enabled_by": {
                        "login": "michaelabuckley",
                        "id": 10764269,
                        "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/michaelabuckley",
                        "html_url": "https://github.com/michaelabuckley",
                        "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                        "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                        "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                        "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                        "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                        "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "merge_method": "squash",
                    "commit_title": "Clean stale search results more aggressively. (#5396)",
                    "commit_message": "Use bulk DMA statements when cleaning the search cache.\r\nThe cleaner job now works as long as possible until a deadline based on the scheduling frequency."
                },
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:35:39Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32881203861",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 10764269,
            "login": "michaelabuckley",
            "display_login": "michaelabuckley",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelabuckley",
            "avatar_url": "https://avatars.githubusercontent.com/u/10764269?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373784167",
                "pull_request_review_id": 1700599079,
                "id": 1373784167,
                "node_id": "PRRC_kwDOAUMxRc5R4khn",
                "diff_hunk": "@@ -169,128 +177,271 @@ public Optional<Search> findCandidatesForReuse(\n \t\treturn Optional.empty();\n \t}\n \n-\t@Override\n-\tpublic void pollForStaleSearchesAndDeleteThem(RequestPartitionId theRequestPartitionId) {\n-\t\tHapiTransactionService.noTransactionAllowed();\n+\t/**\n+\t * A transient worker for a single pass through stale-search deletion.\n+\t */\n+\tclass DeleteRun {\n+\t\tfinal RequestPartitionId myRequestPartitionId;\n+\t\tfinal Instant myDeadline;\n+\t\tfinal Date myCutoffForDeletion;\n+\t\tfinal Set<Long> myUpdateDeletedFlagBatch = new HashSet<>();\n+\t\tfinal Set<Long> myDeleteSearchBatch = new HashSet<>();\n+\t\t/** the Search pids of the SearchResults we plan to delete in a chunk */\n+\t\tfinal Set<Long> myDeleteSearchResultsBatch = new HashSet<>();\n+\t\t/**\n+\t\t * Number of results we have queued up in mySearchPidsToDeleteResults to delete.\n+\t\t * We try to keep this to a reasonable size to avoid long transactions that may escalate to a table lock.\n+\t\t */\n+\t\tprivate int myDeleteSearchResultsBatchCount = 0;\n+\n+\t\tDeleteRun(Instant theDeadline, Date theCutoffForDeletion, RequestPartitionId theRequestPartitionId) {\n+\t\t\tmyDeadline = theDeadline;\n+\t\t\tmyCutoffForDeletion = theCutoffForDeletion;\n+\t\t\tmyRequestPartitionId = theRequestPartitionId;\n+\t\t}\n \n-\t\tif (!myStorageSettings.isExpireSearchResults()) {\n-\t\t\treturn;\n+\t\t/**\n+\t\t * Mark all ids in the mySearchesToMarkForDeletion buffer as deleted, and clear the buffer.\n+\t\t */\n+\t\tpublic void flushDeleteMarks() {\n+\t\t\tif (myUpdateDeletedFlagBatch.isEmpty()) {\n+\t\t\t\treturn;\n+\t\t\t}\n+\t\t\tourLog.debug(\"Marking {} searches as deleted\", myUpdateDeletedFlagBatch.size());\n+\t\t\tmySearchDao.updateDeleted(myUpdateDeletedFlagBatch, true);",
                "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/search/cache/DatabaseSearchCacheSvcImpl.java",
                "commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "original_commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "We might be deleting 50000 SearchResults, but only by Search PK, and only 500 of those at a time.\r\n",
                "created_at": "2023-10-26T20:33:07Z",
                "updated_at": "2023-10-26T20:33:08Z",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396#discussion_r1373784167",
                "pull_request_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373784167"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396#discussion_r1373784167"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373784167/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 211,
                "original_line": 211,
                "side": "RIGHT",
                "in_reply_to_id": 1373655002,
                "original_position": 106,
                "position": 106,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "id": 1569379600,
                "node_id": "PR_kwDOAUMxRc5ditUQ",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396",
                "number": 5396,
                "state": "open",
                "locked": false,
                "title": "Clean stale search results more aggressively.",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Closes #5395\r\n\r\nUse bulk DMA statements to delete more data with less server IO.  Also run longer, and use an explicit deadline instead of a hard-coded batch size.\r\n",
                "created_at": "2023-10-23T15:02:17Z",
                "updated_at": "2023-10-26T20:33:07Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "7ee2f2307cfb87fa1ea25e39287d080fad6f46a4",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "head": {
                    "label": "hapifhir:5395-search-cleaner-faster",
                    "ref": "5395-search-cleaner-faster",
                    "sha": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:31:09Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "edb01a891a4cc155cb2040a7835d8fad6e8ca5f6",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:31:09Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": {
                    "enabled_by": {
                        "login": "michaelabuckley",
                        "id": 10764269,
                        "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/michaelabuckley",
                        "html_url": "https://github.com/michaelabuckley",
                        "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                        "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                        "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                        "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                        "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                        "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "merge_method": "squash",
                    "commit_title": "Clean stale search results more aggressively. (#5396)",
                    "commit_message": "Use bulk DMA statements when cleaning the search cache.\r\nThe cleaner job now works as long as possible until a deadline based on the scheduling frequency."
                },
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:33:07Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32881203790",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 10764269,
            "login": "michaelabuckley",
            "display_login": "michaelabuckley",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelabuckley",
            "avatar_url": "https://avatars.githubusercontent.com/u/10764269?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1700599079,
                "node_id": "PRR_kwDOAUMxRc5lXRUn",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": null,
                "commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "submitted_at": "2023-10-26T20:33:07Z",
                "state": "commented",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396#pullrequestreview-1700599079",
                "pull_request_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396#pullrequestreview-1700599079"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "id": 1569379600,
                "node_id": "PR_kwDOAUMxRc5ditUQ",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396",
                "number": 5396,
                "state": "open",
                "locked": false,
                "title": "Clean stale search results more aggressively.",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Closes #5395\r\n\r\nUse bulk DMA statements to delete more data with less server IO.  Also run longer, and use an explicit deadline instead of a hard-coded batch size.\r\n",
                "created_at": "2023-10-23T15:02:17Z",
                "updated_at": "2023-10-26T20:33:07Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "7ee2f2307cfb87fa1ea25e39287d080fad6f46a4",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "head": {
                    "label": "hapifhir:5395-search-cleaner-faster",
                    "ref": "5395-search-cleaner-faster",
                    "sha": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:31:09Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "edb01a891a4cc155cb2040a7835d8fad6e8ca5f6",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:31:09Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": {
                    "enabled_by": {
                        "login": "michaelabuckley",
                        "id": 10764269,
                        "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/michaelabuckley",
                        "html_url": "https://github.com/michaelabuckley",
                        "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                        "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                        "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                        "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                        "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                        "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "merge_method": "squash",
                    "commit_title": "Clean stale search results more aggressively. (#5396)",
                    "commit_message": "Use bulk DMA statements when cleaning the search cache.\r\nThe cleaner job now works as long as possible until a deadline based on the scheduling frequency."
                },
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:33:08Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32881190153",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 10764269,
            "login": "michaelabuckley",
            "display_login": "michaelabuckley",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelabuckley",
            "avatar_url": "https://avatars.githubusercontent.com/u/10764269?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373783527",
                "pull_request_review_id": 1700598167,
                "id": 1373783527,
                "node_id": "PRRC_kwDOAUMxRc5R4kXn",
                "diff_hunk": "@@ -169,128 +177,271 @@ public Optional<Search> findCandidatesForReuse(\n \t\treturn Optional.empty();\n \t}\n \n-\t@Override\n-\tpublic void pollForStaleSearchesAndDeleteThem(RequestPartitionId theRequestPartitionId) {\n-\t\tHapiTransactionService.noTransactionAllowed();\n+\t/**\n+\t * A transient worker for a single pass through stale-search deletion.\n+\t */\n+\tclass DeleteRun {\n+\t\tfinal RequestPartitionId myRequestPartitionId;\n+\t\tfinal Instant myDeadline;\n+\t\tfinal Date myCutoffForDeletion;\n+\t\tfinal Set<Long> myUpdateDeletedFlagBatch = new HashSet<>();\n+\t\tfinal Set<Long> myDeleteSearchBatch = new HashSet<>();\n+\t\t/** the Search pids of the SearchResults we plan to delete in a chunk */\n+\t\tfinal Set<Long> myDeleteSearchResultsBatch = new HashSet<>();\n+\t\t/**\n+\t\t * Number of results we have queued up in mySearchPidsToDeleteResults to delete.\n+\t\t * We try to keep this to a reasonable size to avoid long transactions that may escalate to a table lock.\n+\t\t */\n+\t\tprivate int myDeleteSearchResultsBatchCount = 0;\n+\n+\t\tDeleteRun(Instant theDeadline, Date theCutoffForDeletion, RequestPartitionId theRequestPartitionId) {\n+\t\t\tmyDeadline = theDeadline;\n+\t\t\tmyCutoffForDeletion = theCutoffForDeletion;\n+\t\t\tmyRequestPartitionId = theRequestPartitionId;\n+\t\t}\n \n-\t\tif (!myStorageSettings.isExpireSearchResults()) {\n-\t\t\treturn;\n+\t\t/**\n+\t\t * Mark all ids in the mySearchesToMarkForDeletion buffer as deleted, and clear the buffer.\n+\t\t */\n+\t\tpublic void flushDeleteMarks() {\n+\t\t\tif (myUpdateDeletedFlagBatch.isEmpty()) {\n+\t\t\t\treturn;\n+\t\t\t}\n+\t\t\tourLog.debug(\"Marking {} searches as deleted\", myUpdateDeletedFlagBatch.size());\n+\t\t\tmySearchDao.updateDeleted(myUpdateDeletedFlagBatch, true);",
                "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/search/cache/DatabaseSearchCacheSvcImpl.java",
                "commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "original_commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "QueryChunker operates on Collection.  That requires materializing the entire set of searches.  This code is streaming, so we never have more that 500 ids in ram.\r\n\r\n",
                "created_at": "2023-10-26T20:32:28Z",
                "updated_at": "2023-10-26T20:32:28Z",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396#discussion_r1373783527",
                "pull_request_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373783527"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396#discussion_r1373783527"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373783527/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 211,
                "original_line": 211,
                "side": "RIGHT",
                "in_reply_to_id": 1373655002,
                "original_position": 106,
                "position": 106,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "id": 1569379600,
                "node_id": "PR_kwDOAUMxRc5ditUQ",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396",
                "number": 5396,
                "state": "open",
                "locked": false,
                "title": "Clean stale search results more aggressively.",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Closes #5395\r\n\r\nUse bulk DMA statements to delete more data with less server IO.  Also run longer, and use an explicit deadline instead of a hard-coded batch size.\r\n",
                "created_at": "2023-10-23T15:02:17Z",
                "updated_at": "2023-10-26T20:32:28Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "7ee2f2307cfb87fa1ea25e39287d080fad6f46a4",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "head": {
                    "label": "hapifhir:5395-search-cleaner-faster",
                    "ref": "5395-search-cleaner-faster",
                    "sha": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:31:09Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "edb01a891a4cc155cb2040a7835d8fad6e8ca5f6",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:31:09Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": {
                    "enabled_by": {
                        "login": "michaelabuckley",
                        "id": 10764269,
                        "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/michaelabuckley",
                        "html_url": "https://github.com/michaelabuckley",
                        "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                        "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                        "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                        "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                        "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                        "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "merge_method": "squash",
                    "commit_title": "Clean stale search results more aggressively. (#5396)",
                    "commit_message": "Use bulk DMA statements when cleaning the search cache.\r\nThe cleaner job now works as long as possible until a deadline based on the scheduling frequency."
                },
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:32:28Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32881190068",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 10764269,
            "login": "michaelabuckley",
            "display_login": "michaelabuckley",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelabuckley",
            "avatar_url": "https://avatars.githubusercontent.com/u/10764269?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1700598167,
                "node_id": "PRR_kwDOAUMxRc5lXRGX",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": null,
                "commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "submitted_at": "2023-10-26T20:32:28Z",
                "state": "commented",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396#pullrequestreview-1700598167",
                "pull_request_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396#pullrequestreview-1700598167"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "id": 1569379600,
                "node_id": "PR_kwDOAUMxRc5ditUQ",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396",
                "number": 5396,
                "state": "open",
                "locked": false,
                "title": "Clean stale search results more aggressively.",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Closes #5395\r\n\r\nUse bulk DMA statements to delete more data with less server IO.  Also run longer, and use an explicit deadline instead of a hard-coded batch size.\r\n",
                "created_at": "2023-10-23T15:02:17Z",
                "updated_at": "2023-10-26T20:32:28Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "7ee2f2307cfb87fa1ea25e39287d080fad6f46a4",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "head": {
                    "label": "hapifhir:5395-search-cleaner-faster",
                    "ref": "5395-search-cleaner-faster",
                    "sha": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:31:09Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "edb01a891a4cc155cb2040a7835d8fad6e8ca5f6",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:31:09Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967268,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": {
                    "enabled_by": {
                        "login": "michaelabuckley",
                        "id": 10764269,
                        "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/michaelabuckley",
                        "html_url": "https://github.com/michaelabuckley",
                        "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                        "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                        "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                        "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                        "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                        "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "merge_method": "squash",
                    "commit_title": "Clean stale search results more aggressively. (#5396)",
                    "commit_message": "Use bulk DMA statements when cleaning the search cache.\r\nThe cleaner job now works as long as possible until a deadline based on the scheduling frequency."
                },
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:32:29Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32879832084",
        "type": "PushEvent",
        "actor": {
            "id": 10764269,
            "login": "michaelabuckley",
            "display_login": "michaelabuckley",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelabuckley",
            "avatar_url": "https://avatars.githubusercontent.com/u/10764269?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "repository_id": 21180741,
            "push_id": 15582153492,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/mb-use-new-fhir-id-for-sort",
            "head": "9a65c62dadce5641cd367a355698da1dc461733e",
            "before": "b38ceafadb57801a5a0fdc6af022d9503ab44968",
            "commits": [
                {
                    "sha": "9a65c62dadce5641cd367a355698da1dc461733e",
                    "author": {
                        "email": "michaelabuckley@gmail.com",
                        "name": "Michael Buckley"
                    },
                    "message": "Changelog",
                    "distinct": true,
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits/9a65c62dadce5641cd367a355698da1dc461733e"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T19:31:08Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32879755181",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 41898282,
            "login": "github-actions[bot]",
            "display_login": "github-actions",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/41898282?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5405",
                "repository_url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5405/labels{/name}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5405/comments",
                "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5405/events",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5405",
                "id": 1964235268,
                "node_id": "PR_kwDOAUMxRc5d56pR",
                "number": 5405,
                "title": "Use new FHIR_ID column for sorting",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-26T19:26:15Z",
                "updated_at": "2023-10-26T19:27:39Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5405",
                    "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5405",
                    "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5405.diff",
                    "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5405.patch",
                    "merged_at": null
                },
                "body": "Use the new FHIR_ID column on HFJ_RESOURCE activated in #4803 for sorting.  This avoid a join when using `_id` to sort.\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5405/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5405/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments/1781772829",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5405#issuecomment-1781772829",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5405",
                "id": 1781772829,
                "node_id": "IC_kwDOAUMxRc5qM7Id",
                "user": {
                    "login": "github-actions[bot]",
                    "id": 41898282,
                    "node_id": "MDM6Qm90NDE4OTgyODI=",
                    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
                    "html_url": "https://github.com/apps/github-actions",
                    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "created_at": "2023-10-26T19:27:39Z",
                "updated_at": "2023-10-26T19:27:39Z",
                "author_association": "NONE",
                "body": "<!-- add-pr-comment:add-pr-comment -->\n\n**This Pull Request has failed the formatting check**\n\nPlease run `mvn spotless:apply` or `mvn clean install -DskipTests` to fix the formatting issues. \n\nYou can automate this auto-formatting process to execute on the git pre-push hook, by installing [pre-commit](https://pre-commit.com/) and then calling `pre-commit install --hook-type pre-push`. This will cause formatting to run automatically whenever you push.",
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments/1781772829/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:27:40Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32879724189",
        "type": "PullRequestEvent",
        "actor": {
            "id": 10764269,
            "login": "michaelabuckley",
            "display_login": "michaelabuckley",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelabuckley",
            "avatar_url": "https://avatars.githubusercontent.com/u/10764269?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "opened",
            "number": 5405,
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5405",
                "id": 1575463505,
                "node_id": "PR_kwDOAUMxRc5d56pR",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5405",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5405.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5405.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5405",
                "number": 5405,
                "state": "open",
                "locked": false,
                "title": "Use new FHIR_ID column for sorting",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Use the new FHIR_ID column on HFJ_RESOURCE activated in #4803 for sorting.  This avoid a join when using `_id` to sort.\r\n\r\n",
                "created_at": "2023-10-26T19:26:15Z",
                "updated_at": "2023-10-26T19:26:16Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": null,
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "tadgh",
                        "id": 1720433,
                        "node_id": "MDQ6VXNlcjE3MjA0MzM=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1720433?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/tadgh",
                        "html_url": "https://github.com/tadgh",
                        "followers_url": "https://api.github.com/users/tadgh/followers",
                        "following_url": "https://api.github.com/users/tadgh/following{/other_user}",
                        "gists_url": "https://api.github.com/users/tadgh/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/tadgh/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/tadgh/subscriptions",
                        "organizations_url": "https://api.github.com/users/tadgh/orgs",
                        "repos_url": "https://api.github.com/users/tadgh/repos",
                        "events_url": "https://api.github.com/users/tadgh/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/tadgh/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "jamesagnew",
                        "id": 3465117,
                        "node_id": "MDQ6VXNlcjM0NjUxMTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3465117?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/jamesagnew",
                        "html_url": "https://github.com/jamesagnew",
                        "followers_url": "https://api.github.com/users/jamesagnew/followers",
                        "following_url": "https://api.github.com/users/jamesagnew/following{/other_user}",
                        "gists_url": "https://api.github.com/users/jamesagnew/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/jamesagnew/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/jamesagnew/subscriptions",
                        "organizations_url": "https://api.github.com/users/jamesagnew/orgs",
                        "repos_url": "https://api.github.com/users/jamesagnew/repos",
                        "events_url": "https://api.github.com/users/jamesagnew/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/jamesagnew/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "JPercival",
                        "id": 10132350,
                        "node_id": "MDQ6VXNlcjEwMTMyMzUw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10132350?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/JPercival",
                        "html_url": "https://github.com/JPercival",
                        "followers_url": "https://api.github.com/users/JPercival/followers",
                        "following_url": "https://api.github.com/users/JPercival/following{/other_user}",
                        "gists_url": "https://api.github.com/users/JPercival/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/JPercival/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/JPercival/subscriptions",
                        "organizations_url": "https://api.github.com/users/JPercival/orgs",
                        "repos_url": "https://api.github.com/users/JPercival/repos",
                        "events_url": "https://api.github.com/users/JPercival/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/JPercival/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5405/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5405/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5405/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/b38ceafadb57801a5a0fdc6af022d9503ab44968",
                "head": {
                    "label": "hapifhir:mb-use-new-fhir-id-for-sort",
                    "ref": "mb-use-new-fhir-id-for-sort",
                    "sha": "b38ceafadb57801a5a0fdc6af022d9503ab44968",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:26:15Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967264,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:master",
                    "ref": "master",
                    "sha": "a7a446903fd949fc08b584b7efbf4d986b8a5e86",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T19:26:15Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967264,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 938,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 938,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5405"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5405"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5405"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5405/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5405/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5405/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/b38ceafadb57801a5a0fdc6af022d9503ab44968"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": false,
                "commits": 7,
                "additions": 1345,
                "deletions": 454,
                "changed_files": 56
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:26:17Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32879688658",
        "type": "CreateEvent",
        "actor": {
            "id": 10764269,
            "login": "michaelabuckley",
            "display_login": "michaelabuckley",
            "gravatar_id": "",
            "url": "https://api.github.com/users/michaelabuckley",
            "avatar_url": "https://avatars.githubusercontent.com/u/10764269?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "ref": "mb-use-new-fhir-id-for-sort",
            "ref_type": "branch",
            "master_branch": "master",
            "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-26T19:24:45Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32878938773",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 3465117,
            "login": "jamesagnew",
            "display_login": "jamesagnew",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamesagnew",
            "avatar_url": "https://avatars.githubusercontent.com/u/3465117?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373662598",
                "pull_request_review_id": 1700404844,
                "id": 1373662598,
                "node_id": "PRRC_kwDOAUMxRc5R4G2G",
                "diff_hunk": "@@ -169,128 +177,271 @@ public Optional<Search> findCandidatesForReuse(\n \t\treturn Optional.empty();\n \t}\n \n-\t@Override\n-\tpublic void pollForStaleSearchesAndDeleteThem(RequestPartitionId theRequestPartitionId) {\n-\t\tHapiTransactionService.noTransactionAllowed();\n+\t/**\n+\t * A transient worker for a single pass through stale-search deletion.\n+\t */\n+\tclass DeleteRun {\n+\t\tfinal RequestPartitionId myRequestPartitionId;\n+\t\tfinal Instant myDeadline;\n+\t\tfinal Date myCutoffForDeletion;\n+\t\tfinal Set<Long> myUpdateDeletedFlagBatch = new HashSet<>();\n+\t\tfinal Set<Long> myDeleteSearchBatch = new HashSet<>();\n+\t\t/** the Search pids of the SearchResults we plan to delete in a chunk */\n+\t\tfinal Set<Long> myDeleteSearchResultsBatch = new HashSet<>();\n+\t\t/**\n+\t\t * Number of results we have queued up in mySearchPidsToDeleteResults to delete.\n+\t\t * We try to keep this to a reasonable size to avoid long transactions that may escalate to a table lock.\n+\t\t */\n+\t\tprivate int myDeleteSearchResultsBatchCount = 0;\n+\n+\t\tDeleteRun(Instant theDeadline, Date theCutoffForDeletion, RequestPartitionId theRequestPartitionId) {\n+\t\t\tmyDeadline = theDeadline;\n+\t\t\tmyCutoffForDeletion = theCutoffForDeletion;\n+\t\t\tmyRequestPartitionId = theRequestPartitionId;\n+\t\t}\n \n-\t\tif (!myStorageSettings.isExpireSearchResults()) {\n-\t\t\treturn;\n+\t\t/**\n+\t\t * Mark all ids in the mySearchesToMarkForDeletion buffer as deleted, and clear the buffer.\n+\t\t */\n+\t\tpublic void flushDeleteMarks() {\n+\t\t\tif (myUpdateDeletedFlagBatch.isEmpty()) {\n+\t\t\t\treturn;\n+\t\t\t}\n+\t\t\tourLog.debug(\"Marking {} searches as deleted\", myUpdateDeletedFlagBatch.size());\n+\t\t\tmySearchDao.updateDeleted(myUpdateDeletedFlagBatch, true);\n+\t\t\tmyUpdateDeletedFlagBatch.clear();\n+\t\t\tcommitOpenChanges();\n \t\t}\n \n-\t\tlong cutoffMillis = myStorageSettings.getExpireSearchResultsAfterMillis();\n-\t\tif (myStorageSettings.getReuseCachedSearchResultsForMillis() != null) {\n-\t\t\tcutoffMillis = cutoffMillis + myStorageSettings.getReuseCachedSearchResultsForMillis();\n+\t\t/**\n+\t\t * Dig into the guts of our Hibernate session, flush any changes in the session, and commit the underlying connection.\n+\t\t */\n+\t\tprivate void commitOpenChanges() {\n+\t\t\t// flush to force Hibernate to actually get a connection from the pool\n+\t\t\tmyEntityManager.flush();\n+\t\t\t// get our connection from the underlying Hibernate session, and commit\n+\t\t\t//noinspection resource\n+\t\t\tmyEntityManager.unwrap(Session.class).doWork(Connection::commit);\n \t\t}\n-\t\tfinal Date cutoff = new Date((now() - cutoffMillis) - myCutoffSlack);\n \n-\t\tif (ourNowForUnitTests != null) {\n-\t\t\tourLog.info(\n-\t\t\t\t\t\"Searching for searches which are before {} - now is {}\",\n-\t\t\t\t\tnew InstantType(cutoff),\n-\t\t\t\t\tnew InstantType(new Date(now())));\n+\t\tvoid throwIfDeadlineExpired() {\n+\t\t\tboolean result = Instant.ofEpochMilli(now()).isAfter(myDeadline);\n+\t\t\tif (result) {\n+\t\t\t\tthrow new DeadlineException(\n+\t\t\t\t\t\tMsg.code(2443) + \"Deadline expired while cleaning Search cache - \" + myDeadline);\n+\t\t\t}\n \t\t}\n \n-\t\tourLog.debug(\"Searching for searches which are before {}\", cutoff);\n+\t\tprivate int deleteMarkedSearchesInBatches() {\n+\t\t\tAtomicInteger deletedCounter = new AtomicInteger(0);\n \n-\t\t// Mark searches as deleted if they should be\n-\t\tfinal Slice<Long> toMarkDeleted = myTransactionService\n-\t\t\t\t.withSystemRequestOnPartition(theRequestPartitionId)\n-\t\t\t\t.execute(theStatus -> mySearchDao.findWhereCreatedBefore(\n-\t\t\t\t\t\tcutoff, new Date(), PageRequest.of(0, ourMaximumSearchesToCheckForDeletionCandidacy)));\n-\t\tassert toMarkDeleted != null;\n-\t\tfor (final Long nextSearchToDelete : toMarkDeleted) {\n-\t\t\tourLog.debug(\"Deleting search with PID {}\", nextSearchToDelete);\n-\t\t\tmyTransactionService\n-\t\t\t\t\t.withSystemRequest()\n-\t\t\t\t\t.withRequestPartitionId(theRequestPartitionId)\n-\t\t\t\t\t.execute(t -> {\n-\t\t\t\t\t\tmySearchDao.updateDeleted(nextSearchToDelete, true);\n-\t\t\t\t\t\treturn null;\n-\t\t\t\t\t});\n+\t\t\ttry (final Stream<SearchIdAndResultSize> toDelete = mySearchDao.findDeleted()) {\n+\t\t\t\tassert toDelete != null;\n+\n+\t\t\t\ttoDelete.forEach(nextSearchToDelete -> {\n+\t\t\t\t\tthrowIfDeadlineExpired();\n+\n+\t\t\t\t\tdeleteSearchAndResults(nextSearchToDelete.searchId, nextSearchToDelete.size);\n+\n+\t\t\t\t\tdeletedCounter.incrementAndGet();\n+\t\t\t\t});\n+\t\t\t}\n+\n+\t\t\t// flush anything left in the buffers\n+\t\t\tflushSearchResultDeletes();\n+\t\t\tflushSearchAndIncludeDeletes();\n+\n+\t\t\tint deletedCount = deletedCounter.get();\n+\n+\t\t\tourLog.info(\"Deleted {} expired searches\", deletedCount);\n+\n+\t\t\treturn deletedCount;\n \t\t}\n \n-\t\t// Delete searches that are marked as deleted\n-\t\tfinal Slice<Long> toDelete = myTransactionService\n-\t\t\t\t.withSystemRequestOnPartition(theRequestPartitionId)\n-\t\t\t\t.execute(theStatus ->\n-\t\t\t\t\t\tmySearchDao.findDeleted(PageRequest.of(0, ourMaximumSearchesToCheckForDeletionCandidacy)));\n-\t\tassert toDelete != null;\n-\t\tfor (final Long nextSearchToDelete : toDelete) {\n-\t\t\tourLog.debug(\"Deleting search with PID {}\", nextSearchToDelete);\n-\t\t\tmyTransactionService\n-\t\t\t\t\t.withSystemRequest()\n-\t\t\t\t\t.withRequestPartitionId(theRequestPartitionId)\n-\t\t\t\t\t.execute(t -> {\n-\t\t\t\t\t\tdeleteSearch(nextSearchToDelete);\n-\t\t\t\t\t\treturn null;\n-\t\t\t\t\t});\n+\t\t/**\n+\t\t * Schedule theSearchPid for deletion assuming it has theNumberOfResults SearchResults attached.\n+\t\t *\n+\t\t * We accumulate a batch of search pids for deletion, and then do a bulk DML as we reach a threshold number\n+\t\t * of SearchResults.\n+\t\t *\n+\t\t * @param theSearchPid pk of the Search\n+\t\t * @param theNumberOfResults the number of SearchResults attached\n+\t\t */\n+\t\tprivate void deleteSearchAndResults(long theSearchPid, int theNumberOfResults) {\n+\t\t\tourLog.trace(\"Buffering deletion of search pid {} and {} results\", theSearchPid, theNumberOfResults);\n+\n+\t\t\tmyDeleteSearchBatch.add(theSearchPid);\n+\n+\t\t\tif (theNumberOfResults > ourMaximumResultsToDeleteInOneCommit) {\n+\t\t\t\t// don't buffer this one - do it inline\n+\t\t\t\tdeleteSearchResultsByChunk(theSearchPid, theNumberOfResults);\n+\t\t\t\treturn;\n+\t\t\t}\n+\t\t\tmyDeleteSearchResultsBatch.add(theSearchPid);\n+\t\t\tmyDeleteSearchResultsBatchCount += theNumberOfResults;\n+\n+\t\t\tif (myDeleteSearchResultsBatchCount > ourMaximumResultsToDeleteInOneCommit) {\n+\t\t\t\tflushSearchResultDeletes();\n+\t\t\t}\n+\n+\t\t\tif (myDeleteSearchBatch.size() > ourMaximumResultsToDeleteInOneStatement) {\n+\t\t\t\t// flush the results to make sure we don't have any references.\n+\t\t\t\tflushSearchResultDeletes();\n+\n+\t\t\t\tflushSearchAndIncludeDeletes();\n+\t\t\t}\n \t\t}\n \n-\t\tint count = toDelete.getContent().size();\n-\t\tif (count > 0) {\n-\t\t\tif (ourLog.isDebugEnabled() || HapiSystemProperties.isTestModeEnabled()) {\n-\t\t\t\tLong total = myTransactionService\n-\t\t\t\t\t\t.withSystemRequest()\n-\t\t\t\t\t\t.withRequestPartitionId(theRequestPartitionId)\n-\t\t\t\t\t\t.execute(t -> mySearchDao.count());\n-\t\t\t\tourLog.debug(\"Deleted {} searches, {} remaining\", count, total);\n+\t\t/**\n+\t\t * If this Search has more results than our max delete size,\n+\t\t * delete in by itself in range chunks.\n+\t\t * @param theSearchPid the target Search pid\n+\t\t * @param theNumberOfResults the number of search results present\n+\t\t */\n+\t\tprivate void deleteSearchResultsByChunk(long theSearchPid, int theNumberOfResults) {\n+\t\t\tourLog.debug(\n+\t\t\t\t\t\"Search {} is large: has {} results.  Deleting results in chunks.\",\n+\t\t\t\t\ttheSearchPid,\n+\t\t\t\t\ttheNumberOfResults);\n+\t\t\tfor (int rangeEnd = theNumberOfResults; rangeEnd >= 0; rangeEnd -= ourMaximumResultsToDeleteInOneCommit) {\n+\t\t\t\tint rangeStart = rangeEnd - ourMaximumResultsToDeleteInOneCommit;\n+\t\t\t\tourLog.trace(\"Deleting results for search {}: {} - {}\", theSearchPid, rangeStart, rangeEnd);\n+\t\t\t\tmySearchResultDao.deleteBySearchIdInRange(theSearchPid, rangeStart, rangeEnd);\n+\t\t\t\tcommitOpenChanges();\n \t\t\t}\n \t\t}\n-\t}\n \n-\tprivate void deleteSearch(final Long theSearchPid) {\n-\t\tmySearchDao.findById(theSearchPid).ifPresent(searchToDelete -> {\n-\t\t\tmySearchIncludeDao.deleteForSearch(searchToDelete.getId());\n-\n-\t\t\t/*\n-\t\t\t * Note, we're only deleting up to 500 results in an individual search here. This\n-\t\t\t * is to prevent really long running transactions in cases where there are\n-\t\t\t * huge searches with tons of results in them. By the time we've gotten here\n-\t\t\t * we have marked the parent Search entity as deleted, so it's not such a\n-\t\t\t * huge deal to be only partially deleting search results. They'll get deleted\n-\t\t\t * eventually\n-\t\t\t */\n-\t\t\tint max = ourMaximumResultsToDeleteInOnePass;\n-\t\t\tSlice<Long> resultPids = mySearchResultDao.findForSearch(PageRequest.of(0, max), searchToDelete.getId());\n-\t\t\tif (resultPids.hasContent()) {\n-\t\t\t\tList<List<Long>> partitions =\n-\t\t\t\t\t\tLists.partition(resultPids.getContent(), ourMaximumResultsToDeleteInOneStatement);\n-\t\t\t\tfor (List<Long> nextPartition : partitions) {\n-\t\t\t\t\tmySearchResultDao.deleteByIds(nextPartition);\n-\t\t\t\t}\n+\t\tprivate void flushSearchAndIncludeDeletes() {\n+\t\t\tif (myDeleteSearchBatch.isEmpty()) {\n+\t\t\t\treturn;\n \t\t\t}\n+\t\t\tourLog.debug(\"Deleting {} Search records\", myDeleteSearchBatch.size());\n+\t\t\t// referential integrity requires we delete includes before the search\n+\t\t\tmySearchIncludeDao.deleteForSearch(myDeleteSearchBatch);\n+\t\t\tmySearchDao.deleteByPids(myDeleteSearchBatch);",
                "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/search/cache/DatabaseSearchCacheSvcImpl.java",
                "commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "original_commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "user": {
                    "login": "jamesagnew",
                    "id": 3465117,
                    "node_id": "MDQ6VXNlcjM0NjUxMTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3465117?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jamesagnew",
                    "html_url": "https://github.com/jamesagnew",
                    "followers_url": "https://api.github.com/users/jamesagnew/followers",
                    "following_url": "https://api.github.com/users/jamesagnew/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jamesagnew/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jamesagnew/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jamesagnew/subscriptions",
                    "organizations_url": "https://api.github.com/users/jamesagnew/orgs",
                    "repos_url": "https://api.github.com/users/jamesagnew/repos",
                    "events_url": "https://api.github.com/users/jamesagnew/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jamesagnew/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Presumably we should also use QueryChunker here?",
                "created_at": "2023-10-26T18:53:07Z",
                "updated_at": "2023-10-26T18:53:11Z",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396#discussion_r1373662598",
                "pull_request_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "author_association": "COLLABORATOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373662598"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396#discussion_r1373662598"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373662598/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 321,
                "original_line": 321,
                "side": "RIGHT",
                "original_position": 285,
                "position": 285,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "id": 1569379600,
                "node_id": "PR_kwDOAUMxRc5ditUQ",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396",
                "number": 5396,
                "state": "open",
                "locked": false,
                "title": "Clean stale search results more aggressively.",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Closes #5395\r\n\r\nUse bulk DMA statements to delete more data with less server IO.  Also run longer, and use an explicit deadline instead of a hard-coded batch size.\r\n",
                "created_at": "2023-10-23T15:02:17Z",
                "updated_at": "2023-10-26T18:53:11Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "7ee2f2307cfb87fa1ea25e39287d080fad6f46a4",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "head": {
                    "label": "hapifhir:5395-search-cleaner-faster",
                    "ref": "5395-search-cleaner-faster",
                    "sha": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T15:19:43Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967264,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 937,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 937,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "edb01a891a4cc155cb2040a7835d8fad6e8ca5f6",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T15:19:43Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967264,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 937,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 937,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": {
                    "enabled_by": {
                        "login": "michaelabuckley",
                        "id": 10764269,
                        "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/michaelabuckley",
                        "html_url": "https://github.com/michaelabuckley",
                        "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                        "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                        "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                        "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                        "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                        "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "merge_method": "squash",
                    "commit_title": "Clean stale search results more aggressively. (#5396)",
                    "commit_message": "Use bulk DMA statements when cleaning the search cache.\r\nThe cleaner job now works as long as possible until a deadline based on the scheduling frequency."
                },
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T18:53:07Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32878938702",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 3465117,
            "login": "jamesagnew",
            "display_login": "jamesagnew",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamesagnew",
            "avatar_url": "https://avatars.githubusercontent.com/u/3465117?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373655002",
                "pull_request_review_id": 1700404844,
                "id": 1373655002,
                "node_id": "PRRC_kwDOAUMxRc5R4E_a",
                "diff_hunk": "@@ -169,128 +177,271 @@ public Optional<Search> findCandidatesForReuse(\n \t\treturn Optional.empty();\n \t}\n \n-\t@Override\n-\tpublic void pollForStaleSearchesAndDeleteThem(RequestPartitionId theRequestPartitionId) {\n-\t\tHapiTransactionService.noTransactionAllowed();\n+\t/**\n+\t * A transient worker for a single pass through stale-search deletion.\n+\t */\n+\tclass DeleteRun {\n+\t\tfinal RequestPartitionId myRequestPartitionId;\n+\t\tfinal Instant myDeadline;\n+\t\tfinal Date myCutoffForDeletion;\n+\t\tfinal Set<Long> myUpdateDeletedFlagBatch = new HashSet<>();\n+\t\tfinal Set<Long> myDeleteSearchBatch = new HashSet<>();\n+\t\t/** the Search pids of the SearchResults we plan to delete in a chunk */\n+\t\tfinal Set<Long> myDeleteSearchResultsBatch = new HashSet<>();\n+\t\t/**\n+\t\t * Number of results we have queued up in mySearchPidsToDeleteResults to delete.\n+\t\t * We try to keep this to a reasonable size to avoid long transactions that may escalate to a table lock.\n+\t\t */\n+\t\tprivate int myDeleteSearchResultsBatchCount = 0;\n+\n+\t\tDeleteRun(Instant theDeadline, Date theCutoffForDeletion, RequestPartitionId theRequestPartitionId) {\n+\t\t\tmyDeadline = theDeadline;\n+\t\t\tmyCutoffForDeletion = theCutoffForDeletion;\n+\t\t\tmyRequestPartitionId = theRequestPartitionId;\n+\t\t}\n \n-\t\tif (!myStorageSettings.isExpireSearchResults()) {\n-\t\t\treturn;\n+\t\t/**\n+\t\t * Mark all ids in the mySearchesToMarkForDeletion buffer as deleted, and clear the buffer.\n+\t\t */\n+\t\tpublic void flushDeleteMarks() {\n+\t\t\tif (myUpdateDeletedFlagBatch.isEmpty()) {\n+\t\t\t\treturn;\n+\t\t\t}\n+\t\t\tourLog.debug(\"Marking {} searches as deleted\", myUpdateDeletedFlagBatch.size());\n+\t\t\tmySearchDao.updateDeleted(myUpdateDeletedFlagBatch, true);",
                "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/search/cache/DatabaseSearchCacheSvcImpl.java",
                "commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "original_commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "user": {
                    "login": "jamesagnew",
                    "id": 3465117,
                    "node_id": "MDQ6VXNlcjM0NjUxMTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3465117?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jamesagnew",
                    "html_url": "https://github.com/jamesagnew",
                    "followers_url": "https://api.github.com/users/jamesagnew/followers",
                    "following_url": "https://api.github.com/users/jamesagnew/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jamesagnew/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jamesagnew/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jamesagnew/subscriptions",
                    "organizations_url": "https://api.github.com/users/jamesagnew/orgs",
                    "repos_url": "https://api.github.com/users/jamesagnew/repos",
                    "events_url": "https://api.github.com/users/jamesagnew/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jamesagnew/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "It might make sense to wrap this in QueryChunker... I see that by default we're deleting 10,000 per commit, which seems like a very reasonable amount, but avoiding having an in clause with 10k parameters is probably prudent (especially on oracle, where 10k would just plain blow up)",
                "created_at": "2023-10-26T18:49:43Z",
                "updated_at": "2023-10-26T18:53:11Z",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396#discussion_r1373655002",
                "pull_request_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "author_association": "COLLABORATOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373655002"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396#discussion_r1373655002"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments/1373655002/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 211,
                "original_line": 211,
                "side": "RIGHT",
                "original_position": 106,
                "position": 106,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "id": 1569379600,
                "node_id": "PR_kwDOAUMxRc5ditUQ",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396",
                "number": 5396,
                "state": "open",
                "locked": false,
                "title": "Clean stale search results more aggressively.",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Closes #5395\r\n\r\nUse bulk DMA statements to delete more data with less server IO.  Also run longer, and use an explicit deadline instead of a hard-coded batch size.\r\n",
                "created_at": "2023-10-23T15:02:17Z",
                "updated_at": "2023-10-26T18:53:11Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "7ee2f2307cfb87fa1ea25e39287d080fad6f46a4",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "head": {
                    "label": "hapifhir:5395-search-cleaner-faster",
                    "ref": "5395-search-cleaner-faster",
                    "sha": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T15:19:43Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967264,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 937,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 937,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "edb01a891a4cc155cb2040a7835d8fad6e8ca5f6",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T15:19:43Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967264,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 937,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 937,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": {
                    "enabled_by": {
                        "login": "michaelabuckley",
                        "id": 10764269,
                        "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/michaelabuckley",
                        "html_url": "https://github.com/michaelabuckley",
                        "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                        "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                        "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                        "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                        "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                        "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "merge_method": "squash",
                    "commit_title": "Clean stale search results more aggressively. (#5396)",
                    "commit_message": "Use bulk DMA statements when cleaning the search cache.\r\nThe cleaner job now works as long as possible until a deadline based on the scheduling frequency."
                },
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T18:49:43Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32878938664",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 3465117,
            "login": "jamesagnew",
            "display_login": "jamesagnew",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamesagnew",
            "avatar_url": "https://avatars.githubusercontent.com/u/3465117?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1700404844,
                "node_id": "PRR_kwDOAUMxRc5lWh5s",
                "user": {
                    "login": "jamesagnew",
                    "id": 3465117,
                    "node_id": "MDQ6VXNlcjM0NjUxMTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3465117?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jamesagnew",
                    "html_url": "https://github.com/jamesagnew",
                    "followers_url": "https://api.github.com/users/jamesagnew/followers",
                    "following_url": "https://api.github.com/users/jamesagnew/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jamesagnew/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jamesagnew/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jamesagnew/subscriptions",
                    "organizations_url": "https://api.github.com/users/jamesagnew/orgs",
                    "repos_url": "https://api.github.com/users/jamesagnew/repos",
                    "events_url": "https://api.github.com/users/jamesagnew/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jamesagnew/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "submitted_at": "2023-10-26T18:53:11Z",
                "state": "approved",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396#pullrequestreview-1700404844",
                "pull_request_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "author_association": "COLLABORATOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396#pullrequestreview-1700404844"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "id": 1569379600,
                "node_id": "PR_kwDOAUMxRc5ditUQ",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396",
                "number": 5396,
                "state": "open",
                "locked": false,
                "title": "Clean stale search results more aggressively.",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Closes #5395\r\n\r\nUse bulk DMA statements to delete more data with less server IO.  Also run longer, and use an explicit deadline instead of a hard-coded batch size.\r\n",
                "created_at": "2023-10-23T15:02:17Z",
                "updated_at": "2023-10-26T18:53:11Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "7ee2f2307cfb87fa1ea25e39287d080fad6f46a4",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "head": {
                    "label": "hapifhir:5395-search-cleaner-faster",
                    "ref": "5395-search-cleaner-faster",
                    "sha": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T15:19:43Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967264,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 937,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 937,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "edb01a891a4cc155cb2040a7835d8fad6e8ca5f6",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T15:19:43Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967264,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 937,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 937,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": {
                    "enabled_by": {
                        "login": "michaelabuckley",
                        "id": 10764269,
                        "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/michaelabuckley",
                        "html_url": "https://github.com/michaelabuckley",
                        "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                        "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                        "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                        "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                        "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                        "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "merge_method": "squash",
                    "commit_title": "Clean stale search results more aggressively. (#5396)",
                    "commit_message": "Use bulk DMA statements when cleaning the search cache.\r\nThe cleaner job now works as long as possible until a deadline based on the scheduling frequency."
                },
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T18:53:12Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32878938583",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 3465117,
            "login": "jamesagnew",
            "display_login": "jamesagnew",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamesagnew",
            "avatar_url": "https://avatars.githubusercontent.com/u/3465117?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1700404844,
                "node_id": "PRR_kwDOAUMxRc5lWh5s",
                "user": {
                    "login": "jamesagnew",
                    "id": 3465117,
                    "node_id": "MDQ6VXNlcjM0NjUxMTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3465117?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jamesagnew",
                    "html_url": "https://github.com/jamesagnew",
                    "followers_url": "https://api.github.com/users/jamesagnew/followers",
                    "following_url": "https://api.github.com/users/jamesagnew/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jamesagnew/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jamesagnew/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jamesagnew/subscriptions",
                    "organizations_url": "https://api.github.com/users/jamesagnew/orgs",
                    "repos_url": "https://api.github.com/users/jamesagnew/repos",
                    "events_url": "https://api.github.com/users/jamesagnew/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jamesagnew/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "submitted_at": "2023-10-26T18:53:11Z",
                "state": "approved",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396#pullrequestreview-1700404844",
                "pull_request_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "author_association": "COLLABORATOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396#pullrequestreview-1700404844"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396",
                "id": 1569379600,
                "node_id": "PR_kwDOAUMxRc5ditUQ",
                "html_url": "https://github.com/hapifhir/hapi-fhir/pull/5396",
                "diff_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.diff",
                "patch_url": "https://github.com/hapifhir/hapi-fhir/pull/5396.patch",
                "issue_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396",
                "number": 5396,
                "state": "open",
                "locked": false,
                "title": "Clean stale search results more aggressively.",
                "user": {
                    "login": "michaelabuckley",
                    "id": 10764269,
                    "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/michaelabuckley",
                    "html_url": "https://github.com/michaelabuckley",
                    "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                    "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                    "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                    "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                    "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                    "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Closes #5395\r\n\r\nUse bulk DMA statements to delete more data with less server IO.  Also run longer, and use an explicit deadline instead of a hard-coded batch size.\r\n",
                "created_at": "2023-10-23T15:02:17Z",
                "updated_at": "2023-10-26T18:53:11Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "7ee2f2307cfb87fa1ea25e39287d080fad6f46a4",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits",
                "review_comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments",
                "review_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments",
                "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                "head": {
                    "label": "hapifhir:5395-search-cleaner-faster",
                    "ref": "5395-search-cleaner-faster",
                    "sha": "0ff97dba1af960aebe5155718d47a3d7c568b7c3",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T15:19:43Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967264,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 937,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 937,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "hapifhir:rel_6_10",
                    "ref": "rel_6_10",
                    "sha": "edb01a891a4cc155cb2040a7835d8fad6e8ca5f6",
                    "user": {
                        "login": "hapifhir",
                        "id": 23555072,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/hapifhir",
                        "html_url": "https://github.com/hapifhir",
                        "followers_url": "https://api.github.com/users/hapifhir/followers",
                        "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                        "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                        "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                        "repos_url": "https://api.github.com/users/hapifhir/repos",
                        "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 21180741,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMTE4MDc0MQ==",
                        "name": "hapi-fhir",
                        "full_name": "hapifhir/hapi-fhir",
                        "private": false,
                        "owner": {
                            "login": "hapifhir",
                            "id": 23555072,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjIzNTU1MDcy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/hapifhir",
                            "html_url": "https://github.com/hapifhir",
                            "followers_url": "https://api.github.com/users/hapifhir/followers",
                            "following_url": "https://api.github.com/users/hapifhir/following{/other_user}",
                            "gists_url": "https://api.github.com/users/hapifhir/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/hapifhir/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/hapifhir/subscriptions",
                            "organizations_url": "https://api.github.com/users/hapifhir/orgs",
                            "repos_url": "https://api.github.com/users/hapifhir/repos",
                            "events_url": "https://api.github.com/users/hapifhir/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/hapifhir/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/hapifhir/hapi-fhir",
                        "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
                        "fork": false,
                        "url": "https://api.github.com/repos/hapifhir/hapi-fhir",
                        "forks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/forks",
                        "keys_url": "https://api.github.com/repos/hapifhir/hapi-fhir/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/hapifhir/hapi-fhir/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/hapifhir/hapi-fhir/teams",
                        "hooks_url": "https://api.github.com/repos/hapifhir/hapi-fhir/hooks",
                        "issue_events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/hapifhir/hapi-fhir/events",
                        "assignees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/hapifhir/hapi-fhir/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/tags",
                        "blobs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/hapifhir/hapi-fhir/languages",
                        "stargazers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/stargazers",
                        "contributors_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contributors",
                        "subscribers_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscribers",
                        "subscription_url": "https://api.github.com/repos/hapifhir/hapi-fhir/subscription",
                        "commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/hapifhir/hapi-fhir/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/hapifhir/hapi-fhir/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/hapifhir/hapi-fhir/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/hapifhir/hapi-fhir/merges",
                        "archive_url": "https://api.github.com/repos/hapifhir/hapi-fhir/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/hapifhir/hapi-fhir/downloads",
                        "issues_url": "https://api.github.com/repos/hapifhir/hapi-fhir/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/hapifhir/hapi-fhir/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/hapifhir/hapi-fhir/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/hapifhir/hapi-fhir/labels{/name}",
                        "releases_url": "https://api.github.com/repos/hapifhir/hapi-fhir/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/hapifhir/hapi-fhir/deployments",
                        "created_at": "2014-06-24T21:00:46Z",
                        "updated_at": "2023-10-26T06:56:02Z",
                        "pushed_at": "2023-10-26T15:19:43Z",
                        "git_url": "git://github.com/hapifhir/hapi-fhir.git",
                        "ssh_url": "git@github.com:hapifhir/hapi-fhir.git",
                        "clone_url": "https://github.com/hapifhir/hapi-fhir.git",
                        "svn_url": "https://github.com/hapifhir/hapi-fhir",
                        "homepage": "http://hapifhir.io",
                        "size": 967264,
                        "stargazers_count": 1787,
                        "watchers_count": 1787,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 1277,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 937,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "apps",
                            "fhir",
                            "hapi-fhir",
                            "healthcare",
                            "hl7",
                            "java",
                            "java-api",
                            "mhealth"
                        ],
                        "visibility": "public",
                        "forks": 1277,
                        "open_issues": 937,
                        "watchers": 1787,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396"
                    },
                    "html": {
                        "href": "https://github.com/hapifhir/hapi-fhir/pull/5396"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/issues/5396/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/pulls/5396/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/hapifhir/hapi-fhir/statuses/0ff97dba1af960aebe5155718d47a3d7c568b7c3"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": {
                    "enabled_by": {
                        "login": "michaelabuckley",
                        "id": 10764269,
                        "node_id": "MDQ6VXNlcjEwNzY0MjY5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/10764269?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/michaelabuckley",
                        "html_url": "https://github.com/michaelabuckley",
                        "followers_url": "https://api.github.com/users/michaelabuckley/followers",
                        "following_url": "https://api.github.com/users/michaelabuckley/following{/other_user}",
                        "gists_url": "https://api.github.com/users/michaelabuckley/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/michaelabuckley/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/michaelabuckley/subscriptions",
                        "organizations_url": "https://api.github.com/users/michaelabuckley/orgs",
                        "repos_url": "https://api.github.com/users/michaelabuckley/repos",
                        "events_url": "https://api.github.com/users/michaelabuckley/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/michaelabuckley/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "merge_method": "squash",
                    "commit_title": "Clean stale search results more aggressively. (#5396)",
                    "commit_message": "Use bulk DMA statements when cleaning the search cache.\r\nThe cleaner job now works as long as possible until a deadline based on the scheduling frequency."
                },
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T18:53:11Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    },
    {
        "id": "32873358920",
        "type": "CreateEvent",
        "actor": {
            "id": 60718638,
            "login": "Capt-Mac",
            "display_login": "Capt-Mac",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Capt-Mac",
            "avatar_url": "https://avatars.githubusercontent.com/u/60718638?"
        },
        "repo": {
            "id": 21180741,
            "name": "hapifhir/hapi-fhir",
            "url": "https://api.github.com/repos/hapifhir/hapi-fhir"
        },
        "payload": {
            "ref": "5404-clinical-reasoning-fhirhelpers-cql-bug",
            "ref_type": "branch",
            "master_branch": "master",
            "description": "\ud83d\udd25 HAPI FHIR - Java API for HL7 FHIR Clients and Servers",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-26T15:19:48Z",
        "org": {
            "id": 23555072,
            "login": "hapifhir",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/hapifhir",
            "avatar_url": "https://avatars.githubusercontent.com/u/23555072?"
        }
    }
]