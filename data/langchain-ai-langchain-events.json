[
    {
        "id": "32897929230",
        "type": "ForkEvent",
        "actor": {
            "id": 18480251,
            "login": "malsey",
            "display_login": "malsey",
            "gravatar_id": "",
            "url": "https://api.github.com/users/malsey",
            "avatar_url": "https://avatars.githubusercontent.com/u/18480251?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "forkee": {
                "id": 710770507,
                "node_id": "R_kgDOKl1_Sw",
                "name": "langchain",
                "full_name": "malsey/langchain",
                "private": false,
                "owner": {
                    "login": "malsey",
                    "id": 18480251,
                    "node_id": "MDQ6VXNlcjE4NDgwMjUx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/18480251?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/malsey",
                    "html_url": "https://github.com/malsey",
                    "followers_url": "https://api.github.com/users/malsey/followers",
                    "following_url": "https://api.github.com/users/malsey/following{/other_user}",
                    "gists_url": "https://api.github.com/users/malsey/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/malsey/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/malsey/subscriptions",
                    "organizations_url": "https://api.github.com/users/malsey/orgs",
                    "repos_url": "https://api.github.com/users/malsey/repos",
                    "events_url": "https://api.github.com/users/malsey/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/malsey/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "html_url": "https://github.com/malsey/langchain",
                "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                "fork": true,
                "url": "https://api.github.com/repos/malsey/langchain",
                "forks_url": "https://api.github.com/repos/malsey/langchain/forks",
                "keys_url": "https://api.github.com/repos/malsey/langchain/keys{/key_id}",
                "collaborators_url": "https://api.github.com/repos/malsey/langchain/collaborators{/collaborator}",
                "teams_url": "https://api.github.com/repos/malsey/langchain/teams",
                "hooks_url": "https://api.github.com/repos/malsey/langchain/hooks",
                "issue_events_url": "https://api.github.com/repos/malsey/langchain/issues/events{/number}",
                "events_url": "https://api.github.com/repos/malsey/langchain/events",
                "assignees_url": "https://api.github.com/repos/malsey/langchain/assignees{/user}",
                "branches_url": "https://api.github.com/repos/malsey/langchain/branches{/branch}",
                "tags_url": "https://api.github.com/repos/malsey/langchain/tags",
                "blobs_url": "https://api.github.com/repos/malsey/langchain/git/blobs{/sha}",
                "git_tags_url": "https://api.github.com/repos/malsey/langchain/git/tags{/sha}",
                "git_refs_url": "https://api.github.com/repos/malsey/langchain/git/refs{/sha}",
                "trees_url": "https://api.github.com/repos/malsey/langchain/git/trees{/sha}",
                "statuses_url": "https://api.github.com/repos/malsey/langchain/statuses/{sha}",
                "languages_url": "https://api.github.com/repos/malsey/langchain/languages",
                "stargazers_url": "https://api.github.com/repos/malsey/langchain/stargazers",
                "contributors_url": "https://api.github.com/repos/malsey/langchain/contributors",
                "subscribers_url": "https://api.github.com/repos/malsey/langchain/subscribers",
                "subscription_url": "https://api.github.com/repos/malsey/langchain/subscription",
                "commits_url": "https://api.github.com/repos/malsey/langchain/commits{/sha}",
                "git_commits_url": "https://api.github.com/repos/malsey/langchain/git/commits{/sha}",
                "comments_url": "https://api.github.com/repos/malsey/langchain/comments{/number}",
                "issue_comment_url": "https://api.github.com/repos/malsey/langchain/issues/comments{/number}",
                "contents_url": "https://api.github.com/repos/malsey/langchain/contents/{+path}",
                "compare_url": "https://api.github.com/repos/malsey/langchain/compare/{base}...{head}",
                "merges_url": "https://api.github.com/repos/malsey/langchain/merges",
                "archive_url": "https://api.github.com/repos/malsey/langchain/{archive_format}{/ref}",
                "downloads_url": "https://api.github.com/repos/malsey/langchain/downloads",
                "issues_url": "https://api.github.com/repos/malsey/langchain/issues{/number}",
                "pulls_url": "https://api.github.com/repos/malsey/langchain/pulls{/number}",
                "milestones_url": "https://api.github.com/repos/malsey/langchain/milestones{/number}",
                "notifications_url": "https://api.github.com/repos/malsey/langchain/notifications{?since,all,participating}",
                "labels_url": "https://api.github.com/repos/malsey/langchain/labels{/name}",
                "releases_url": "https://api.github.com/repos/malsey/langchain/releases{/id}",
                "deployments_url": "https://api.github.com/repos/malsey/langchain/deployments",
                "created_at": "2023-10-27T12:02:20Z",
                "updated_at": "2023-10-27T12:02:20Z",
                "pushed_at": "2023-10-27T11:16:49Z",
                "git_url": "git://github.com/malsey/langchain.git",
                "ssh_url": "git@github.com:malsey/langchain.git",
                "clone_url": "https://github.com/malsey/langchain.git",
                "svn_url": "https://github.com/malsey/langchain",
                "homepage": "https://python.langchain.com",
                "size": 93905,
                "stargazers_count": 0,
                "watchers_count": 0,
                "language": null,
                "has_issues": false,
                "has_projects": true,
                "has_downloads": true,
                "has_wiki": true,
                "has_pages": false,
                "has_discussions": false,
                "forks_count": 0,
                "mirror_url": null,
                "archived": false,
                "disabled": false,
                "open_issues_count": 0,
                "license": null,
                "allow_forking": true,
                "is_template": false,
                "web_commit_signoff_required": false,
                "topics": [],
                "visibility": "public",
                "forks": 0,
                "open_issues": 0,
                "watchers": 0,
                "default_branch": "main",
                "public": true
            }
        },
        "public": true,
        "created_at": "2023-10-27T12:02:21Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32897923961",
        "type": "WatchEvent",
        "actor": {
            "id": 18480251,
            "login": "malsey",
            "display_login": "malsey",
            "gravatar_id": "",
            "url": "https://api.github.com/users/malsey",
            "avatar_url": "https://avatars.githubusercontent.com/u/18480251?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T12:02:08Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32897851211",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 44468894,
            "login": "nishantkr18",
            "display_login": "nishantkr18",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nishantkr18",
            "avatar_url": "https://avatars.githubusercontent.com/u/44468894?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/6324",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/6324/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/6324/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/6324/events",
                "html_url": "https://github.com/langchain-ai/langchain/issues/6324",
                "id": 1761634904,
                "node_id": "I_kwDOIPDwls5pAGpY",
                "number": 6324,
                "title": "format_tool_to_openai_function includes title and description, when it is not necessary ",
                "user": {
                    "login": "ahakanbaba",
                    "id": 6209214,
                    "node_id": "MDQ6VXNlcjYyMDkyMTQ=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/6209214?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ahakanbaba",
                    "html_url": "https://github.com/ahakanbaba",
                    "followers_url": "https://api.github.com/users/ahakanbaba/followers",
                    "following_url": "https://api.github.com/users/ahakanbaba/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ahakanbaba/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ahakanbaba/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ahakanbaba/subscriptions",
                    "organizations_url": "https://api.github.com/users/ahakanbaba/orgs",
                    "repos_url": "https://api.github.com/users/ahakanbaba/repos",
                    "events_url": "https://api.github.com/users/ahakanbaba/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ahakanbaba/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2023-06-17T04:34:20Z",
                "updated_at": "2023-10-27T11:59:23Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### System Info\r\n\r\nLangchain version langchain==0.0.201 \r\n\r\n### Related Components\r\n\r\n- [ ] LLMs/Chat Models\r\n- [ ] Embedding Models\r\n- [ ] Prompts / Prompt Templates / Prompt Selectors\r\n- [ ] Output Parsers\r\n- [ ] Document Loaders\r\n- [ ] Vector Stores / Retrievers\r\n- [ ] Memory\r\n- [ ] Agents / Agent Executors\r\n- [X] Tools / Toolkits\r\n- [ ] Chains\r\n- [ ] Callbacks/Tracing\r\n- [ ] Async\r\n\r\n### Reproduction\r\n\r\nI understand the `format_tool_to_openai_function` function was added very recently. Thank you very much for that. \r\n\r\nAs an example for this ticket: When `format_tool_to_openai_function` is used like this \r\n\r\n```\r\nfrom langchain.tools import FileSearchTool\r\nfrom langchain.tools import format_tool_to_openai_function\r\n\r\nformat_tool_to_openai_function(FileSearchTool())\r\n```\r\n\r\nOn a FileSearchTool it generates this \r\n\r\n```\r\n{'name': 'file_search',\r\n  'description': 'Recursively search for files in a subdirectory that match the regex pattern',\r\n  'parameters': {'title': 'FileSearchInput',\r\n   'description': 'Input for FileSearchTool.',\r\n   'type': 'object',\r\n   'properties': {'dir_path': {'title': 'Dir Path',\r\n     'description': 'Subdirectory to search in.',\r\n     'default': '.',\r\n     'type': 'string'},\r\n    'pattern': {'title': 'Pattern',\r\n     'description': 'Unix shell regex, where * matches everything.',\r\n     'type': 'string'}},\r\n   'required': ['pattern']}}\r\n```\r\n\r\nThis includes some unnecessary fields like `title` and `description` for the `parameters` and `title` for the `parameters.properties`\r\n\r\nI do not know whether this is a correctness issue yet with the OpenAI functions api. But at least this should cause wasted tokens. \r\n\r\n### Expected behavior\r\n\r\n```\r\n{'name': 'file_search',\r\n  'description': 'Recursively search for files in a subdirectory that match the regex pattern',\r\n  'parameters': {\r\n   'type': 'object',\r\n   'properties': {'dir_path': {\r\n     'description': 'Subdirectory to search in.',\r\n     'default': '.',\r\n     'type': 'string'},\r\n    'pattern': {\r\n     'description': 'Unix shell regex, where * matches everything.',\r\n     'type': 'string'}},\r\n   'required': ['pattern']}}\r\n   ```",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/6324/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/6324/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782792997",
                "html_url": "https://github.com/langchain-ai/langchain/issues/6324#issuecomment-1782792997",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/6324",
                "id": 1782792997,
                "node_id": "IC_kwDOIPDwls5qQ0Ml",
                "user": {
                    "login": "nishantkr18",
                    "id": 44468894,
                    "node_id": "MDQ6VXNlcjQ0NDY4ODk0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44468894?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/nishantkr18",
                    "html_url": "https://github.com/nishantkr18",
                    "followers_url": "https://api.github.com/users/nishantkr18/followers",
                    "following_url": "https://api.github.com/users/nishantkr18/following{/other_user}",
                    "gists_url": "https://api.github.com/users/nishantkr18/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/nishantkr18/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/nishantkr18/subscriptions",
                    "organizations_url": "https://api.github.com/users/nishantkr18/orgs",
                    "repos_url": "https://api.github.com/users/nishantkr18/repos",
                    "events_url": "https://api.github.com/users/nishantkr18/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/nishantkr18/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:59:23Z",
                "updated_at": "2023-10-27T11:59:23Z",
                "author_association": "NONE",
                "body": "Hey. Do we have any updates on this issue?\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782792997/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:59:23Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32897440924",
        "type": "WatchEvent",
        "actor": {
            "id": 646988,
            "login": "wjpeters",
            "display_login": "wjpeters",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wjpeters",
            "avatar_url": "https://avatars.githubusercontent.com/u/646988?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T11:42:24Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32897368393",
        "type": "WatchEvent",
        "actor": {
            "id": 26652244,
            "login": "Amnahalkhalil",
            "display_login": "Amnahalkhalil",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Amnahalkhalil",
            "avatar_url": "https://avatars.githubusercontent.com/u/26652244?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T11:39:20Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32897232877",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 51246969,
            "login": "codeananda",
            "display_login": "codeananda",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codeananda",
            "avatar_url": "https://avatars.githubusercontent.com/u/51246969?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630/events",
                "html_url": "https://github.com/langchain-ai/langchain/issues/10630",
                "id": 1897986132,
                "node_id": "I_kwDOIPDwls5xIPhU",
                "number": 10630,
                "title": "Issue: Remove \"AI:\" and \"Human:\" prefixes in memory history",
                "user": {
                    "login": "AdrialfB",
                    "id": 144364065,
                    "node_id": "U_kgDOCJrSIQ",
                    "avatar_url": "https://avatars.githubusercontent.com/u/144364065?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/AdrialfB",
                    "html_url": "https://github.com/AdrialfB",
                    "followers_url": "https://api.github.com/users/AdrialfB/followers",
                    "following_url": "https://api.github.com/users/AdrialfB/following{/other_user}",
                    "gists_url": "https://api.github.com/users/AdrialfB/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/AdrialfB/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/AdrialfB/subscriptions",
                    "organizations_url": "https://api.github.com/users/AdrialfB/orgs",
                    "repos_url": "https://api.github.com/users/AdrialfB/repos",
                    "events_url": "https://api.github.com/users/AdrialfB/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/AdrialfB/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 4899126096,
                        "node_id": "LA_kwDOIPDwls8AAAABJAK7UA",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20memory",
                        "name": "area: memory",
                        "color": "53691A",
                        "default": false,
                        "description": "Related to memory module"
                    },
                    {
                        "id": 5680700873,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidyQ",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:improvement",
                        "name": "auto:improvement",
                        "color": "BFDADC",
                        "default": false,
                        "description": "Medium size change to existing code to handle new use-cases"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2023-09-15T08:47:07Z",
                "updated_at": "2023-10-27T11:33:33Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Issue you'd like to raise.\r\n\r\nHi,\r\nI am trying to make a chatbot with a LLM based on LLaMa2.\r\nWhen I use the memory (ConversationBufferWindowMemory), it creates a default prompt like:\r\n\"\"\"\r\n    Human: input\r\n    AI: output\r\n    Human: input\r\n\"\"\"\r\nHowever, with LLaMa2 I need to create a prompt like:\r\n\"\"\"\r\n    [INST] {input} [/INST]\r\n    {output}\r\n    [INST] {input} [/INST]\r\n\"\"\"\r\nI discovered that I can change the \"Human\" and \"AI\" prefixes, but I can\u2019t delete the \":\", so I am getting:\r\n\"\"\"\r\n    : [INST] {input} [/INST]\r\n    : {output}\r\n    : [INST] {input} [/INST]\r\n\"\"\"\r\nIs there any way I can modify the whole prefix?\r\nThanks\r\n\r\n### Suggestion:\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782759545",
                "html_url": "https://github.com/langchain-ai/langchain/issues/10630#issuecomment-1782759545",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630",
                "id": 1782759545,
                "node_id": "IC_kwDOIPDwls5qQsB5",
                "user": {
                    "login": "codeananda",
                    "id": 51246969,
                    "node_id": "MDQ6VXNlcjUxMjQ2OTY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/51246969?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/codeananda",
                    "html_url": "https://github.com/codeananda",
                    "followers_url": "https://api.github.com/users/codeananda/followers",
                    "following_url": "https://api.github.com/users/codeananda/following{/other_user}",
                    "gists_url": "https://api.github.com/users/codeananda/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/codeananda/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/codeananda/subscriptions",
                    "organizations_url": "https://api.github.com/users/codeananda/orgs",
                    "repos_url": "https://api.github.com/users/codeananda/repos",
                    "events_url": "https://api.github.com/users/codeananda/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/codeananda/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:33:32Z",
                "updated_at": "2023-10-27T11:33:32Z",
                "author_association": "NONE",
                "body": "@AdrialfB did you find a way to solve this problem? Or just accepted that the prompt won't be formatted properly?",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782759545/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:33:33Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32897216730",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 51246969,
            "login": "codeananda",
            "display_login": "codeananda",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codeananda",
            "avatar_url": "https://avatars.githubusercontent.com/u/51246969?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630/events",
                "html_url": "https://github.com/langchain-ai/langchain/issues/10630",
                "id": 1897986132,
                "node_id": "I_kwDOIPDwls5xIPhU",
                "number": 10630,
                "title": "Issue: Remove \"AI:\" and \"Human:\" prefixes in memory history",
                "user": {
                    "login": "AdrialfB",
                    "id": 144364065,
                    "node_id": "U_kgDOCJrSIQ",
                    "avatar_url": "https://avatars.githubusercontent.com/u/144364065?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/AdrialfB",
                    "html_url": "https://github.com/AdrialfB",
                    "followers_url": "https://api.github.com/users/AdrialfB/followers",
                    "following_url": "https://api.github.com/users/AdrialfB/following{/other_user}",
                    "gists_url": "https://api.github.com/users/AdrialfB/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/AdrialfB/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/AdrialfB/subscriptions",
                    "organizations_url": "https://api.github.com/users/AdrialfB/orgs",
                    "repos_url": "https://api.github.com/users/AdrialfB/repos",
                    "events_url": "https://api.github.com/users/AdrialfB/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/AdrialfB/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 4899126096,
                        "node_id": "LA_kwDOIPDwls8AAAABJAK7UA",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20memory",
                        "name": "area: memory",
                        "color": "53691A",
                        "default": false,
                        "description": "Related to memory module"
                    },
                    {
                        "id": 5680700873,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidyQ",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:improvement",
                        "name": "auto:improvement",
                        "color": "BFDADC",
                        "default": false,
                        "description": "Medium size change to existing code to handle new use-cases"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2023-09-15T08:47:07Z",
                "updated_at": "2023-10-27T11:32:52Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Issue you'd like to raise.\r\n\r\nHi,\r\nI am trying to make a chatbot with a LLM based on LLaMa2.\r\nWhen I use the memory (ConversationBufferWindowMemory), it creates a default prompt like:\r\n\"\"\"\r\n    Human: input\r\n    AI: output\r\n    Human: input\r\n\"\"\"\r\nHowever, with LLaMa2 I need to create a prompt like:\r\n\"\"\"\r\n    [INST] {input} [/INST]\r\n    {output}\r\n    [INST] {input} [/INST]\r\n\"\"\"\r\nI discovered that I can change the \"Human\" and \"AI\" prefixes, but I can\u2019t delete the \":\", so I am getting:\r\n\"\"\"\r\n    : [INST] {input} [/INST]\r\n    : {output}\r\n    : [INST] {input} [/INST]\r\n\"\"\"\r\nIs there any way I can modify the whole prefix?\r\nThanks\r\n\r\n### Suggestion:\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782758674",
                "html_url": "https://github.com/langchain-ai/langchain/issues/10630#issuecomment-1782758674",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/10630",
                "id": 1782758674,
                "node_id": "IC_kwDOIPDwls5qQr0S",
                "user": {
                    "login": "codeananda",
                    "id": 51246969,
                    "node_id": "MDQ6VXNlcjUxMjQ2OTY5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/51246969?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/codeananda",
                    "html_url": "https://github.com/codeananda",
                    "followers_url": "https://api.github.com/users/codeananda/followers",
                    "following_url": "https://api.github.com/users/codeananda/following{/other_user}",
                    "gists_url": "https://api.github.com/users/codeananda/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/codeananda/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/codeananda/subscriptions",
                    "organizations_url": "https://api.github.com/users/codeananda/orgs",
                    "repos_url": "https://api.github.com/users/codeananda/repos",
                    "events_url": "https://api.github.com/users/codeananda/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/codeananda/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:32:51Z",
                "updated_at": "2023-10-27T11:32:51Z",
                "author_association": "NONE",
                "body": "@dosu-bot it is helpful that we need to know what to change... but this means we have to fork langchain in order to use it properly. \r\n\r\nOpen-source models have been trained using different prompt formats. We cannot fully utilise these models if we pass incorrectly formatted prompts. \r\n\r\nIt would be great if Langchain had a way to automatically format prompts for each open source model.\r\n\r\nAn example of how to properly format prompts for Alpaca and Llama2 can be found [here](https://github.com/oobabooga/text-generation-webui/wiki/01-%E2%80%90-Chat-Tab#mode)\r\n\r\nIf a model is downloaded from HuggingFace Hub, for instance, there is usually info about the prompt format in `models/config.yaml`. Is there a way for Langchain to check this?",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782758674/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:32:52Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32897113943",
        "type": "WatchEvent",
        "actor": {
            "id": 8653966,
            "login": "liulinlin",
            "display_login": "liulinlin",
            "gravatar_id": "",
            "url": "https://api.github.com/users/liulinlin",
            "avatar_url": "https://avatars.githubusercontent.com/u/8653966?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T11:28:28Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32897042004",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 131922026,
            "login": "dosubot[bot]",
            "display_login": "dosubot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dosubot[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/131922026?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348/events",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12348",
                "id": 1963840031,
                "node_id": "I_kwDOIPDwls51DdIf",
                "number": 12348,
                "title": "Fix rrror \"Could not parse function call data\" for JsonKeyOutputFunctionsParser (and other Json parsers) without additional LLM call",
                "user": {
                    "login": "PavelAgurov",
                    "id": 37487002,
                    "node_id": "MDQ6VXNlcjM3NDg3MDAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/37487002?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/PavelAgurov",
                    "html_url": "https://github.com/PavelAgurov",
                    "followers_url": "https://api.github.com/users/PavelAgurov/followers",
                    "following_url": "https://api.github.com/users/PavelAgurov/following{/other_user}",
                    "gists_url": "https://api.github.com/users/PavelAgurov/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/PavelAgurov/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/PavelAgurov/subscriptions",
                    "organizations_url": "https://api.github.com/users/PavelAgurov/orgs",
                    "repos_url": "https://api.github.com/users/PavelAgurov/repos",
                    "events_url": "https://api.github.com/users/PavelAgurov/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/PavelAgurov/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 5680700873,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidyQ",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:improvement",
                        "name": "auto:improvement",
                        "color": "BFDADC",
                        "default": false,
                        "description": "Medium size change to existing code to handle new use-cases"
                    },
                    {
                        "id": 5820539098,
                        "node_id": "LA_kwDOIPDwls8AAAABWu5g2g",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20models",
                        "name": "area: models",
                        "color": "bfdadc",
                        "default": false,
                        "description": "Related to LLMs or chat model modules"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2023-10-26T15:34:55Z",
                "updated_at": "2023-10-27T11:25:27Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Feature request\n\nLangChain v0.0.323\r\nPython 3.10.12\r\nturbo-3.5 \r\n\r\nI use JsonKeyOutputFunctionsParser to parse JSON output:\r\n\r\n```\r\nextraction_functions = [convert_pydantic_to_openai_function(Information)]\r\nextraction_model = llm.bind(functions=extraction_functions, function_call={\"name\": \"Information\"})\r\n\r\nprompt = ChatPromptTemplate.from_messages([\r\n    (\"system\", \"Extract the relevant information, if not explicitly provided do not guess. Extract partial info\"),\r\n    (\"human\", \"{input}\")\r\n])\r\n\r\nextraction_chain = prompt | extraction_model | JsonKeyOutputFunctionsParser(key_name=\"people\")\r\n```\r\n\r\nFor some text (in my tests it's 1 from 500) we have wrong JSON, because there are wrong placed comma or JSON is wrapped by extra text and that can't be parsed by json.loads.\r\n\r\nIt seems we can use OutputFixingParser, but in most of cases it's not needed to call LLM - we can just fix it my regex.\r\n\r\nI did special code to fix such JSONs:\r\n\r\n```\r\nclass JsonFixOutputFunctionsParser(JsonOutputFunctionsParser):\r\n    \"\"\"Parse an output as the Json object.\"\"\"\r\n\r\n    def get_fixed_json(self, text : str) -> str:\r\n        \"\"\"Fix LLM json\"\"\"\r\n        text = re.sub(r'\",\\s*}', '\"}', text)\r\n        text = re.sub(r\"},\\s*]\", \"}]\", text)\r\n        text = re.sub(r\"}\\s*{\", \"},{\", text)\r\n\r\n        open_bracket = min(text.find('['), text.find('{'))\r\n        if open_bracket == -1:\r\n            return text\r\n\r\n        close_bracket = max(text.rfind(']'), text.rfind('}'))\r\n        if close_bracket == -1:\r\n            return text\r\n        return text[open_bracket:close_bracket+1]\r\n\r\n    def parse_result(self, result: List[Generation], *, partial: bool = False) -> Any:\r\n         .................\r\n        fixed_json = self.get_fixed_json(str(function_call[\"arguments\"]))\r\n        return json.loads(fixed_json)\r\n\r\n```\r\n\r\nNow it works without error:\r\n\r\n`extraction_chain_fixed = prompt | extraction_model | JsonFixOutputFunctionsParser()`\r\n\r\nCode example with this bug and fix: https://colab.research.google.com/drive/1LiT6-ljO_g7xn4Y8qaXKZaUlcpVdEEGI?usp=sharing\r\n\n\n### Motivation\n\nWith get_fixed_json we can avoid extra LLM call and easy and fast fix most of wrong Jsons.\r\nI tested it on 9000 runs and it fixed all errors that I got.\n\n### Your contribution\n\nFeel free to use get_fixed_json function where we need to parse JSON, not only for function calls.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782748679",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12348#issuecomment-1782748679",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348",
                "id": 1782748679,
                "node_id": "IC_kwDOIPDwls5qQpYH",
                "user": {
                    "login": "dosubot[bot]",
                    "id": 131922026,
                    "node_id": "BOT_kgDOB9z4ag",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7771049?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dosubot%5Bbot%5D",
                    "html_url": "https://github.com/apps/dosubot",
                    "followers_url": "https://api.github.com/users/dosubot%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/dosubot%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dosubot%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dosubot%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dosubot%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/dosubot%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/dosubot%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/dosubot%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dosubot%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:25:27Z",
                "updated_at": "2023-10-27T11:25:27Z",
                "author_association": "NONE",
                "body": "_\ud83e\udd16_\n<!-- Answer -->\n@baskaryan, I could use your expertise on this one, it seems to be a bit tricky.\n\n---\nThis response is meant to be useful and save you time. It is **not meant to be a precise solution**, but rather a starting point for your own research.\n\nHelp me be more useful! Please leave a \ud83d\udc4d if this is helpful and \ud83d\udc4e if it is irrelevant.\n\nIf you want to continue the conversation, start your reply with @dosu-bot.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782748679/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:25:27Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896970360",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 37487002,
            "login": "PavelAgurov",
            "display_login": "PavelAgurov",
            "gravatar_id": "",
            "url": "https://api.github.com/users/PavelAgurov",
            "avatar_url": "https://avatars.githubusercontent.com/u/37487002?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348/events",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12348",
                "id": 1963840031,
                "node_id": "I_kwDOIPDwls51DdIf",
                "number": 12348,
                "title": "Fix rrror \"Could not parse function call data\" for JsonKeyOutputFunctionsParser (and other Json parsers) without additional LLM call",
                "user": {
                    "login": "PavelAgurov",
                    "id": 37487002,
                    "node_id": "MDQ6VXNlcjM3NDg3MDAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/37487002?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/PavelAgurov",
                    "html_url": "https://github.com/PavelAgurov",
                    "followers_url": "https://api.github.com/users/PavelAgurov/followers",
                    "following_url": "https://api.github.com/users/PavelAgurov/following{/other_user}",
                    "gists_url": "https://api.github.com/users/PavelAgurov/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/PavelAgurov/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/PavelAgurov/subscriptions",
                    "organizations_url": "https://api.github.com/users/PavelAgurov/orgs",
                    "repos_url": "https://api.github.com/users/PavelAgurov/repos",
                    "events_url": "https://api.github.com/users/PavelAgurov/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/PavelAgurov/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 5680700873,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidyQ",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:improvement",
                        "name": "auto:improvement",
                        "color": "BFDADC",
                        "default": false,
                        "description": "Medium size change to existing code to handle new use-cases"
                    },
                    {
                        "id": 5820539098,
                        "node_id": "LA_kwDOIPDwls8AAAABWu5g2g",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20models",
                        "name": "area: models",
                        "color": "bfdadc",
                        "default": false,
                        "description": "Related to LLMs or chat model modules"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2023-10-26T15:34:55Z",
                "updated_at": "2023-10-27T11:22:29Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Feature request\n\nLangChain v0.0.323\r\nPython 3.10.12\r\nturbo-3.5 \r\n\r\nI use JsonKeyOutputFunctionsParser to parse JSON output:\r\n\r\n```\r\nextraction_functions = [convert_pydantic_to_openai_function(Information)]\r\nextraction_model = llm.bind(functions=extraction_functions, function_call={\"name\": \"Information\"})\r\n\r\nprompt = ChatPromptTemplate.from_messages([\r\n    (\"system\", \"Extract the relevant information, if not explicitly provided do not guess. Extract partial info\"),\r\n    (\"human\", \"{input}\")\r\n])\r\n\r\nextraction_chain = prompt | extraction_model | JsonKeyOutputFunctionsParser(key_name=\"people\")\r\n```\r\n\r\nFor some text (in my tests it's 1 from 500) we have wrong JSON, because there are wrong placed comma or JSON is wrapped by extra text and that can't be parsed by json.loads.\r\n\r\nIt seems we can use OutputFixingParser, but in most of cases it's not needed to call LLM - we can just fix it my regex.\r\n\r\nI did special code to fix such JSONs:\r\n\r\n```\r\nclass JsonFixOutputFunctionsParser(JsonOutputFunctionsParser):\r\n    \"\"\"Parse an output as the Json object.\"\"\"\r\n\r\n    def get_fixed_json(self, text : str) -> str:\r\n        \"\"\"Fix LLM json\"\"\"\r\n        text = re.sub(r'\",\\s*}', '\"}', text)\r\n        text = re.sub(r\"},\\s*]\", \"}]\", text)\r\n        text = re.sub(r\"}\\s*{\", \"},{\", text)\r\n\r\n        open_bracket = min(text.find('['), text.find('{'))\r\n        if open_bracket == -1:\r\n            return text\r\n\r\n        close_bracket = max(text.rfind(']'), text.rfind('}'))\r\n        if close_bracket == -1:\r\n            return text\r\n        return text[open_bracket:close_bracket+1]\r\n\r\n    def parse_result(self, result: List[Generation], *, partial: bool = False) -> Any:\r\n         .................\r\n        fixed_json = self.get_fixed_json(str(function_call[\"arguments\"]))\r\n        return json.loads(fixed_json)\r\n\r\n```\r\n\r\nNow it works without error:\r\n\r\n`extraction_chain_fixed = prompt | extraction_model | JsonFixOutputFunctionsParser()`\r\n\r\nCode example with this bug and fix: https://colab.research.google.com/drive/1LiT6-ljO_g7xn4Y8qaXKZaUlcpVdEEGI?usp=sharing\r\n\n\n### Motivation\n\nWith get_fixed_json we can avoid extra LLM call and easy and fast fix most of wrong Jsons.\r\nI tested it on 9000 runs and it fixed all errors that I got.\n\n### Your contribution\n\nFeel free to use get_fixed_json function where we need to parse JSON, not only for function calls.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782744984",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12348#issuecomment-1782744984",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12348",
                "id": 1782744984,
                "node_id": "IC_kwDOIPDwls5qQoeY",
                "user": {
                    "login": "PavelAgurov",
                    "id": 37487002,
                    "node_id": "MDQ6VXNlcjM3NDg3MDAy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/37487002?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/PavelAgurov",
                    "html_url": "https://github.com/PavelAgurov",
                    "followers_url": "https://api.github.com/users/PavelAgurov/followers",
                    "following_url": "https://api.github.com/users/PavelAgurov/following{/other_user}",
                    "gists_url": "https://api.github.com/users/PavelAgurov/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/PavelAgurov/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/PavelAgurov/subscriptions",
                    "organizations_url": "https://api.github.com/users/PavelAgurov/orgs",
                    "repos_url": "https://api.github.com/users/PavelAgurov/repos",
                    "events_url": "https://api.github.com/users/PavelAgurov/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/PavelAgurov/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:22:29Z",
                "updated_at": "2023-10-27T11:22:29Z",
                "author_association": "NONE",
                "body": "As it's global function for all JSONs maybe better if somebody from core team will integrate it into langchain. I will try my best, but not sure. It's not only about function calling, it's also about other places.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782744984/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:22:29Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896897703",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 131922026,
            "login": "dosubot[bot]",
            "display_login": "dosubot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dosubot[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/131922026?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336/events",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12336",
                "id": 1963490327,
                "node_id": "I_kwDOIPDwls51CHwX",
                "number": 12336,
                "title": "load_summarize_chain ValidationError, str type expected",
                "user": {
                    "login": "WaleedAlfaris",
                    "id": 92319577,
                    "node_id": "U_kgDOBYCvWQ",
                    "avatar_url": "https://avatars.githubusercontent.com/u/92319577?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/WaleedAlfaris",
                    "html_url": "https://github.com/WaleedAlfaris",
                    "followers_url": "https://api.github.com/users/WaleedAlfaris/followers",
                    "following_url": "https://api.github.com/users/WaleedAlfaris/following{/other_user}",
                    "gists_url": "https://api.github.com/users/WaleedAlfaris/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/WaleedAlfaris/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/WaleedAlfaris/subscriptions",
                    "organizations_url": "https://api.github.com/users/WaleedAlfaris/orgs",
                    "repos_url": "https://api.github.com/users/WaleedAlfaris/repos",
                    "events_url": "https://api.github.com/users/WaleedAlfaris/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/WaleedAlfaris/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 5541144676,
                        "node_id": "LA_kwDOIPDwls8AAAABSkcoZA",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20doc%20loader",
                        "name": "area: doc loader",
                        "color": "BB9602",
                        "default": false,
                        "description": "Related to document loader module (not documentation)"
                    },
                    {
                        "id": 5680700839,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidpw",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:bug",
                        "name": "auto:bug",
                        "color": "E99695",
                        "default": false,
                        "description": "Related to a bug, vulnerability, unexpected error with an existing feature"
                    },
                    {
                        "id": 5820539098,
                        "node_id": "LA_kwDOIPDwls8AAAABWu5g2g",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20models",
                        "name": "area: models",
                        "color": "bfdadc",
                        "default": false,
                        "description": "Related to LLMs or chat model modules"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2023-10-26T12:47:28Z",
                "updated_at": "2023-10-27T11:19:25Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### System Info\n\nlangchain 0.0.275\r\nUbuntu 20.04.6 LTS\r\nllama-2-7b-chat.ggmlv3.q4_0.bin\r\nllama-cpp-python 0.1.78\r\n\r\n\r\nI am getting a validation error when trying to use the document summary chain. It is giving an error \"str type expected\". I am passing Document objects to the model. I have checked the type of all page contents and they are indeed strings.\r\n\r\n**Error**\r\n```bash\r\n---------------------------------------------------------------------------\r\nValidationError                           Traceback (most recent call last)\r\n[/home/waleedalfaris/localGPT/notebooks/doc_summary.ipynb](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/doc_summary.ipynb) Cell 9 line 5\r\n      [3](vscode-notebook-cell://ssh-remote%2B7b22686f73744e616d65223a224c4c4d227d/home/waleedalfaris/localGPT/notebooks/doc_summary.ipynb#X34sdnNjb2RlLXJlbW90ZQ%3D%3D?line=2) docs = loader.load_and_split()\r\n      [4](vscode-notebook-cell://ssh-remote%2B7b22686f73744e616d65223a224c4c4d227d/home/waleedalfaris/localGPT/notebooks/doc_summary.ipynb#X34sdnNjb2RlLXJlbW90ZQ%3D%3D?line=3) chain = load_summarize_chain(llm, chain_type='map_reduce')\r\n----> [5](vscode-notebook-cell://ssh-remote%2B7b22686f73744e616d65223a224c4c4d227d/home/waleedalfaris/localGPT/notebooks/doc_summary.ipynb#X34sdnNjb2RlLXJlbW90ZQ%3D%3D?line=4) summary = chain.run(docs[:1])\r\n      [6](vscode-notebook-cell://ssh-remote%2B7b22686f73744e616d65223a224c4c4d227d/home/waleedalfaris/localGPT/notebooks/doc_summary.ipynb#X34sdnNjb2RlLXJlbW90ZQ%3D%3D?line=5) print(summary)\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/base.py:475](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/base.py:475), in Chain.run(self, callbacks, tags, metadata, *args, **kwargs)\r\n    473     if len(args) != 1:\r\n    474         raise ValueError(\"`run` supports only one positional argument.\")\r\n--> 475     return self(args[0], callbacks=callbacks, tags=tags, metadata=metadata)[\r\n    476         _output_key\r\n    477     ]\r\n    479 if kwargs and not args:\r\n    480     return self(kwargs, callbacks=callbacks, tags=tags, metadata=metadata)[\r\n    481         _output_key\r\n    482     ]\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/base.py:282](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/base.py:282), in Chain.__call__(self, inputs, return_only_outputs, callbacks, tags, metadata, include_run_info)\r\n    280 except (KeyboardInterrupt, Exception) as e:\r\n    281     run_manager.on_chain_error(e)\r\n--> 282     raise e\r\n    283 run_manager.on_chain_end(outputs)\r\n    284 final_outputs: Dict[str, Any] = self.prep_outputs(\r\n    285     inputs, outputs, return_only_outputs\r\n    286 )\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/base.py:276](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/base.py:276), in Chain.__call__(self, inputs, return_only_outputs, callbacks, tags, metadata, include_run_info)\r\n    270 run_manager = callback_manager.on_chain_start(\r\n    271     dumpd(self),\r\n    272     inputs,\r\n    273 )\r\n    274 try:\r\n    275     outputs = (\r\n--> 276         self._call(inputs, run_manager=run_manager)\r\n    277         if new_arg_supported\r\n    278         else self._call(inputs)\r\n    279     )\r\n    280 except (KeyboardInterrupt, Exception) as e:\r\n    281     run_manager.on_chain_error(e)\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/combine_documents/base.py:105](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/combine_documents/base.py:105), in BaseCombineDocumentsChain._call(self, inputs, run_manager)\r\n    103 # Other keys are assumed to be needed for LLM prediction\r\n    104 other_keys = {k: v for k, v in inputs.items() if k != self.input_key}\r\n--> 105 output, extra_return_dict = self.combine_docs(\r\n    106     docs, callbacks=_run_manager.get_child(), **other_keys\r\n    107 )\r\n    108 extra_return_dict[self.output_key] = output\r\n    109 return extra_return_dict\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/combine_documents/map_reduce.py:209](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/combine_documents/map_reduce.py:209), in MapReduceDocumentsChain.combine_docs(self, docs, token_max, callbacks, **kwargs)\r\n    197 def combine_docs(\r\n    198     self,\r\n    199     docs: List[Document],\r\n   (...)\r\n    202     **kwargs: Any,\r\n    203 ) -> Tuple[str, dict]:\r\n    204     \"\"\"Combine documents in a map reduce manner.\r\n    205 \r\n    206     Combine by mapping first chain over all documents, then reducing the results.\r\n    207     This reducing can be done recursively if needed (if there are many documents).\r\n    208     \"\"\"\r\n--> 209     map_results = self.llm_chain.apply(\r\n    210         # FYI - this is parallelized and so it is fast.\r\n    211         [{self.document_variable_name: d.page_content, **kwargs} for d in docs],\r\n    212         callbacks=callbacks,\r\n    213     )\r\n    214     question_result_key = self.llm_chain.output_key\r\n    215     result_docs = [\r\n    216         Document(page_content=r[question_result_key], metadata=docs[i].metadata)\r\n    217         # This uses metadata from the docs, and the textual results from `results`\r\n    218         for i, r in enumerate(map_results)\r\n    219     ]\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/llm.py:189](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/llm.py:189), in LLMChain.apply(self, input_list, callbacks)\r\n    187 except (KeyboardInterrupt, Exception) as e:\r\n    188     run_manager.on_chain_error(e)\r\n--> 189     raise e\r\n    190 outputs = self.create_outputs(response)\r\n    191 run_manager.on_chain_end({\"outputs\": outputs})\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/llm.py:186](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/llm.py:186), in LLMChain.apply(self, input_list, callbacks)\r\n    181 run_manager = callback_manager.on_chain_start(\r\n    182     dumpd(self),\r\n    183     {\"input_list\": input_list},\r\n    184 )\r\n    185 try:\r\n--> 186     response = self.generate(input_list, run_manager=run_manager)\r\n    187 except (KeyboardInterrupt, Exception) as e:\r\n    188     run_manager.on_chain_error(e)\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/llm.py:101](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/llm.py:101), in LLMChain.generate(self, input_list, run_manager)\r\n     99 \"\"\"Generate LLM result from inputs.\"\"\"\r\n    100 prompts, stop = self.prep_prompts(input_list, run_manager=run_manager)\r\n--> 101 return self.llm.generate_prompt(\r\n    102     prompts,\r\n    103     stop,\r\n    104     callbacks=run_manager.get_child() if run_manager else None,\r\n    105     **self.llm_kwargs,\r\n    106 )\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:467](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:467), in BaseLLM.generate_prompt(self, prompts, stop, callbacks, **kwargs)\r\n    459 def generate_prompt(\r\n    460     self,\r\n    461     prompts: List[PromptValue],\r\n   (...)\r\n    464     **kwargs: Any,\r\n    465 ) -> LLMResult:\r\n    466     prompt_strings = [p.to_string() for p in prompts]\r\n--> 467     return self.generate(prompt_strings, stop=stop, callbacks=callbacks, **kwargs)\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:602](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:602), in BaseLLM.generate(self, prompts, stop, callbacks, tags, metadata, **kwargs)\r\n    593         raise ValueError(\r\n    594             \"Asked to cache, but no cache found at `langchain.cache`.\"\r\n    595         )\r\n    596     run_managers = [\r\n    597         callback_manager.on_llm_start(\r\n    598             dumpd(self), [prompt], invocation_params=params, options=options\r\n    599         )[0]\r\n    600         for callback_manager, prompt in zip(callback_managers, prompts)\r\n    601     ]\r\n--> 602     output = self._generate_helper(\r\n    603         prompts, stop, run_managers, bool(new_arg_supported), **kwargs\r\n    604     )\r\n    605     return output\r\n    606 if len(missing_prompts) > 0:\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:504](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:504), in BaseLLM._generate_helper(self, prompts, stop, run_managers, new_arg_supported, **kwargs)\r\n    502     for run_manager in run_managers:\r\n    503         run_manager.on_llm_error(e)\r\n--> 504     raise e\r\n    505 flattened_outputs = output.flatten()\r\n    506 for manager, flattened_output in zip(run_managers, flattened_outputs):\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:491](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:491), in BaseLLM._generate_helper(self, prompts, stop, run_managers, new_arg_supported, **kwargs)\r\n    481 def _generate_helper(\r\n    482     self,\r\n    483     prompts: List[str],\r\n   (...)\r\n    487     **kwargs: Any,\r\n    488 ) -> LLMResult:\r\n    489     try:\r\n    490         output = (\r\n--> 491             self._generate(\r\n    492                 prompts,\r\n    493                 stop=stop,\r\n    494                 # TODO: support multiple run managers\r\n    495                 run_manager=run_managers[0] if run_managers else None,\r\n    496                 **kwargs,\r\n    497             )\r\n    498             if new_arg_supported\r\n    499             else self._generate(prompts, stop=stop)\r\n    500         )\r\n    501     except (KeyboardInterrupt, Exception) as e:\r\n    502         for run_manager in run_managers:\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:985](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:985), in LLM._generate(self, prompts, stop, run_manager, **kwargs)\r\n    979 for prompt in prompts:\r\n    980     text = (\r\n    981         self._call(prompt, stop=stop, run_manager=run_manager, **kwargs)\r\n    982         if new_arg_supported\r\n    983         else self._call(prompt, stop=stop, **kwargs)\r\n    984     )\r\n--> 985     generations.append([Generation(text=text)])\r\n    986 return LLMResult(generations=generations)\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/load/serializable.py:74](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/load/serializable.py:74), in Serializable.__init__(self, **kwargs)\r\n     73 def __init__(self, **kwargs: Any) -> None:\r\n---> 74     super().__init__(**kwargs)\r\n     75     self._lc_kwargs = kwargs\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/pydantic/main.py:341](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/pydantic/main.py:341), in pydantic.main.BaseModel.__init__()\r\n\r\nValidationError: 1 validation error for Generation\r\ntext\r\n  str type expected (type=type_error.str)\r\n```\n\n### Who can help?\n\n@hwchase17\r\n@agola11\n\n### Information\n\n- [ ] The official example notebooks/scripts\n- [X] My own modified scripts\n\n### Related Components\n\n- [ ] LLMs/Chat Models\n- [ ] Embedding Models\n- [ ] Prompts / Prompt Templates / Prompt Selectors\n- [ ] Output Parsers\n- [ ] Document Loaders\n- [ ] Vector Stores / Retrievers\n- [ ] Memory\n- [ ] Agents / Agent Executors\n- [ ] Tools / Toolkits\n- [X] Chains\n- [ ] Callbacks/Tracing\n- [ ] Async\n\n### Reproduction\n\n```python\r\nfrom langchain.chains.summarize import load_summarize_chain\r\nfrom langchain.prompts import PromptTemplate\r\nfrom langchain.document_loaders import PDFMinerLoader\r\nfrom langchain.llms import LlamaCpp\r\n\r\nkwargs = {\r\n    \"model_path\": model_path,\r\n    \"n_ctx\": 4096,\r\n    \"max_tokens\": 4096,\r\n    \"seed\": 42,\r\n    \"n_gpu_layers\": -1,\r\n    \"verbose\": True,\r\n}\r\nllm = LlamaCpp(**kwargs)\r\n\r\nfile = 'test_file.pdf'\r\nloader = PDFMinerLoader(file)\r\ndocs = loader.load_and_split()\r\nchain = load_summarize_chain(llm, chain_type='map_reduce')\r\nsummary = chain.run(docs)\r\nprint(summary)\r\n```\n\n### Expected behavior\n\nThe chain should provide a summary of the Documents provided",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782741109",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12336#issuecomment-1782741109",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336",
                "id": 1782741109,
                "node_id": "IC_kwDOIPDwls5qQnh1",
                "user": {
                    "login": "dosubot[bot]",
                    "id": 131922026,
                    "node_id": "BOT_kgDOB9z4ag",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7771049?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dosubot%5Bbot%5D",
                    "html_url": "https://github.com/apps/dosubot",
                    "followers_url": "https://api.github.com/users/dosubot%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/dosubot%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dosubot%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dosubot%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dosubot%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/dosubot%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/dosubot%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/dosubot%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dosubot%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:19:24Z",
                "updated_at": "2023-10-27T11:19:24Z",
                "author_association": "NONE",
                "body": "_\ud83e\udd16_\n<!-- Answer -->\nBased on the context provided, it seems like the issue you're encountering is related to the structure of the dictionary you're passing to the `run` method. The `load_summarize_chain` function expects an input of type \"CombineDocumentsInput\", which should be an object with a property \"input_documents\" that is an array of \"Document\" objects. Each \"Document\" object should have properties \"page_content\" (a string), \"metadata\" (an object), and \"type\" (a string with default value \"Document\").\n\nHere's an example of what the dictionary should look like:\n\n```python\n{\n    \"input_documents\": [\n        {\n            \"page_content\": \"your string here\",\n            \"metadata\": {},\n            \"type\": \"Document\"\n        }\n    ]\n}\n```\n\nThe error message \"str type expected\" suggests that the function is expecting a string input, but a dictionary is being passed instead. If you're passing a dictionary with a different structure, this could be the cause of the \"str type expected\" error.\n\nPlease ensure that the dictionary you're passing to the `run` method matches the structure expected by the `load_summarize_chain` function. If the issue persists, it would be helpful to know the exact structure of the \"Document\" objects you're passing to the `run` method.\n\nFor more information, you can refer to these sources:\n- [libs/langchain/langchain/chains/llm_summarization_checker/base.py](https://github.com/langchain-ai/langchain/blob/master/libs/langchain/langchain/chains/llm_summarization_checker/base.py)\n- [libs/langchain/tests/unit_tests/schema/runnable/test_runnable.py](https://github.com/langchain-ai/langchain/blob/master/libs/langchain/tests/unit_tests/schema/runnable/test_runnable.py)\n\nAlso, there was a similar issue [load_summarize_chain cannot run](https://github.com/langchain-ai/langchain/issues/2081) which was last updated on April 14, 2023, and it was referenced by [ValidationError: 1 validation error for ChatMessage](https://github.com/langchain-ai/langchain/issues/11823) which was last updated on October 15, 2023. You might find some useful information there.\n\n## Sources\n- [load_summarize_chain cannot run](https://github.com/langchain-ai/langchain/issues/2081)\n- [libs/langchain/langchain/chains/llm_summarization_checker/base.py](https://github.com/langchain-ai/langchain/blob/master/libs/langchain/langchain/chains/llm_summarization_checker/base.py)\n- [libs/langchain/tests/unit_tests/schema/runnable/test_runnable.py](https://github.com/langchain-ai/langchain/blob/master/libs/langchain/tests/unit_tests/schema/runnable/test_runnable.py)\n\n---\nThis response is meant to be useful and save you time. It is **not meant to be a precise solution**, but rather a starting point for your own research.\n\nHelp me be more useful! Please leave a \ud83d\udc4d if this is helpful and \ud83d\udc4e if it is irrelevant.\n\nIf you want to continue the conversation, start your reply with @dosu-bot.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782741109/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:19:25Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896843806",
        "type": "WatchEvent",
        "actor": {
            "id": 6869162,
            "login": "Ceruto",
            "display_login": "Ceruto",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Ceruto",
            "avatar_url": "https://avatars.githubusercontent.com/u/6869162?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T11:17:11Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896636681",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 92319577,
            "login": "WaleedAlfaris",
            "display_login": "WaleedAlfaris",
            "gravatar_id": "",
            "url": "https://api.github.com/users/WaleedAlfaris",
            "avatar_url": "https://avatars.githubusercontent.com/u/92319577?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336/events",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12336",
                "id": 1963490327,
                "node_id": "I_kwDOIPDwls51CHwX",
                "number": 12336,
                "title": "load_summarize_chain ValidationError, str type expected",
                "user": {
                    "login": "WaleedAlfaris",
                    "id": 92319577,
                    "node_id": "U_kgDOBYCvWQ",
                    "avatar_url": "https://avatars.githubusercontent.com/u/92319577?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/WaleedAlfaris",
                    "html_url": "https://github.com/WaleedAlfaris",
                    "followers_url": "https://api.github.com/users/WaleedAlfaris/followers",
                    "following_url": "https://api.github.com/users/WaleedAlfaris/following{/other_user}",
                    "gists_url": "https://api.github.com/users/WaleedAlfaris/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/WaleedAlfaris/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/WaleedAlfaris/subscriptions",
                    "organizations_url": "https://api.github.com/users/WaleedAlfaris/orgs",
                    "repos_url": "https://api.github.com/users/WaleedAlfaris/repos",
                    "events_url": "https://api.github.com/users/WaleedAlfaris/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/WaleedAlfaris/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 5541144676,
                        "node_id": "LA_kwDOIPDwls8AAAABSkcoZA",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20doc%20loader",
                        "name": "area: doc loader",
                        "color": "BB9602",
                        "default": false,
                        "description": "Related to document loader module (not documentation)"
                    },
                    {
                        "id": 5680700839,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidpw",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:bug",
                        "name": "auto:bug",
                        "color": "E99695",
                        "default": false,
                        "description": "Related to a bug, vulnerability, unexpected error with an existing feature"
                    },
                    {
                        "id": 5820539098,
                        "node_id": "LA_kwDOIPDwls8AAAABWu5g2g",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20models",
                        "name": "area: models",
                        "color": "bfdadc",
                        "default": false,
                        "description": "Related to LLMs or chat model modules"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2023-10-26T12:47:28Z",
                "updated_at": "2023-10-27T11:08:39Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### System Info\n\nlangchain 0.0.275\r\nUbuntu 20.04.6 LTS\r\nllama-2-7b-chat.ggmlv3.q4_0.bin\r\nllama-cpp-python 0.1.78\r\n\r\n\r\nI am getting a validation error when trying to use the document summary chain. It is giving an error \"str type expected\". I am passing Document objects to the model. I have checked the type of all page contents and they are indeed strings.\r\n\r\n**Error**\r\n```bash\r\n---------------------------------------------------------------------------\r\nValidationError                           Traceback (most recent call last)\r\n[/home/waleedalfaris/localGPT/notebooks/doc_summary.ipynb](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/doc_summary.ipynb) Cell 9 line 5\r\n      [3](vscode-notebook-cell://ssh-remote%2B7b22686f73744e616d65223a224c4c4d227d/home/waleedalfaris/localGPT/notebooks/doc_summary.ipynb#X34sdnNjb2RlLXJlbW90ZQ%3D%3D?line=2) docs = loader.load_and_split()\r\n      [4](vscode-notebook-cell://ssh-remote%2B7b22686f73744e616d65223a224c4c4d227d/home/waleedalfaris/localGPT/notebooks/doc_summary.ipynb#X34sdnNjb2RlLXJlbW90ZQ%3D%3D?line=3) chain = load_summarize_chain(llm, chain_type='map_reduce')\r\n----> [5](vscode-notebook-cell://ssh-remote%2B7b22686f73744e616d65223a224c4c4d227d/home/waleedalfaris/localGPT/notebooks/doc_summary.ipynb#X34sdnNjb2RlLXJlbW90ZQ%3D%3D?line=4) summary = chain.run(docs[:1])\r\n      [6](vscode-notebook-cell://ssh-remote%2B7b22686f73744e616d65223a224c4c4d227d/home/waleedalfaris/localGPT/notebooks/doc_summary.ipynb#X34sdnNjb2RlLXJlbW90ZQ%3D%3D?line=5) print(summary)\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/base.py:475](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/base.py:475), in Chain.run(self, callbacks, tags, metadata, *args, **kwargs)\r\n    473     if len(args) != 1:\r\n    474         raise ValueError(\"`run` supports only one positional argument.\")\r\n--> 475     return self(args[0], callbacks=callbacks, tags=tags, metadata=metadata)[\r\n    476         _output_key\r\n    477     ]\r\n    479 if kwargs and not args:\r\n    480     return self(kwargs, callbacks=callbacks, tags=tags, metadata=metadata)[\r\n    481         _output_key\r\n    482     ]\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/base.py:282](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/base.py:282), in Chain.__call__(self, inputs, return_only_outputs, callbacks, tags, metadata, include_run_info)\r\n    280 except (KeyboardInterrupt, Exception) as e:\r\n    281     run_manager.on_chain_error(e)\r\n--> 282     raise e\r\n    283 run_manager.on_chain_end(outputs)\r\n    284 final_outputs: Dict[str, Any] = self.prep_outputs(\r\n    285     inputs, outputs, return_only_outputs\r\n    286 )\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/base.py:276](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/base.py:276), in Chain.__call__(self, inputs, return_only_outputs, callbacks, tags, metadata, include_run_info)\r\n    270 run_manager = callback_manager.on_chain_start(\r\n    271     dumpd(self),\r\n    272     inputs,\r\n    273 )\r\n    274 try:\r\n    275     outputs = (\r\n--> 276         self._call(inputs, run_manager=run_manager)\r\n    277         if new_arg_supported\r\n    278         else self._call(inputs)\r\n    279     )\r\n    280 except (KeyboardInterrupt, Exception) as e:\r\n    281     run_manager.on_chain_error(e)\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/combine_documents/base.py:105](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/combine_documents/base.py:105), in BaseCombineDocumentsChain._call(self, inputs, run_manager)\r\n    103 # Other keys are assumed to be needed for LLM prediction\r\n    104 other_keys = {k: v for k, v in inputs.items() if k != self.input_key}\r\n--> 105 output, extra_return_dict = self.combine_docs(\r\n    106     docs, callbacks=_run_manager.get_child(), **other_keys\r\n    107 )\r\n    108 extra_return_dict[self.output_key] = output\r\n    109 return extra_return_dict\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/combine_documents/map_reduce.py:209](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/combine_documents/map_reduce.py:209), in MapReduceDocumentsChain.combine_docs(self, docs, token_max, callbacks, **kwargs)\r\n    197 def combine_docs(\r\n    198     self,\r\n    199     docs: List[Document],\r\n   (...)\r\n    202     **kwargs: Any,\r\n    203 ) -> Tuple[str, dict]:\r\n    204     \"\"\"Combine documents in a map reduce manner.\r\n    205 \r\n    206     Combine by mapping first chain over all documents, then reducing the results.\r\n    207     This reducing can be done recursively if needed (if there are many documents).\r\n    208     \"\"\"\r\n--> 209     map_results = self.llm_chain.apply(\r\n    210         # FYI - this is parallelized and so it is fast.\r\n    211         [{self.document_variable_name: d.page_content, **kwargs} for d in docs],\r\n    212         callbacks=callbacks,\r\n    213     )\r\n    214     question_result_key = self.llm_chain.output_key\r\n    215     result_docs = [\r\n    216         Document(page_content=r[question_result_key], metadata=docs[i].metadata)\r\n    217         # This uses metadata from the docs, and the textual results from `results`\r\n    218         for i, r in enumerate(map_results)\r\n    219     ]\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/llm.py:189](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/llm.py:189), in LLMChain.apply(self, input_list, callbacks)\r\n    187 except (KeyboardInterrupt, Exception) as e:\r\n    188     run_manager.on_chain_error(e)\r\n--> 189     raise e\r\n    190 outputs = self.create_outputs(response)\r\n    191 run_manager.on_chain_end({\"outputs\": outputs})\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/llm.py:186](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/llm.py:186), in LLMChain.apply(self, input_list, callbacks)\r\n    181 run_manager = callback_manager.on_chain_start(\r\n    182     dumpd(self),\r\n    183     {\"input_list\": input_list},\r\n    184 )\r\n    185 try:\r\n--> 186     response = self.generate(input_list, run_manager=run_manager)\r\n    187 except (KeyboardInterrupt, Exception) as e:\r\n    188     run_manager.on_chain_error(e)\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/llm.py:101](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/chains/llm.py:101), in LLMChain.generate(self, input_list, run_manager)\r\n     99 \"\"\"Generate LLM result from inputs.\"\"\"\r\n    100 prompts, stop = self.prep_prompts(input_list, run_manager=run_manager)\r\n--> 101 return self.llm.generate_prompt(\r\n    102     prompts,\r\n    103     stop,\r\n    104     callbacks=run_manager.get_child() if run_manager else None,\r\n    105     **self.llm_kwargs,\r\n    106 )\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:467](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:467), in BaseLLM.generate_prompt(self, prompts, stop, callbacks, **kwargs)\r\n    459 def generate_prompt(\r\n    460     self,\r\n    461     prompts: List[PromptValue],\r\n   (...)\r\n    464     **kwargs: Any,\r\n    465 ) -> LLMResult:\r\n    466     prompt_strings = [p.to_string() for p in prompts]\r\n--> 467     return self.generate(prompt_strings, stop=stop, callbacks=callbacks, **kwargs)\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:602](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:602), in BaseLLM.generate(self, prompts, stop, callbacks, tags, metadata, **kwargs)\r\n    593         raise ValueError(\r\n    594             \"Asked to cache, but no cache found at `langchain.cache`.\"\r\n    595         )\r\n    596     run_managers = [\r\n    597         callback_manager.on_llm_start(\r\n    598             dumpd(self), [prompt], invocation_params=params, options=options\r\n    599         )[0]\r\n    600         for callback_manager, prompt in zip(callback_managers, prompts)\r\n    601     ]\r\n--> 602     output = self._generate_helper(\r\n    603         prompts, stop, run_managers, bool(new_arg_supported), **kwargs\r\n    604     )\r\n    605     return output\r\n    606 if len(missing_prompts) > 0:\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:504](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:504), in BaseLLM._generate_helper(self, prompts, stop, run_managers, new_arg_supported, **kwargs)\r\n    502     for run_manager in run_managers:\r\n    503         run_manager.on_llm_error(e)\r\n--> 504     raise e\r\n    505 flattened_outputs = output.flatten()\r\n    506 for manager, flattened_output in zip(run_managers, flattened_outputs):\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:491](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:491), in BaseLLM._generate_helper(self, prompts, stop, run_managers, new_arg_supported, **kwargs)\r\n    481 def _generate_helper(\r\n    482     self,\r\n    483     prompts: List[str],\r\n   (...)\r\n    487     **kwargs: Any,\r\n    488 ) -> LLMResult:\r\n    489     try:\r\n    490         output = (\r\n--> 491             self._generate(\r\n    492                 prompts,\r\n    493                 stop=stop,\r\n    494                 # TODO: support multiple run managers\r\n    495                 run_manager=run_managers[0] if run_managers else None,\r\n    496                 **kwargs,\r\n    497             )\r\n    498             if new_arg_supported\r\n    499             else self._generate(prompts, stop=stop)\r\n    500         )\r\n    501     except (KeyboardInterrupt, Exception) as e:\r\n    502         for run_manager in run_managers:\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:985](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/llms/base.py:985), in LLM._generate(self, prompts, stop, run_manager, **kwargs)\r\n    979 for prompt in prompts:\r\n    980     text = (\r\n    981         self._call(prompt, stop=stop, run_manager=run_manager, **kwargs)\r\n    982         if new_arg_supported\r\n    983         else self._call(prompt, stop=stop, **kwargs)\r\n    984     )\r\n--> 985     generations.append([Generation(text=text)])\r\n    986 return LLMResult(generations=generations)\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/langchain/load/serializable.py:74](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/langchain/load/serializable.py:74), in Serializable.__init__(self, **kwargs)\r\n     73 def __init__(self, **kwargs: Any) -> None:\r\n---> 74     super().__init__(**kwargs)\r\n     75     self._lc_kwargs = kwargs\r\n\r\nFile [~/localGPT/venv/lib/python3.10/site-packages/pydantic/main.py:341](https://vscode-remote+ssh-002dremote-002b7b22686f73744e616d65223a224c4c4d227d.vscode-resource.vscode-cdn.net/home/waleedalfaris/localGPT/notebooks/~/localGPT/venv/lib/python3.10/site-packages/pydantic/main.py:341), in pydantic.main.BaseModel.__init__()\r\n\r\nValidationError: 1 validation error for Generation\r\ntext\r\n  str type expected (type=type_error.str)\r\n```\n\n### Who can help?\n\n@hwchase17\r\n@agola11\n\n### Information\n\n- [ ] The official example notebooks/scripts\n- [X] My own modified scripts\n\n### Related Components\n\n- [ ] LLMs/Chat Models\n- [ ] Embedding Models\n- [ ] Prompts / Prompt Templates / Prompt Selectors\n- [ ] Output Parsers\n- [ ] Document Loaders\n- [ ] Vector Stores / Retrievers\n- [ ] Memory\n- [ ] Agents / Agent Executors\n- [ ] Tools / Toolkits\n- [X] Chains\n- [ ] Callbacks/Tracing\n- [ ] Async\n\n### Reproduction\n\n```python\r\nfrom langchain.chains.summarize import load_summarize_chain\r\nfrom langchain.prompts import PromptTemplate\r\nfrom langchain.document_loaders import PDFMinerLoader\r\nfrom langchain.llms import LlamaCpp\r\n\r\nkwargs = {\r\n    \"model_path\": model_path,\r\n    \"n_ctx\": 4096,\r\n    \"max_tokens\": 4096,\r\n    \"seed\": 42,\r\n    \"n_gpu_layers\": -1,\r\n    \"verbose\": True,\r\n}\r\nllm = LlamaCpp(**kwargs)\r\n\r\nfile = 'test_file.pdf'\r\nloader = PDFMinerLoader(file)\r\ndocs = loader.load_and_split()\r\nchain = load_summarize_chain(llm, chain_type='map_reduce')\r\nsummary = chain.run(docs)\r\nprint(summary)\r\n```\n\n### Expected behavior\n\nThe chain should provide a summary of the Documents provided",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782727519",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12336#issuecomment-1782727519",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12336",
                "id": 1782727519,
                "node_id": "IC_kwDOIPDwls5qQkNf",
                "user": {
                    "login": "WaleedAlfaris",
                    "id": 92319577,
                    "node_id": "U_kgDOBYCvWQ",
                    "avatar_url": "https://avatars.githubusercontent.com/u/92319577?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/WaleedAlfaris",
                    "html_url": "https://github.com/WaleedAlfaris",
                    "followers_url": "https://api.github.com/users/WaleedAlfaris/followers",
                    "following_url": "https://api.github.com/users/WaleedAlfaris/following{/other_user}",
                    "gists_url": "https://api.github.com/users/WaleedAlfaris/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/WaleedAlfaris/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/WaleedAlfaris/subscriptions",
                    "organizations_url": "https://api.github.com/users/WaleedAlfaris/orgs",
                    "repos_url": "https://api.github.com/users/WaleedAlfaris/repos",
                    "events_url": "https://api.github.com/users/WaleedAlfaris/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/WaleedAlfaris/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:08:39Z",
                "updated_at": "2023-10-27T11:08:39Z",
                "author_association": "NONE",
                "body": "@dosu-bot I tried you suggestions and am still getting an error.\r\n\r\nWhen using`summary = chain.run({'documents': docs})` I get the error `ValueError: Missing some input keys: {'input_documents'}`. If I use `summary = chain.run({'input_documents': docs})` I get the same error as before `ValidationError: 1 validation error for Generation\r\ntext\r\n  str type expected (type=type_error.str)`",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782727519/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:08:39Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896579095",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 35613825,
            "login": "vercel[bot]",
            "display_login": "vercel",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vercel[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/35613825?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12419",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12419/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12419/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12419/events",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12419",
                "id": 1965289521,
                "node_id": "PR_kwDOIPDwls5d9d2r",
                "number": 12419,
                "title": "Mask API key for Anyscale chat model",
                "user": {
                    "login": "aidoskanapyanov",
                    "id": 65722512,
                    "node_id": "MDQ6VXNlcjY1NzIyNTEy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/65722512?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/aidoskanapyanov",
                    "html_url": "https://github.com/aidoskanapyanov",
                    "followers_url": "https://api.github.com/users/aidoskanapyanov/followers",
                    "following_url": "https://api.github.com/users/aidoskanapyanov/following{/other_user}",
                    "gists_url": "https://api.github.com/users/aidoskanapyanov/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/aidoskanapyanov/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/aidoskanapyanov/subscriptions",
                    "organizations_url": "https://api.github.com/users/aidoskanapyanov/orgs",
                    "repos_url": "https://api.github.com/users/aidoskanapyanov/repos",
                    "events_url": "https://api.github.com/users/aidoskanapyanov/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/aidoskanapyanov/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-27T11:06:12Z",
                "updated_at": "2023-10-27T11:06:16Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12419",
                    "html_url": "https://github.com/langchain-ai/langchain/pull/12419",
                    "diff_url": "https://github.com/langchain-ai/langchain/pull/12419.diff",
                    "patch_url": "https://github.com/langchain-ai/langchain/pull/12419.patch",
                    "merged_at": null
                },
                "body": "Description: Add masking of API Key for Anyscale chat model when printed.\r\nIssue: #12165 \r\nDependencies: None\r\nTag maintainer: @eyurtsev",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12419/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12419/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782724468",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12419#issuecomment-1782724468",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12419",
                "id": 1782724468,
                "node_id": "IC_kwDOIPDwls5qQjd0",
                "user": {
                    "login": "vercel[bot]",
                    "id": 35613825,
                    "node_id": "MDM6Qm90MzU2MTM4MjU=",
                    "avatar_url": "https://avatars.githubusercontent.com/in/8329?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/vercel%5Bbot%5D",
                    "html_url": "https://github.com/apps/vercel",
                    "followers_url": "https://api.github.com/users/vercel%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/vercel%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/vercel%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/vercel%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/vercel%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/vercel%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/vercel%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/vercel%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/vercel%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:06:16Z",
                "updated_at": "2023-10-27T11:06:16Z",
                "author_association": "NONE",
                "body": "[vc]: #inrmo0L9FKE2U7khmnNNzHMEjIBJqTc36vkAVpAHxt8=:eyJpc01vbm9yZXBvIjp0cnVlLCJ0eXBlIjoiZ2l0aHViIiwicHJvamVjdHMiOlt7Im5hbWUiOiJsYW5nY2hhaW4iLCJyb290RGlyZWN0b3J5IjoiZG9jcyIsImluc3BlY3RvclVybCI6Imh0dHBzOi8vdmVyY2VsLmNvbS9sYW5nY2hhaW4vbGFuZ2NoYWluL0JEem5mVmUxMkNqRnh4ZXFwTVlVc3RpQ0V3TlYiLCJwcmV2aWV3VXJsIjoibGFuZ2NoYWluLWdpdC1mb3JrLWFpZG9za2FuYXB5YW5vdi1pMTIxNjUtbWFzay1hZTY0YjItbGFuZ2NoYWluLnZlcmNlbC5hcHAiLCJuZXh0Q29tbWl0U3RhdHVzIjoiUEVORElORyIsImxpdmVGZWVkYmFjayI6eyJyZXNvbHZlZCI6MCwidW5yZXNvbHZlZCI6MCwidG90YWwiOjAsImxpbmsiOiJsYW5nY2hhaW4tZ2l0LWZvcmstYWlkb3NrYW5hcHlhbm92LWkxMjE2NS1tYXNrLWFlNjRiMi1sYW5nY2hhaW4udmVyY2VsLmFwcCJ9fV19\n**The latest updates on your projects**. Learn more about [Vercel for Git \u2197\ufe0e](https://vercel.link/github-learn-more)\n\n| Name | Status | Preview | Comments | Updated (UTC) |\n| :--- | :----- | :------ | :------- | :------ |\n| **langchain** | \ud83d\udd04 Building ([Inspect](https://vercel.com/langchain/langchain/BDznfVe12CjFxxeqpMYUstiCEwNV)) | [Visit Preview](https://vercel.live/open-feedback/langchain-git-fork-aidoskanapyanov-i12165-mask-ae64b2-langchain.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | \ud83d\udcac [**Add feedback**](https://vercel.live/open-feedback/langchain-git-fork-aidoskanapyanov-i12165-mask-ae64b2-langchain.vercel.app?via=pr-comment-feedback-link) | Oct 27, 2023 11:06am |\n\n",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782724468/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:06:17Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896577792",
        "type": "PullRequestEvent",
        "actor": {
            "id": 65722512,
            "login": "aidoskanapyanov",
            "display_login": "aidoskanapyanov",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aidoskanapyanov",
            "avatar_url": "https://avatars.githubusercontent.com/u/65722512?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "opened",
            "number": 12419,
            "pull_request": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12419",
                "id": 1576394155,
                "node_id": "PR_kwDOIPDwls5d9d2r",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12419",
                "diff_url": "https://github.com/langchain-ai/langchain/pull/12419.diff",
                "patch_url": "https://github.com/langchain-ai/langchain/pull/12419.patch",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12419",
                "number": 12419,
                "state": "open",
                "locked": false,
                "title": "Mask API key for Anyscale chat model",
                "user": {
                    "login": "aidoskanapyanov",
                    "id": 65722512,
                    "node_id": "MDQ6VXNlcjY1NzIyNTEy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/65722512?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/aidoskanapyanov",
                    "html_url": "https://github.com/aidoskanapyanov",
                    "followers_url": "https://api.github.com/users/aidoskanapyanov/followers",
                    "following_url": "https://api.github.com/users/aidoskanapyanov/following{/other_user}",
                    "gists_url": "https://api.github.com/users/aidoskanapyanov/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/aidoskanapyanov/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/aidoskanapyanov/subscriptions",
                    "organizations_url": "https://api.github.com/users/aidoskanapyanov/orgs",
                    "repos_url": "https://api.github.com/users/aidoskanapyanov/repos",
                    "events_url": "https://api.github.com/users/aidoskanapyanov/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/aidoskanapyanov/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Description: Add masking of API Key for Anyscale chat model when printed.\r\nIssue: #12165 \r\nDependencies: None\r\nTag maintainer: @eyurtsev",
                "created_at": "2023-10-27T11:06:12Z",
                "updated_at": "2023-10-27T11:06:12Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": null,
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12419/commits",
                "review_comments_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12419/comments",
                "review_comment_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12419/comments",
                "statuses_url": "https://api.github.com/repos/langchain-ai/langchain/statuses/8089afb0e45c3817c3c11e9e5593383671c4aef2",
                "head": {
                    "label": "aidoskanapyanov:i12165-mask-anyscale-chat-model-api-key",
                    "ref": "i12165-mask-anyscale-chat-model-api-key",
                    "sha": "8089afb0e45c3817c3c11e9e5593383671c4aef2",
                    "user": {
                        "login": "aidoskanapyanov",
                        "id": 65722512,
                        "node_id": "MDQ6VXNlcjY1NzIyNTEy",
                        "avatar_url": "https://avatars.githubusercontent.com/u/65722512?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/aidoskanapyanov",
                        "html_url": "https://github.com/aidoskanapyanov",
                        "followers_url": "https://api.github.com/users/aidoskanapyanov/followers",
                        "following_url": "https://api.github.com/users/aidoskanapyanov/following{/other_user}",
                        "gists_url": "https://api.github.com/users/aidoskanapyanov/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/aidoskanapyanov/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/aidoskanapyanov/subscriptions",
                        "organizations_url": "https://api.github.com/users/aidoskanapyanov/orgs",
                        "repos_url": "https://api.github.com/users/aidoskanapyanov/repos",
                        "events_url": "https://api.github.com/users/aidoskanapyanov/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/aidoskanapyanov/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 710198501,
                        "node_id": "R_kgDOKlTE5Q",
                        "name": "langchain",
                        "full_name": "aidoskanapyanov/langchain",
                        "private": false,
                        "owner": {
                            "login": "aidoskanapyanov",
                            "id": 65722512,
                            "node_id": "MDQ6VXNlcjY1NzIyNTEy",
                            "avatar_url": "https://avatars.githubusercontent.com/u/65722512?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/aidoskanapyanov",
                            "html_url": "https://github.com/aidoskanapyanov",
                            "followers_url": "https://api.github.com/users/aidoskanapyanov/followers",
                            "following_url": "https://api.github.com/users/aidoskanapyanov/following{/other_user}",
                            "gists_url": "https://api.github.com/users/aidoskanapyanov/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/aidoskanapyanov/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/aidoskanapyanov/subscriptions",
                            "organizations_url": "https://api.github.com/users/aidoskanapyanov/orgs",
                            "repos_url": "https://api.github.com/users/aidoskanapyanov/repos",
                            "events_url": "https://api.github.com/users/aidoskanapyanov/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/aidoskanapyanov/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/aidoskanapyanov/langchain",
                        "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                        "fork": true,
                        "url": "https://api.github.com/repos/aidoskanapyanov/langchain",
                        "forks_url": "https://api.github.com/repos/aidoskanapyanov/langchain/forks",
                        "keys_url": "https://api.github.com/repos/aidoskanapyanov/langchain/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/aidoskanapyanov/langchain/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/aidoskanapyanov/langchain/teams",
                        "hooks_url": "https://api.github.com/repos/aidoskanapyanov/langchain/hooks",
                        "issue_events_url": "https://api.github.com/repos/aidoskanapyanov/langchain/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/aidoskanapyanov/langchain/events",
                        "assignees_url": "https://api.github.com/repos/aidoskanapyanov/langchain/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/aidoskanapyanov/langchain/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/aidoskanapyanov/langchain/tags",
                        "blobs_url": "https://api.github.com/repos/aidoskanapyanov/langchain/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/aidoskanapyanov/langchain/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/aidoskanapyanov/langchain/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/aidoskanapyanov/langchain/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/aidoskanapyanov/langchain/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/aidoskanapyanov/langchain/languages",
                        "stargazers_url": "https://api.github.com/repos/aidoskanapyanov/langchain/stargazers",
                        "contributors_url": "https://api.github.com/repos/aidoskanapyanov/langchain/contributors",
                        "subscribers_url": "https://api.github.com/repos/aidoskanapyanov/langchain/subscribers",
                        "subscription_url": "https://api.github.com/repos/aidoskanapyanov/langchain/subscription",
                        "commits_url": "https://api.github.com/repos/aidoskanapyanov/langchain/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/aidoskanapyanov/langchain/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/aidoskanapyanov/langchain/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/aidoskanapyanov/langchain/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/aidoskanapyanov/langchain/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/aidoskanapyanov/langchain/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/aidoskanapyanov/langchain/merges",
                        "archive_url": "https://api.github.com/repos/aidoskanapyanov/langchain/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/aidoskanapyanov/langchain/downloads",
                        "issues_url": "https://api.github.com/repos/aidoskanapyanov/langchain/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/aidoskanapyanov/langchain/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/aidoskanapyanov/langchain/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/aidoskanapyanov/langchain/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/aidoskanapyanov/langchain/labels{/name}",
                        "releases_url": "https://api.github.com/repos/aidoskanapyanov/langchain/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/aidoskanapyanov/langchain/deployments",
                        "created_at": "2023-10-26T08:09:21Z",
                        "updated_at": "2023-10-26T08:09:21Z",
                        "pushed_at": "2023-10-27T11:04:56Z",
                        "git_url": "git://github.com/aidoskanapyanov/langchain.git",
                        "ssh_url": "git@github.com:aidoskanapyanov/langchain.git",
                        "clone_url": "https://github.com/aidoskanapyanov/langchain.git",
                        "svn_url": "https://github.com/aidoskanapyanov/langchain",
                        "homepage": "https://python.langchain.com",
                        "size": 80822,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": null,
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "langchain-ai:master",
                    "ref": "master",
                    "sha": "d6acb3ed7e8338e42cbe25df38072b2bd15e0092",
                    "user": {
                        "login": "langchain-ai",
                        "id": 126733545,
                        "node_id": "O_kgDOB43M6Q",
                        "avatar_url": "https://avatars.githubusercontent.com/u/126733545?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/langchain-ai",
                        "html_url": "https://github.com/langchain-ai",
                        "followers_url": "https://api.github.com/users/langchain-ai/followers",
                        "following_url": "https://api.github.com/users/langchain-ai/following{/other_user}",
                        "gists_url": "https://api.github.com/users/langchain-ai/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/langchain-ai/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/langchain-ai/subscriptions",
                        "organizations_url": "https://api.github.com/users/langchain-ai/orgs",
                        "repos_url": "https://api.github.com/users/langchain-ai/repos",
                        "events_url": "https://api.github.com/users/langchain-ai/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/langchain-ai/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 552661142,
                        "node_id": "R_kgDOIPDwlg",
                        "name": "langchain",
                        "full_name": "langchain-ai/langchain",
                        "private": false,
                        "owner": {
                            "login": "langchain-ai",
                            "id": 126733545,
                            "node_id": "O_kgDOB43M6Q",
                            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/langchain-ai",
                            "html_url": "https://github.com/langchain-ai",
                            "followers_url": "https://api.github.com/users/langchain-ai/followers",
                            "following_url": "https://api.github.com/users/langchain-ai/following{/other_user}",
                            "gists_url": "https://api.github.com/users/langchain-ai/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/langchain-ai/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/langchain-ai/subscriptions",
                            "organizations_url": "https://api.github.com/users/langchain-ai/orgs",
                            "repos_url": "https://api.github.com/users/langchain-ai/repos",
                            "events_url": "https://api.github.com/users/langchain-ai/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/langchain-ai/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/langchain-ai/langchain",
                        "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                        "fork": false,
                        "url": "https://api.github.com/repos/langchain-ai/langchain",
                        "forks_url": "https://api.github.com/repos/langchain-ai/langchain/forks",
                        "keys_url": "https://api.github.com/repos/langchain-ai/langchain/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/langchain-ai/langchain/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/langchain-ai/langchain/teams",
                        "hooks_url": "https://api.github.com/repos/langchain-ai/langchain/hooks",
                        "issue_events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/langchain-ai/langchain/events",
                        "assignees_url": "https://api.github.com/repos/langchain-ai/langchain/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/langchain-ai/langchain/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/langchain-ai/langchain/tags",
                        "blobs_url": "https://api.github.com/repos/langchain-ai/langchain/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/langchain-ai/langchain/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/langchain-ai/langchain/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/langchain-ai/langchain/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/langchain-ai/langchain/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/langchain-ai/langchain/languages",
                        "stargazers_url": "https://api.github.com/repos/langchain-ai/langchain/stargazers",
                        "contributors_url": "https://api.github.com/repos/langchain-ai/langchain/contributors",
                        "subscribers_url": "https://api.github.com/repos/langchain-ai/langchain/subscribers",
                        "subscription_url": "https://api.github.com/repos/langchain-ai/langchain/subscription",
                        "commits_url": "https://api.github.com/repos/langchain-ai/langchain/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/langchain-ai/langchain/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/langchain-ai/langchain/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/langchain-ai/langchain/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/langchain-ai/langchain/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/langchain-ai/langchain/merges",
                        "archive_url": "https://api.github.com/repos/langchain-ai/langchain/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/langchain-ai/langchain/downloads",
                        "issues_url": "https://api.github.com/repos/langchain-ai/langchain/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/langchain-ai/langchain/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/langchain-ai/langchain/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/langchain-ai/langchain/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/langchain-ai/langchain/labels{/name}",
                        "releases_url": "https://api.github.com/repos/langchain-ai/langchain/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/langchain-ai/langchain/deployments",
                        "created_at": "2022-10-17T02:58:36Z",
                        "updated_at": "2023-10-27T11:04:08Z",
                        "pushed_at": "2023-10-27T11:06:12Z",
                        "git_url": "git://github.com/langchain-ai/langchain.git",
                        "ssh_url": "git@github.com:langchain-ai/langchain.git",
                        "clone_url": "https://github.com/langchain-ai/langchain.git",
                        "svn_url": "https://github.com/langchain-ai/langchain",
                        "homepage": "https://python.langchain.com",
                        "size": 93905,
                        "stargazers_count": 65942,
                        "watchers_count": 65942,
                        "language": "Python",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 9447,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 2051,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 9447,
                        "open_issues": 2051,
                        "watchers": 65942,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12419"
                    },
                    "html": {
                        "href": "https://github.com/langchain-ai/langchain/pull/12419"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/issues/12419"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/issues/12419/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12419/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12419/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/statuses/8089afb0e45c3817c3c11e9e5593383671c4aef2"
                    }
                },
                "author_association": "NONE",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": true,
                "commits": 1,
                "additions": 77,
                "deletions": 13,
                "changed_files": 2
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:06:13Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896526256",
        "type": "WatchEvent",
        "actor": {
            "id": 5621550,
            "login": "hiunlink",
            "display_login": "hiunlink",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hiunlink",
            "avatar_url": "https://avatars.githubusercontent.com/u/5621550?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T11:04:08Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896427314",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 131922026,
            "login": "dosubot[bot]",
            "display_login": "dosubot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dosubot[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/131922026?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/events",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12417",
                "id": 1965249491,
                "node_id": "I_kwDOIPDwls51I1PT",
                "number": 12417,
                "title": "Error happened in PromptTemplate + PydanticOutputParser",
                "user": {
                    "login": "Undertone0809",
                    "id": 72488598,
                    "node_id": "MDQ6VXNlcjcyNDg4NTk4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/72488598?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Undertone0809",
                    "html_url": "https://github.com/Undertone0809",
                    "followers_url": "https://api.github.com/users/Undertone0809/followers",
                    "following_url": "https://api.github.com/users/Undertone0809/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Undertone0809/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Undertone0809/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Undertone0809/subscriptions",
                    "organizations_url": "https://api.github.com/users/Undertone0809/orgs",
                    "repos_url": "https://api.github.com/users/Undertone0809/repos",
                    "events_url": "https://api.github.com/users/Undertone0809/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Undertone0809/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 5680700839,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidpw",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:bug",
                        "name": "auto:bug",
                        "color": "E99695",
                        "default": false,
                        "description": "Related to a bug, vulnerability, unexpected error with an existing feature"
                    },
                    {
                        "id": 5820539098,
                        "node_id": "LA_kwDOIPDwls8AAAABWu5g2g",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20models",
                        "name": "area: models",
                        "color": "bfdadc",
                        "default": false,
                        "description": "Related to LLMs or chat model modules"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2023-10-27T10:40:28Z",
                "updated_at": "2023-10-27T11:00:06Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### System Info\r\n\r\nlangchain v0.0.324\r\npython 3.10\r\nwindow10 amd64\r\n\r\n### Who can help?\r\n\r\n@hwchase17 @agola11 \r\n\r\n### Information\r\n\r\n- [ ] The official example notebooks/scripts\r\n- [X] My own modified scripts\r\n\r\n### Related Components\r\n\r\n- [ ] LLMs/Chat Models\r\n- [ ] Embedding Models\r\n- [X] Prompts / Prompt Templates / Prompt Selectors\r\n- [X] Output Parsers\r\n- [ ] Document Loaders\r\n- [ ] Vector Stores / Retrievers\r\n- [ ] Memory\r\n- [ ] Agents / Agent Executors\r\n- [ ] Tools / Toolkits\r\n- [ ] Chains\r\n- [ ] Callbacks/Tracing\r\n- [ ] Async\r\n\r\n### Reproduction\r\n\r\nRun the following code, then you will see the error.\r\n\r\n```python\r\nimport os\r\nimport openai\r\nfrom typing import Dict, Any\r\n\r\nfrom dotenv import load_dotenv\r\nfrom langchain.output_parsers import PydanticOutputParser\r\nfrom langchain.prompts import PromptTemplate\r\nfrom langchain.pydantic_v1 import BaseModel, Field\r\n\r\nload_dotenv()\r\nopenai.api_key = os.getenv(\"OPENAI_API_KEY\")\r\n\r\n\r\nclass Task(BaseModel):\r\n    id: int = Field(description=\"Autoincrement task id\")\r\n    name: str = Field(description=\"task name\")\r\n    parameters: Dict[str, Any] = Field(description=\"task parameters\")\r\n    reason: str = Field(description=\"Reason for task execution\")\r\n\r\n\r\nclass CommandResponse(BaseModel):\r\n    task: Task = Field(description=\"control task\")\r\n\r\n\r\ndef main():\r\n    output_parser = PydanticOutputParser(pydantic_object=CommandResponse)\r\n    instruction = output_parser.get_format_instructions()\r\n\r\n    _prompt = \"\"\"\r\n    ## User Demand\r\n    {user_input}\r\n\r\n    ## Pending Control Task Queue\r\n    {task_queue}\r\n    \"\"\"\r\n\r\n    prompt = PromptTemplate(\r\n        template=f\"{_prompt}\\n{instruction}\",\r\n        input_variables=[\"user_input\", \"task_queue\"],\r\n    )\r\n\r\n    _input = prompt.format_prompt(user_input=\"hello\", task_queue=\"aaa\")\r\n    print(_input)\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n\r\n```\r\n\r\nerror log: \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:\\Programming\\Python\\Project\\promptulate\\private\\demo3.py\", line 67, in <module>\r\n    main()\r\n  File \"D:\\Programming\\Python\\Project\\promptulate\\private\\demo3.py\", line 48, in main\r\n    _input = prompt.format_prompt(user_input=\"hello\", task_queue=\"aaa\")\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\site-packages\\langchain\\prompts\\base.py\", line 159, in format_prompt\r\n    return StringPromptValue(text=self.format(**kwargs))\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\site-packages\\langchain\\prompts\\prompt.py\", line 119, in format\r\n    return DEFAULT_FORMATTER_MAPPING[self.template_format](self.template, **kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 161, in format\r\n    return self.vformat(format_string, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\site-packages\\langchain\\utils\\formatting.py\", line 29, in vformat\r\n    return super().vformat(format_string, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 165, in vformat\r\n    result, _ = self._vformat(format_string, args, kwargs, used_args, 2)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 205, in _vformat\r\n    obj, arg_used = self.get_field(field_name, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 270, in get_field\r\n    obj = self.get_value(first, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 227, in get_value\r\n    return kwargs[key]\r\nKeyError: '\"properties\"'\r\n```\r\n\r\nThis error occurs when there are multiple {} in the prompt, and the excess {} is introduced by PydanticOutputParser.\r\n\r\nThe instruction of PydanticOutputParser is as follows:\r\n\r\n```python\r\n    \"\"\"\r\n    The output should be formatted as a JSON instance that conforms to the JSON schema below.\r\n\r\n    As an example, for the schema {\"properties\": {\"foo\": {\"description\": \"a list of strings\", \"type\": \"array\", \"items\": {\"type\": \"string\"}}}, \"required\": [\"foo\"]}\r\n    the object {\"foo\": [\"bar\", \"baz\"]} is a well-formatted instance of the schema. The object {\"properties\": {\"foo\": [\"bar\", \"baz\"]}} is not well-formatted.\r\n\r\n    Here is the output schema:\r\n    ```\r\n    {\"properties\": {\"task\": {\"description\": \"control task\", \"allOf\": [{\"$ref\": \"#/definitions/Task\"}]}}, \"required\": [\"task\"], \"definitions\": {\"Task\": {\"title\": \"Task\", \"type\": \"object\", \"properties\": {\"id\": {\"title\": \"Id\", \"description\": \"Autoincrement task id\", \"type\": \"integer\"}, \"name\": {\"title\": \"Name\", \"description\": \"task name\", \"type\": \"string\"}, \"parameters\": {\"title\": \"Parameters\", \"description\": \"task parameters\", \"type\": \"object\"}, \"reason\": {\"title\": \"Reason\", \"description\": \"Reason for task execution\", \"type\": \"string\"}}, \"required\": [\"id\", \"name\", \"parameters\", \"reason\"]}}}\r\n    ```\r\n    \"\"\"\r\n```\r\n\r\n### Expected behavior\r\n\r\nNo error is expected.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782716977",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12417#issuecomment-1782716977",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417",
                "id": 1782716977,
                "node_id": "IC_kwDOIPDwls5qQhox",
                "user": {
                    "login": "dosubot[bot]",
                    "id": 131922026,
                    "node_id": "BOT_kgDOB9z4ag",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7771049?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dosubot%5Bbot%5D",
                    "html_url": "https://github.com/apps/dosubot",
                    "followers_url": "https://api.github.com/users/dosubot%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/dosubot%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dosubot%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dosubot%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dosubot%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/dosubot%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/dosubot%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/dosubot%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dosubot%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:00:06Z",
                "updated_at": "2023-10-27T11:00:06Z",
                "author_association": "NONE",
                "body": "_\ud83e\udd16_\n<!-- Answer -->\n@baskaryan, I could use your expertise on this one, it seems to be a bit tricky.\n\n---\nThis response is meant to be useful and save you time. It is **not meant to be a precise solution**, but rather a starting point for your own research.\n\nHelp me be more useful! Please leave a \ud83d\udc4d if this is helpful and \ud83d\udc4e if it is irrelevant.\n\nIf you want to continue the conversation, start your reply with @dosu-bot.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782716977/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:00:06Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896383478",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 44113430,
            "login": "mspronesti",
            "display_login": "mspronesti",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mspronesti",
            "avatar_url": "https://avatars.githubusercontent.com/u/44113430?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701517089,
                "node_id": "PRR_kwDOIPDwls5laxch",
                "user": {
                    "login": "mspronesti",
                    "id": 44113430,
                    "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mspronesti",
                    "html_url": "https://github.com/mspronesti",
                    "followers_url": "https://api.github.com/users/mspronesti/followers",
                    "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                    "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                    "repos_url": "https://api.github.com/users/mspronesti/repos",
                    "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "@baskaryan done!",
                "commit_id": "40918bec14fcf3222af85b0327c66627592a221a",
                "submitted_at": "2023-10-27T10:58:16Z",
                "state": "commented",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12383#pullrequestreview-1701517089",
                "pull_request_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/langchain-ai/langchain/pull/12383#pullrequestreview-1701517089"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383",
                "id": 1575676616,
                "node_id": "PR_kwDOIPDwls5d6urI",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12383",
                "diff_url": "https://github.com/langchain-ai/langchain/pull/12383.diff",
                "patch_url": "https://github.com/langchain-ai/langchain/pull/12383.patch",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12383",
                "number": 12383,
                "state": "open",
                "locked": false,
                "title": "fix(openai-callback): completion count logic",
                "user": {
                    "login": "mspronesti",
                    "id": 44113430,
                    "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mspronesti",
                    "html_url": "https://github.com/mspronesti",
                    "followers_url": "https://api.github.com/users/mspronesti/followers",
                    "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                    "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                    "repos_url": "https://api.github.com/users/mspronesti/repos",
                    "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "The changes introduced in #12267 and #12190 broke the cost computation of the `completion` tokens for fine-tuned models because of the early return. This PR aims at fixing this.\r\n@baskaryan.\r\n \r\n",
                "created_at": "2023-10-26T22:42:24Z",
                "updated_at": "2023-10-27T10:58:16Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "b88e41ff48bf581000352e09107df10a38070df8",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 5680700839,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidpw",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:bug",
                        "name": "auto:bug",
                        "color": "E99695",
                        "default": false,
                        "description": "Related to a bug, vulnerability, unexpected error with an existing feature"
                    },
                    {
                        "id": 5820539098,
                        "node_id": "LA_kwDOIPDwls8AAAABWu5g2g",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20models",
                        "name": "area: models",
                        "color": "bfdadc",
                        "default": false,
                        "description": "Related to LLMs or chat model modules"
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/commits",
                "review_comments_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/comments",
                "review_comment_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12383/comments",
                "statuses_url": "https://api.github.com/repos/langchain-ai/langchain/statuses/40918bec14fcf3222af85b0327c66627592a221a",
                "head": {
                    "label": "mspronesti:fix/openai-callback",
                    "ref": "fix/openai-callback",
                    "sha": "40918bec14fcf3222af85b0327c66627592a221a",
                    "user": {
                        "login": "mspronesti",
                        "id": 44113430,
                        "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/mspronesti",
                        "html_url": "https://github.com/mspronesti",
                        "followers_url": "https://api.github.com/users/mspronesti/followers",
                        "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                        "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                        "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                        "repos_url": "https://api.github.com/users/mspronesti/repos",
                        "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 675137592,
                        "node_id": "R_kgDOKD3IOA",
                        "name": "langchain",
                        "full_name": "mspronesti/langchain",
                        "private": false,
                        "owner": {
                            "login": "mspronesti",
                            "id": 44113430,
                            "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                            "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/mspronesti",
                            "html_url": "https://github.com/mspronesti",
                            "followers_url": "https://api.github.com/users/mspronesti/followers",
                            "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                            "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                            "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                            "repos_url": "https://api.github.com/users/mspronesti/repos",
                            "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/mspronesti/langchain",
                        "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                        "fork": true,
                        "url": "https://api.github.com/repos/mspronesti/langchain",
                        "forks_url": "https://api.github.com/repos/mspronesti/langchain/forks",
                        "keys_url": "https://api.github.com/repos/mspronesti/langchain/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/mspronesti/langchain/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/mspronesti/langchain/teams",
                        "hooks_url": "https://api.github.com/repos/mspronesti/langchain/hooks",
                        "issue_events_url": "https://api.github.com/repos/mspronesti/langchain/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/mspronesti/langchain/events",
                        "assignees_url": "https://api.github.com/repos/mspronesti/langchain/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/mspronesti/langchain/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/mspronesti/langchain/tags",
                        "blobs_url": "https://api.github.com/repos/mspronesti/langchain/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/mspronesti/langchain/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/mspronesti/langchain/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/mspronesti/langchain/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/mspronesti/langchain/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/mspronesti/langchain/languages",
                        "stargazers_url": "https://api.github.com/repos/mspronesti/langchain/stargazers",
                        "contributors_url": "https://api.github.com/repos/mspronesti/langchain/contributors",
                        "subscribers_url": "https://api.github.com/repos/mspronesti/langchain/subscribers",
                        "subscription_url": "https://api.github.com/repos/mspronesti/langchain/subscription",
                        "commits_url": "https://api.github.com/repos/mspronesti/langchain/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/mspronesti/langchain/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/mspronesti/langchain/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/mspronesti/langchain/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/mspronesti/langchain/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/mspronesti/langchain/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/mspronesti/langchain/merges",
                        "archive_url": "https://api.github.com/repos/mspronesti/langchain/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/mspronesti/langchain/downloads",
                        "issues_url": "https://api.github.com/repos/mspronesti/langchain/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/mspronesti/langchain/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/mspronesti/langchain/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/mspronesti/langchain/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/mspronesti/langchain/labels{/name}",
                        "releases_url": "https://api.github.com/repos/mspronesti/langchain/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/mspronesti/langchain/deployments",
                        "created_at": "2023-08-05T22:58:56Z",
                        "updated_at": "2023-08-08T21:23:40Z",
                        "pushed_at": "2023-10-27T10:50:08Z",
                        "git_url": "git://github.com/mspronesti/langchain.git",
                        "ssh_url": "git@github.com:mspronesti/langchain.git",
                        "clone_url": "https://github.com/mspronesti/langchain.git",
                        "svn_url": "https://github.com/mspronesti/langchain",
                        "homepage": "https://python.langchain.com",
                        "size": 80944,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Python",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "langchain-ai:master",
                    "ref": "master",
                    "sha": "7cadf00570300a030913b6e6676294d0011ea9eb",
                    "user": {
                        "login": "langchain-ai",
                        "id": 126733545,
                        "node_id": "O_kgDOB43M6Q",
                        "avatar_url": "https://avatars.githubusercontent.com/u/126733545?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/langchain-ai",
                        "html_url": "https://github.com/langchain-ai",
                        "followers_url": "https://api.github.com/users/langchain-ai/followers",
                        "following_url": "https://api.github.com/users/langchain-ai/following{/other_user}",
                        "gists_url": "https://api.github.com/users/langchain-ai/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/langchain-ai/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/langchain-ai/subscriptions",
                        "organizations_url": "https://api.github.com/users/langchain-ai/orgs",
                        "repos_url": "https://api.github.com/users/langchain-ai/repos",
                        "events_url": "https://api.github.com/users/langchain-ai/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/langchain-ai/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 552661142,
                        "node_id": "R_kgDOIPDwlg",
                        "name": "langchain",
                        "full_name": "langchain-ai/langchain",
                        "private": false,
                        "owner": {
                            "login": "langchain-ai",
                            "id": 126733545,
                            "node_id": "O_kgDOB43M6Q",
                            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/langchain-ai",
                            "html_url": "https://github.com/langchain-ai",
                            "followers_url": "https://api.github.com/users/langchain-ai/followers",
                            "following_url": "https://api.github.com/users/langchain-ai/following{/other_user}",
                            "gists_url": "https://api.github.com/users/langchain-ai/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/langchain-ai/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/langchain-ai/subscriptions",
                            "organizations_url": "https://api.github.com/users/langchain-ai/orgs",
                            "repos_url": "https://api.github.com/users/langchain-ai/repos",
                            "events_url": "https://api.github.com/users/langchain-ai/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/langchain-ai/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/langchain-ai/langchain",
                        "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                        "fork": false,
                        "url": "https://api.github.com/repos/langchain-ai/langchain",
                        "forks_url": "https://api.github.com/repos/langchain-ai/langchain/forks",
                        "keys_url": "https://api.github.com/repos/langchain-ai/langchain/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/langchain-ai/langchain/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/langchain-ai/langchain/teams",
                        "hooks_url": "https://api.github.com/repos/langchain-ai/langchain/hooks",
                        "issue_events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/langchain-ai/langchain/events",
                        "assignees_url": "https://api.github.com/repos/langchain-ai/langchain/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/langchain-ai/langchain/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/langchain-ai/langchain/tags",
                        "blobs_url": "https://api.github.com/repos/langchain-ai/langchain/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/langchain-ai/langchain/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/langchain-ai/langchain/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/langchain-ai/langchain/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/langchain-ai/langchain/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/langchain-ai/langchain/languages",
                        "stargazers_url": "https://api.github.com/repos/langchain-ai/langchain/stargazers",
                        "contributors_url": "https://api.github.com/repos/langchain-ai/langchain/contributors",
                        "subscribers_url": "https://api.github.com/repos/langchain-ai/langchain/subscribers",
                        "subscription_url": "https://api.github.com/repos/langchain-ai/langchain/subscription",
                        "commits_url": "https://api.github.com/repos/langchain-ai/langchain/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/langchain-ai/langchain/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/langchain-ai/langchain/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/langchain-ai/langchain/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/langchain-ai/langchain/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/langchain-ai/langchain/merges",
                        "archive_url": "https://api.github.com/repos/langchain-ai/langchain/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/langchain-ai/langchain/downloads",
                        "issues_url": "https://api.github.com/repos/langchain-ai/langchain/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/langchain-ai/langchain/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/langchain-ai/langchain/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/langchain-ai/langchain/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/langchain-ai/langchain/labels{/name}",
                        "releases_url": "https://api.github.com/repos/langchain-ai/langchain/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/langchain-ai/langchain/deployments",
                        "created_at": "2022-10-17T02:58:36Z",
                        "updated_at": "2023-10-27T10:58:11Z",
                        "pushed_at": "2023-10-27T10:50:13Z",
                        "git_url": "git://github.com/langchain-ai/langchain.git",
                        "ssh_url": "git@github.com:langchain-ai/langchain.git",
                        "clone_url": "https://github.com/langchain-ai/langchain.git",
                        "svn_url": "https://github.com/langchain-ai/langchain",
                        "homepage": "https://python.langchain.com",
                        "size": 93905,
                        "stargazers_count": 65941,
                        "watchers_count": 65941,
                        "language": "Python",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 9447,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 2050,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 9447,
                        "open_issues": 2050,
                        "watchers": 65941,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383"
                    },
                    "html": {
                        "href": "https://github.com/langchain-ai/langchain/pull/12383"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/issues/12383"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/issues/12383/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/statuses/40918bec14fcf3222af85b0327c66627592a221a"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:58:17Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896380937",
        "type": "WatchEvent",
        "actor": {
            "id": 18274655,
            "login": "sejkimm",
            "display_login": "sejkimm",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sejkimm",
            "avatar_url": "https://avatars.githubusercontent.com/u/18274655?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T10:58:11Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896364037",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 72488598,
            "login": "Undertone0809",
            "display_login": "Undertone0809",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Undertone0809",
            "avatar_url": "https://avatars.githubusercontent.com/u/72488598?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/events",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12417",
                "id": 1965249491,
                "node_id": "I_kwDOIPDwls51I1PT",
                "number": 12417,
                "title": "Error happened in PromptTemplate + PydanticOutputParser",
                "user": {
                    "login": "Undertone0809",
                    "id": 72488598,
                    "node_id": "MDQ6VXNlcjcyNDg4NTk4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/72488598?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Undertone0809",
                    "html_url": "https://github.com/Undertone0809",
                    "followers_url": "https://api.github.com/users/Undertone0809/followers",
                    "following_url": "https://api.github.com/users/Undertone0809/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Undertone0809/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Undertone0809/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Undertone0809/subscriptions",
                    "organizations_url": "https://api.github.com/users/Undertone0809/orgs",
                    "repos_url": "https://api.github.com/users/Undertone0809/repos",
                    "events_url": "https://api.github.com/users/Undertone0809/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Undertone0809/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 5680700839,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidpw",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:bug",
                        "name": "auto:bug",
                        "color": "E99695",
                        "default": false,
                        "description": "Related to a bug, vulnerability, unexpected error with an existing feature"
                    },
                    {
                        "id": 5820539098,
                        "node_id": "LA_kwDOIPDwls8AAAABWu5g2g",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20models",
                        "name": "area: models",
                        "color": "bfdadc",
                        "default": false,
                        "description": "Related to LLMs or chat model modules"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2023-10-27T10:40:28Z",
                "updated_at": "2023-10-27T10:57:28Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### System Info\r\n\r\nlangchain v0.0.324\r\npython 3.10\r\nwindow10 amd64\r\n\r\n### Who can help?\r\n\r\n@hwchase17 @agola11 \r\n\r\n### Information\r\n\r\n- [ ] The official example notebooks/scripts\r\n- [X] My own modified scripts\r\n\r\n### Related Components\r\n\r\n- [ ] LLMs/Chat Models\r\n- [ ] Embedding Models\r\n- [X] Prompts / Prompt Templates / Prompt Selectors\r\n- [X] Output Parsers\r\n- [ ] Document Loaders\r\n- [ ] Vector Stores / Retrievers\r\n- [ ] Memory\r\n- [ ] Agents / Agent Executors\r\n- [ ] Tools / Toolkits\r\n- [ ] Chains\r\n- [ ] Callbacks/Tracing\r\n- [ ] Async\r\n\r\n### Reproduction\r\n\r\nRun the following code, then you will see the error.\r\n\r\n```python\r\nimport os\r\nimport openai\r\nfrom typing import Dict, Any\r\n\r\nfrom dotenv import load_dotenv\r\nfrom langchain.output_parsers import PydanticOutputParser\r\nfrom langchain.prompts import PromptTemplate\r\nfrom langchain.pydantic_v1 import BaseModel, Field\r\n\r\nload_dotenv()\r\nopenai.api_key = os.getenv(\"OPENAI_API_KEY\")\r\n\r\n\r\nclass Task(BaseModel):\r\n    id: int = Field(description=\"Autoincrement task id\")\r\n    name: str = Field(description=\"task name\")\r\n    parameters: Dict[str, Any] = Field(description=\"task parameters\")\r\n    reason: str = Field(description=\"Reason for task execution\")\r\n\r\n\r\nclass CommandResponse(BaseModel):\r\n    task: Task = Field(description=\"control task\")\r\n\r\n\r\ndef main():\r\n    output_parser = PydanticOutputParser(pydantic_object=CommandResponse)\r\n    instruction = output_parser.get_format_instructions()\r\n\r\n    _prompt = \"\"\"\r\n    ## User Demand\r\n    {user_input}\r\n\r\n    ## Pending Control Task Queue\r\n    {task_queue}\r\n    \"\"\"\r\n\r\n    prompt = PromptTemplate(\r\n        template=f\"{_prompt}\\n{instruction}\",\r\n        input_variables=[\"user_input\", \"task_queue\"],\r\n    )\r\n\r\n    _input = prompt.format_prompt(user_input=\"hello\", task_queue=\"aaa\")\r\n    print(_input)\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n\r\n```\r\n\r\nerror log: \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:\\Programming\\Python\\Project\\promptulate\\private\\demo3.py\", line 67, in <module>\r\n    main()\r\n  File \"D:\\Programming\\Python\\Project\\promptulate\\private\\demo3.py\", line 48, in main\r\n    _input = prompt.format_prompt(user_input=\"hello\", task_queue=\"aaa\")\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\site-packages\\langchain\\prompts\\base.py\", line 159, in format_prompt\r\n    return StringPromptValue(text=self.format(**kwargs))\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\site-packages\\langchain\\prompts\\prompt.py\", line 119, in format\r\n    return DEFAULT_FORMATTER_MAPPING[self.template_format](self.template, **kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 161, in format\r\n    return self.vformat(format_string, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\site-packages\\langchain\\utils\\formatting.py\", line 29, in vformat\r\n    return super().vformat(format_string, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 165, in vformat\r\n    result, _ = self._vformat(format_string, args, kwargs, used_args, 2)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 205, in _vformat\r\n    obj, arg_used = self.get_field(field_name, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 270, in get_field\r\n    obj = self.get_value(first, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 227, in get_value\r\n    return kwargs[key]\r\nKeyError: '\"properties\"'\r\n```\r\n\r\nThis error occurs when there are multiple {} in the prompt, and the excess {} is introduced by PydanticOutputParser.\r\n\r\nThe instruction of PydanticOutputParser is as follows:\r\n\r\n```python\r\n    \"\"\"\r\n    The output should be formatted as a JSON instance that conforms to the JSON schema below.\r\n\r\n    As an example, for the schema {\"properties\": {\"foo\": {\"description\": \"a list of strings\", \"type\": \"array\", \"items\": {\"type\": \"string\"}}}, \"required\": [\"foo\"]}\r\n    the object {\"foo\": [\"bar\", \"baz\"]} is a well-formatted instance of the schema. The object {\"properties\": {\"foo\": [\"bar\", \"baz\"]}} is not well-formatted.\r\n\r\n    Here is the output schema:\r\n    ```\r\n    {\"properties\": {\"task\": {\"description\": \"control task\", \"allOf\": [{\"$ref\": \"#/definitions/Task\"}]}}, \"required\": [\"task\"], \"definitions\": {\"Task\": {\"title\": \"Task\", \"type\": \"object\", \"properties\": {\"id\": {\"title\": \"Id\", \"description\": \"Autoincrement task id\", \"type\": \"integer\"}, \"name\": {\"title\": \"Name\", \"description\": \"task name\", \"type\": \"string\"}, \"parameters\": {\"title\": \"Parameters\", \"description\": \"task parameters\", \"type\": \"object\"}, \"reason\": {\"title\": \"Reason\", \"description\": \"Reason for task execution\", \"type\": \"string\"}}, \"required\": [\"id\", \"name\", \"parameters\", \"reason\"]}}}\r\n    ```\r\n    \"\"\"\r\n```\r\n\r\n### Expected behavior\r\n\r\nNo error is expected.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782713668",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12417#issuecomment-1782713668",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417",
                "id": 1782713668,
                "node_id": "IC_kwDOIPDwls5qQg1E",
                "user": {
                    "login": "Undertone0809",
                    "id": 72488598,
                    "node_id": "MDQ6VXNlcjcyNDg4NTk4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/72488598?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Undertone0809",
                    "html_url": "https://github.com/Undertone0809",
                    "followers_url": "https://api.github.com/users/Undertone0809/followers",
                    "following_url": "https://api.github.com/users/Undertone0809/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Undertone0809/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Undertone0809/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Undertone0809/subscriptions",
                    "organizations_url": "https://api.github.com/users/Undertone0809/orgs",
                    "repos_url": "https://api.github.com/users/Undertone0809/repos",
                    "events_url": "https://api.github.com/users/Undertone0809/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Undertone0809/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T10:57:27Z",
                "updated_at": "2023-10-27T10:57:27Z",
                "author_association": "CONTRIBUTOR",
                "body": "I can solve this bug by the following code:\r\n\r\n```python\r\ndef main():\r\n    output_parser = PydanticOutputParser(pydantic_object=CommandResponse)\r\n    instruction = output_parser.get_format_instructions()\r\n\r\n    _prompt = \"\"\"\r\n    ## User Demand\r\n    {user_input}\r\n\r\n    ## Pending Control Task Queue\r\n    {task_queue}\r\n    \"\"\"\r\n\r\n    prompt = PromptTemplate(\r\n        template=f\"{_prompt}\",\r\n        input_variables=[\"user_input\", \"task_queue\"],\r\n    )\r\n\r\n    _input = prompt.format_prompt(user_input=\"hello\", task_queue=\"aaa\")\r\n    _input = f\"{_input}\\n{instruction}\"\r\n    print(_input)\r\n```\r\n\r\nAttach instructions after formatting prompt template. But actually, it's not a good way to solve this problem. There may still be errors in determining that a variable does not exist.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782713668/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:57:28Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896344722",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 55285536,
            "login": "gautamanirudh",
            "display_login": "gautamanirudh",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gautamanirudh",
            "avatar_url": "https://avatars.githubusercontent.com/u/55285536?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418/events",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12418",
                "id": 1965255442,
                "node_id": "PR_kwDOIPDwls5d9Wae",
                "number": 12418,
                "title": "Mask API key for AI21 LLM",
                "user": {
                    "login": "gautamanirudh",
                    "id": 55285536,
                    "node_id": "MDQ6VXNlcjU1Mjg1NTM2",
                    "avatar_url": "https://avatars.githubusercontent.com/u/55285536?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/gautamanirudh",
                    "html_url": "https://github.com/gautamanirudh",
                    "followers_url": "https://api.github.com/users/gautamanirudh/followers",
                    "following_url": "https://api.github.com/users/gautamanirudh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/gautamanirudh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/gautamanirudh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/gautamanirudh/subscriptions",
                    "organizations_url": "https://api.github.com/users/gautamanirudh/orgs",
                    "repos_url": "https://api.github.com/users/gautamanirudh/repos",
                    "events_url": "https://api.github.com/users/gautamanirudh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/gautamanirudh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 5680700873,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidyQ",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:improvement",
                        "name": "auto:improvement",
                        "color": "BFDADC",
                        "default": false,
                        "description": "Medium size change to existing code to handle new use-cases"
                    },
                    {
                        "id": 5820539098,
                        "node_id": "LA_kwDOIPDwls8AAAABWu5g2g",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20models",
                        "name": "area: models",
                        "color": "bfdadc",
                        "default": false,
                        "description": "Related to LLMs or chat model modules"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2023-10-27T10:44:18Z",
                "updated_at": "2023-10-27T10:56:41Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12418",
                    "html_url": "https://github.com/langchain-ai/langchain/pull/12418",
                    "diff_url": "https://github.com/langchain-ai/langchain/pull/12418.diff",
                    "patch_url": "https://github.com/langchain-ai/langchain/pull/12418.patch",
                    "merged_at": null
                },
                "body": "  - **Description:** Added masking of the API Key for AI21 LLM when printed and improved the docstring for AI21 LLM.\r\n    - Updated the AI21 LLM to utilize SecretStr from pydantic to securely manage API key.\r\n    - Made improvements in the docstring of AI21 LLM. It now mentions that the API key can also be passed as a named parameter to the constructor.\r\n    - Added unit tests.\r\n  - **Issue:** #12165 \r\n  - **Tag maintainer:** @eyurtsev \r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782712727",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12418#issuecomment-1782712727",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418",
                "id": 1782712727,
                "node_id": "IC_kwDOIPDwls5qQgmX",
                "user": {
                    "login": "gautamanirudh",
                    "id": 55285536,
                    "node_id": "MDQ6VXNlcjU1Mjg1NTM2",
                    "avatar_url": "https://avatars.githubusercontent.com/u/55285536?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/gautamanirudh",
                    "html_url": "https://github.com/gautamanirudh",
                    "followers_url": "https://api.github.com/users/gautamanirudh/followers",
                    "following_url": "https://api.github.com/users/gautamanirudh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/gautamanirudh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/gautamanirudh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/gautamanirudh/subscriptions",
                    "organizations_url": "https://api.github.com/users/gautamanirudh/orgs",
                    "repos_url": "https://api.github.com/users/gautamanirudh/repos",
                    "events_url": "https://api.github.com/users/gautamanirudh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/gautamanirudh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T10:56:41Z",
                "updated_at": "2023-10-27T10:56:41Z",
                "author_association": "NONE",
                "body": "@eyurtsev Does it make sense to move the `_to_secret()` function(first implemented in #12377) to langchain utils? It can be utilized in other files as well.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782712727/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:56:42Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896301465",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 131922026,
            "login": "dosubot[bot]",
            "display_login": "dosubot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dosubot[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/131922026?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/events",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12417",
                "id": 1965249491,
                "node_id": "I_kwDOIPDwls51I1PT",
                "number": 12417,
                "title": "Error happened in PromptTemplate + PydanticOutputParser",
                "user": {
                    "login": "Undertone0809",
                    "id": 72488598,
                    "node_id": "MDQ6VXNlcjcyNDg4NTk4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/72488598?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Undertone0809",
                    "html_url": "https://github.com/Undertone0809",
                    "followers_url": "https://api.github.com/users/Undertone0809/followers",
                    "following_url": "https://api.github.com/users/Undertone0809/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Undertone0809/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Undertone0809/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Undertone0809/subscriptions",
                    "organizations_url": "https://api.github.com/users/Undertone0809/orgs",
                    "repos_url": "https://api.github.com/users/Undertone0809/repos",
                    "events_url": "https://api.github.com/users/Undertone0809/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Undertone0809/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 5680700839,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidpw",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:bug",
                        "name": "auto:bug",
                        "color": "E99695",
                        "default": false,
                        "description": "Related to a bug, vulnerability, unexpected error with an existing feature"
                    },
                    {
                        "id": 5820539098,
                        "node_id": "LA_kwDOIPDwls8AAAABWu5g2g",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20models",
                        "name": "area: models",
                        "color": "bfdadc",
                        "default": false,
                        "description": "Related to LLMs or chat model modules"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-27T10:40:28Z",
                "updated_at": "2023-10-27T10:54:52Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### System Info\r\n\r\nlangchain v0.0.324\r\npython 3.10\r\nwindow10 amd64\r\n\r\n### Who can help?\r\n\r\n@hwchase17 @agola11 \r\n\r\n### Information\r\n\r\n- [ ] The official example notebooks/scripts\r\n- [X] My own modified scripts\r\n\r\n### Related Components\r\n\r\n- [ ] LLMs/Chat Models\r\n- [ ] Embedding Models\r\n- [X] Prompts / Prompt Templates / Prompt Selectors\r\n- [X] Output Parsers\r\n- [ ] Document Loaders\r\n- [ ] Vector Stores / Retrievers\r\n- [ ] Memory\r\n- [ ] Agents / Agent Executors\r\n- [ ] Tools / Toolkits\r\n- [ ] Chains\r\n- [ ] Callbacks/Tracing\r\n- [ ] Async\r\n\r\n### Reproduction\r\n\r\nRun the following code, then you will see the error.\r\n\r\n```python\r\nimport os\r\nimport openai\r\nfrom typing import Dict, Any\r\n\r\nfrom dotenv import load_dotenv\r\nfrom langchain.output_parsers import PydanticOutputParser\r\nfrom langchain.prompts import PromptTemplate\r\nfrom langchain.pydantic_v1 import BaseModel, Field\r\n\r\nload_dotenv()\r\nopenai.api_key = os.getenv(\"OPENAI_API_KEY\")\r\n\r\n\r\nclass Task(BaseModel):\r\n    id: int = Field(description=\"Autoincrement task id\")\r\n    name: str = Field(description=\"task name\")\r\n    parameters: Dict[str, Any] = Field(description=\"task parameters\")\r\n    reason: str = Field(description=\"Reason for task execution\")\r\n\r\n\r\nclass CommandResponse(BaseModel):\r\n    task: Task = Field(description=\"control task\")\r\n\r\n\r\ndef main():\r\n    output_parser = PydanticOutputParser(pydantic_object=CommandResponse)\r\n    instruction = output_parser.get_format_instructions()\r\n\r\n    _prompt = \"\"\"\r\n    ## User Demand\r\n    {user_input}\r\n\r\n    ## Pending Control Task Queue\r\n    {task_queue}\r\n    \"\"\"\r\n\r\n    prompt = PromptTemplate(\r\n        template=f\"{_prompt}\\n{instruction}\",\r\n        input_variables=[\"user_input\", \"task_queue\"],\r\n    )\r\n\r\n    _input = prompt.format_prompt(user_input=\"hello\", task_queue=\"aaa\")\r\n    print(_input)\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n\r\n```\r\n\r\nerror log: \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:\\Programming\\Python\\Project\\promptulate\\private\\demo3.py\", line 67, in <module>\r\n    main()\r\n  File \"D:\\Programming\\Python\\Project\\promptulate\\private\\demo3.py\", line 48, in main\r\n    _input = prompt.format_prompt(user_input=\"hello\", task_queue=\"aaa\")\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\site-packages\\langchain\\prompts\\base.py\", line 159, in format_prompt\r\n    return StringPromptValue(text=self.format(**kwargs))\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\site-packages\\langchain\\prompts\\prompt.py\", line 119, in format\r\n    return DEFAULT_FORMATTER_MAPPING[self.template_format](self.template, **kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 161, in format\r\n    return self.vformat(format_string, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\site-packages\\langchain\\utils\\formatting.py\", line 29, in vformat\r\n    return super().vformat(format_string, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 165, in vformat\r\n    result, _ = self._vformat(format_string, args, kwargs, used_args, 2)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 205, in _vformat\r\n    obj, arg_used = self.get_field(field_name, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 270, in get_field\r\n    obj = self.get_value(first, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 227, in get_value\r\n    return kwargs[key]\r\nKeyError: '\"properties\"'\r\n```\r\n\r\nThis error occurs when there are multiple {} in the prompt, and the excess {} is introduced by PydanticOutputParser.\r\n\r\nThe instruction of PydanticOutputParser is as follows:\r\n\r\n```python\r\n    \"\"\"\r\n    The output should be formatted as a JSON instance that conforms to the JSON schema below.\r\n\r\n    As an example, for the schema {\"properties\": {\"foo\": {\"description\": \"a list of strings\", \"type\": \"array\", \"items\": {\"type\": \"string\"}}}, \"required\": [\"foo\"]}\r\n    the object {\"foo\": [\"bar\", \"baz\"]} is a well-formatted instance of the schema. The object {\"properties\": {\"foo\": [\"bar\", \"baz\"]}} is not well-formatted.\r\n\r\n    Here is the output schema:\r\n    ```\r\n    {\"properties\": {\"task\": {\"description\": \"control task\", \"allOf\": [{\"$ref\": \"#/definitions/Task\"}]}}, \"required\": [\"task\"], \"definitions\": {\"Task\": {\"title\": \"Task\", \"type\": \"object\", \"properties\": {\"id\": {\"title\": \"Id\", \"description\": \"Autoincrement task id\", \"type\": \"integer\"}, \"name\": {\"title\": \"Name\", \"description\": \"task name\", \"type\": \"string\"}, \"parameters\": {\"title\": \"Parameters\", \"description\": \"task parameters\", \"type\": \"object\"}, \"reason\": {\"title\": \"Reason\", \"description\": \"Reason for task execution\", \"type\": \"string\"}}, \"required\": [\"id\", \"name\", \"parameters\", \"reason\"]}}}\r\n    ```\r\n    \"\"\"\r\n```\r\n\r\n### Expected behavior\r\n\r\nNo error is expected.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/reactions",
                    "total_count": 1,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 1
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782710492",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12417#issuecomment-1782710492",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417",
                "id": 1782710492,
                "node_id": "IC_kwDOIPDwls5qQgDc",
                "user": {
                    "login": "dosubot[bot]",
                    "id": 131922026,
                    "node_id": "BOT_kgDOB9z4ag",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7771049?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dosubot%5Bbot%5D",
                    "html_url": "https://github.com/apps/dosubot",
                    "followers_url": "https://api.github.com/users/dosubot%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/dosubot%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dosubot%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dosubot%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dosubot%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/dosubot%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/dosubot%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/dosubot%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dosubot%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "created_at": "2023-10-27T10:54:52Z",
                "updated_at": "2023-10-27T10:54:52Z",
                "author_association": "NONE",
                "body": "_\ud83e\udd16_\n<!-- Answer -->\nHello @Undertone0809,\n\nI'm here to assist you while you're waiting for a human maintainer. I'm a bot that can help you solve bugs, answer questions, and become a contributor. Let's dive into your issue.\n\nThe error you're encountering seems to be related to the use of curly braces `{}` in your prompt. In Python, these are used for string formatting, and when they are present in the string you're trying to format, Python will expect to replace them with a variable. If no variable is provided, a `KeyError` is raised, which is what you're seeing.\n\nThere are a few ways to resolve this issue:\n\n1. If you don't need to use the `from_template` method, you can create the `HumanMessage` object directly with:\n\n```python\nfrom langchain.schema import HumanMessage\nmessages=[HumanMessage(content=exampleprompt)]\n```\n\n2. If you need to use curly braces in your prompt, you can escape them by using four curly braces \"{{{{\" instead of two \"{{\".\n\n3. You can modify your JSON strings to look like this:\n\n```python\nUser: My text number 1\nAI: {{\"person\": \"Jack\", \"Location\": \"France\"}}\n```\n\nThese solutions were suggested in similar issues [#10639](https://github.com/langchain-ai/langchain/issues/10639), [#2765](https://github.com/langchain-ai/langchain/issues/2765), and [#1914](https://github.com/langchain-ai/langchain/issues/1914) in the LangChain repository.\n\nAs for the `PydanticOutputParser` and `PromptTemplate` classes, they play crucial roles in the LangChain framework. The `PydanticOutputParser` is used to parse the output of a language model into a Pydantic model. It takes a JSON string (the output of a language model) and attempts to parse it into the provided Pydantic model. If the parsing is successful, it returns an instance of the Pydantic model. If the parsing fails, it raises an OutputParserException.\n\nThe `PromptTemplate` class is used to define a template for generating prompts for a language model. The `template` parameter is a string that defines the structure of the prompt, containing placeholders for the variables that will be replaced with actual values when the prompt is generated. The `input_variables` parameter is a list of strings that specifies the names of the variables that will be used in the template.\n\nI hope this helps! If you have any other questions or need further clarification, feel free to ask.\n\nBest,\nDosu\n\n## Sources\n- [When I use a prompt with \"{\", I get an error](https://github.com/langchain-ai/langchain/issues/10639)\n- [Validation error for PromptTemplate __root__   Invalid format specifier (type=value_error)](https://github.com/langchain-ai/langchain/issues/2765)\n- [how to escape {} for the PromptTemplate](https://github.com/langchain-ai/langchain/issues/1914)\n- [libs/langchain/tests/unit_tests/output_parsers/test_pydantic_parser.py](https://github.com/langchain-ai/langchain/blob/master/libs/langchain/tests/unit_tests/output_parsers/test_pydantic_parser.py)\n- [libs/langchain/langchain/schema/output_parser.py](https://github.com/langchain-ai/langchain/blob/master/libs/langchain/langchain/schema/output_parser.py)\n- [libs/experimental/langchain_experimental/synthetic_data/prompts.py](https://github.com/langchain-ai/langchain/blob/master/libs/experimental/langchain_experimental/synthetic_data/prompts.py)\n- [libs/experimental/langchain_experimental/llm_symbolic_math/prompt.py](https://github.com/langchain-ai/langchain/blob/master/libs/experimental/langchain_experimental/llm_symbolic_math/prompt.py)\n- [libs/langchain/langchain/prompts/prompt.py](https://github.com/langchain-ai/langchain/blob/master/libs/langchain/langchain/prompts/prompt.py)\n- [libs/langchain/langchain/chains/question_answering/stuff_prompt.py](https://github.com/langchain-ai/langchain/blob/master/libs/langchain/langchain/chains/question_answering/stuff_prompt.py)\n- [libs/langchain/langchain/prompts/pipeline.py](https://github.com/langchain-ai/langchain/blob/master/libs/langchain/langchain/prompts/pipeline.py)\n\n---\nThis response is meant to be useful and save you time. It is **not meant to be a precise solution**, but rather a starting point for your own research.\n\nHelp me be more useful! Please leave a \ud83d\udc4d if this is helpful and \ud83d\udc4e if it is irrelevant.\n\nIf you want to continue the conversation, start your reply with @dosu-bot.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782710492/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:54:53Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896141818",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 44113430,
            "login": "mspronesti",
            "display_login": "mspronesti",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mspronesti",
            "avatar_url": "https://avatars.githubusercontent.com/u/44113430?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701499406,
                "node_id": "PRR_kwDOIPDwls5latIO",
                "user": {
                    "login": "mspronesti",
                    "id": 44113430,
                    "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mspronesti",
                    "html_url": "https://github.com/mspronesti",
                    "followers_url": "https://api.github.com/users/mspronesti/followers",
                    "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                    "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                    "repos_url": "https://api.github.com/users/mspronesti/repos",
                    "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea",
                "submitted_at": "2023-10-27T10:48:08Z",
                "state": "commented",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12383#pullrequestreview-1701499406",
                "pull_request_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/langchain-ai/langchain/pull/12383#pullrequestreview-1701499406"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383",
                "id": 1575676616,
                "node_id": "PR_kwDOIPDwls5d6urI",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12383",
                "diff_url": "https://github.com/langchain-ai/langchain/pull/12383.diff",
                "patch_url": "https://github.com/langchain-ai/langchain/pull/12383.patch",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12383",
                "number": 12383,
                "state": "open",
                "locked": false,
                "title": "fix(openai-callback): completion count logic",
                "user": {
                    "login": "mspronesti",
                    "id": 44113430,
                    "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mspronesti",
                    "html_url": "https://github.com/mspronesti",
                    "followers_url": "https://api.github.com/users/mspronesti/followers",
                    "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                    "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                    "repos_url": "https://api.github.com/users/mspronesti/repos",
                    "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "The changes introduced in #12267 and #12190 broke the cost computation of the `completion` tokens for fine-tuned models because of the early return. This PR aims at fixing this.\r\n@baskaryan.\r\n \r\n",
                "created_at": "2023-10-26T22:42:24Z",
                "updated_at": "2023-10-27T10:48:08Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "8ffa987d9c2722d187748e1884b0a45d86cc071d",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 5680700839,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidpw",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:bug",
                        "name": "auto:bug",
                        "color": "E99695",
                        "default": false,
                        "description": "Related to a bug, vulnerability, unexpected error with an existing feature"
                    },
                    {
                        "id": 5820539098,
                        "node_id": "LA_kwDOIPDwls8AAAABWu5g2g",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20models",
                        "name": "area: models",
                        "color": "bfdadc",
                        "default": false,
                        "description": "Related to LLMs or chat model modules"
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/commits",
                "review_comments_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/comments",
                "review_comment_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12383/comments",
                "statuses_url": "https://api.github.com/repos/langchain-ai/langchain/statuses/8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea",
                "head": {
                    "label": "mspronesti:fix/openai-callback",
                    "ref": "fix/openai-callback",
                    "sha": "8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea",
                    "user": {
                        "login": "mspronesti",
                        "id": 44113430,
                        "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/mspronesti",
                        "html_url": "https://github.com/mspronesti",
                        "followers_url": "https://api.github.com/users/mspronesti/followers",
                        "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                        "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                        "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                        "repos_url": "https://api.github.com/users/mspronesti/repos",
                        "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 675137592,
                        "node_id": "R_kgDOKD3IOA",
                        "name": "langchain",
                        "full_name": "mspronesti/langchain",
                        "private": false,
                        "owner": {
                            "login": "mspronesti",
                            "id": 44113430,
                            "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                            "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/mspronesti",
                            "html_url": "https://github.com/mspronesti",
                            "followers_url": "https://api.github.com/users/mspronesti/followers",
                            "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                            "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                            "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                            "repos_url": "https://api.github.com/users/mspronesti/repos",
                            "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/mspronesti/langchain",
                        "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                        "fork": true,
                        "url": "https://api.github.com/repos/mspronesti/langchain",
                        "forks_url": "https://api.github.com/repos/mspronesti/langchain/forks",
                        "keys_url": "https://api.github.com/repos/mspronesti/langchain/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/mspronesti/langchain/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/mspronesti/langchain/teams",
                        "hooks_url": "https://api.github.com/repos/mspronesti/langchain/hooks",
                        "issue_events_url": "https://api.github.com/repos/mspronesti/langchain/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/mspronesti/langchain/events",
                        "assignees_url": "https://api.github.com/repos/mspronesti/langchain/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/mspronesti/langchain/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/mspronesti/langchain/tags",
                        "blobs_url": "https://api.github.com/repos/mspronesti/langchain/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/mspronesti/langchain/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/mspronesti/langchain/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/mspronesti/langchain/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/mspronesti/langchain/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/mspronesti/langchain/languages",
                        "stargazers_url": "https://api.github.com/repos/mspronesti/langchain/stargazers",
                        "contributors_url": "https://api.github.com/repos/mspronesti/langchain/contributors",
                        "subscribers_url": "https://api.github.com/repos/mspronesti/langchain/subscribers",
                        "subscription_url": "https://api.github.com/repos/mspronesti/langchain/subscription",
                        "commits_url": "https://api.github.com/repos/mspronesti/langchain/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/mspronesti/langchain/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/mspronesti/langchain/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/mspronesti/langchain/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/mspronesti/langchain/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/mspronesti/langchain/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/mspronesti/langchain/merges",
                        "archive_url": "https://api.github.com/repos/mspronesti/langchain/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/mspronesti/langchain/downloads",
                        "issues_url": "https://api.github.com/repos/mspronesti/langchain/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/mspronesti/langchain/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/mspronesti/langchain/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/mspronesti/langchain/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/mspronesti/langchain/labels{/name}",
                        "releases_url": "https://api.github.com/repos/mspronesti/langchain/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/mspronesti/langchain/deployments",
                        "created_at": "2023-08-05T22:58:56Z",
                        "updated_at": "2023-08-08T21:23:40Z",
                        "pushed_at": "2023-10-27T10:47:15Z",
                        "git_url": "git://github.com/mspronesti/langchain.git",
                        "ssh_url": "git@github.com:mspronesti/langchain.git",
                        "clone_url": "https://github.com/mspronesti/langchain.git",
                        "svn_url": "https://github.com/mspronesti/langchain",
                        "homepage": "https://python.langchain.com",
                        "size": 80944,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Python",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "langchain-ai:master",
                    "ref": "master",
                    "sha": "7cadf00570300a030913b6e6676294d0011ea9eb",
                    "user": {
                        "login": "langchain-ai",
                        "id": 126733545,
                        "node_id": "O_kgDOB43M6Q",
                        "avatar_url": "https://avatars.githubusercontent.com/u/126733545?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/langchain-ai",
                        "html_url": "https://github.com/langchain-ai",
                        "followers_url": "https://api.github.com/users/langchain-ai/followers",
                        "following_url": "https://api.github.com/users/langchain-ai/following{/other_user}",
                        "gists_url": "https://api.github.com/users/langchain-ai/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/langchain-ai/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/langchain-ai/subscriptions",
                        "organizations_url": "https://api.github.com/users/langchain-ai/orgs",
                        "repos_url": "https://api.github.com/users/langchain-ai/repos",
                        "events_url": "https://api.github.com/users/langchain-ai/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/langchain-ai/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 552661142,
                        "node_id": "R_kgDOIPDwlg",
                        "name": "langchain",
                        "full_name": "langchain-ai/langchain",
                        "private": false,
                        "owner": {
                            "login": "langchain-ai",
                            "id": 126733545,
                            "node_id": "O_kgDOB43M6Q",
                            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/langchain-ai",
                            "html_url": "https://github.com/langchain-ai",
                            "followers_url": "https://api.github.com/users/langchain-ai/followers",
                            "following_url": "https://api.github.com/users/langchain-ai/following{/other_user}",
                            "gists_url": "https://api.github.com/users/langchain-ai/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/langchain-ai/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/langchain-ai/subscriptions",
                            "organizations_url": "https://api.github.com/users/langchain-ai/orgs",
                            "repos_url": "https://api.github.com/users/langchain-ai/repos",
                            "events_url": "https://api.github.com/users/langchain-ai/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/langchain-ai/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/langchain-ai/langchain",
                        "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                        "fork": false,
                        "url": "https://api.github.com/repos/langchain-ai/langchain",
                        "forks_url": "https://api.github.com/repos/langchain-ai/langchain/forks",
                        "keys_url": "https://api.github.com/repos/langchain-ai/langchain/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/langchain-ai/langchain/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/langchain-ai/langchain/teams",
                        "hooks_url": "https://api.github.com/repos/langchain-ai/langchain/hooks",
                        "issue_events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/langchain-ai/langchain/events",
                        "assignees_url": "https://api.github.com/repos/langchain-ai/langchain/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/langchain-ai/langchain/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/langchain-ai/langchain/tags",
                        "blobs_url": "https://api.github.com/repos/langchain-ai/langchain/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/langchain-ai/langchain/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/langchain-ai/langchain/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/langchain-ai/langchain/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/langchain-ai/langchain/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/langchain-ai/langchain/languages",
                        "stargazers_url": "https://api.github.com/repos/langchain-ai/langchain/stargazers",
                        "contributors_url": "https://api.github.com/repos/langchain-ai/langchain/contributors",
                        "subscribers_url": "https://api.github.com/repos/langchain-ai/langchain/subscribers",
                        "subscription_url": "https://api.github.com/repos/langchain-ai/langchain/subscription",
                        "commits_url": "https://api.github.com/repos/langchain-ai/langchain/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/langchain-ai/langchain/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/langchain-ai/langchain/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/langchain-ai/langchain/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/langchain-ai/langchain/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/langchain-ai/langchain/merges",
                        "archive_url": "https://api.github.com/repos/langchain-ai/langchain/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/langchain-ai/langchain/downloads",
                        "issues_url": "https://api.github.com/repos/langchain-ai/langchain/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/langchain-ai/langchain/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/langchain-ai/langchain/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/langchain-ai/langchain/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/langchain-ai/langchain/labels{/name}",
                        "releases_url": "https://api.github.com/repos/langchain-ai/langchain/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/langchain-ai/langchain/deployments",
                        "created_at": "2022-10-17T02:58:36Z",
                        "updated_at": "2023-10-27T10:37:41Z",
                        "pushed_at": "2023-10-27T10:47:19Z",
                        "git_url": "git://github.com/langchain-ai/langchain.git",
                        "ssh_url": "git@github.com:langchain-ai/langchain.git",
                        "clone_url": "https://github.com/langchain-ai/langchain.git",
                        "svn_url": "https://github.com/langchain-ai/langchain",
                        "homepage": "https://python.langchain.com",
                        "size": 93905,
                        "stargazers_count": 65940,
                        "watchers_count": 65940,
                        "language": "Python",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 9447,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 2050,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 9447,
                        "open_issues": 2050,
                        "watchers": 65940,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383"
                    },
                    "html": {
                        "href": "https://github.com/langchain-ai/langchain/pull/12383"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/issues/12383"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/issues/12383/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/statuses/8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:48:09Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896141857",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 44113430,
            "login": "mspronesti",
            "display_login": "mspronesti",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mspronesti",
            "avatar_url": "https://avatars.githubusercontent.com/u/44113430?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments/1374394891",
                "pull_request_review_id": 1701499406,
                "id": 1374394891,
                "node_id": "PRRC_kwDOIPDwls5R65oL",
                "diff_hunk": "@@ -105,6 +105,10 @@ def test_on_llm_end_finetuned_model(\n         (\"gpt-4-32k\", 0.18),\n         (\"gpt-4-32k-0314\", 0.18),\n         (\"gpt-4-32k-0613\", 0.18),\n+        # Fine-tuned models\n+        (\"gpt-35-turbo-0613.ft-0123456789abcdefghijklmnopqrstuv\", 0.0035),\n+        (\"babbage-002.ft-0123456789abcdefghijklmnopqrstuv\", 0.0008),\n+        (\"davinci-002.ft-0123456789abcdefghijklmnopqrstuv\", 0.004),\n     ],\n )\n def test_on_llm_end_azure_openai(",
                "path": "libs/langchain/tests/unit_tests/callbacks/test_openai_info.py",
                "commit_id": "8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea",
                "original_commit_id": "8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea",
                "user": {
                    "login": "mspronesti",
                    "id": 44113430,
                    "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mspronesti",
                    "html_url": "https://github.com/mspronesti",
                    "followers_url": "https://api.github.com/users/mspronesti/followers",
                    "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                    "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                    "repos_url": "https://api.github.com/users/mspronesti/repos",
                    "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "@baskaryan done!",
                "created_at": "2023-10-27T10:48:04Z",
                "updated_at": "2023-10-27T10:48:08Z",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12383#discussion_r1374394891",
                "pull_request_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments/1374394891"
                    },
                    "html": {
                        "href": "https://github.com/langchain-ai/langchain/pull/12383#discussion_r1374394891"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments/1374394891/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 114,
                "original_line": 114,
                "side": "RIGHT",
                "original_position": 63,
                "position": 63,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383",
                "id": 1575676616,
                "node_id": "PR_kwDOIPDwls5d6urI",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12383",
                "diff_url": "https://github.com/langchain-ai/langchain/pull/12383.diff",
                "patch_url": "https://github.com/langchain-ai/langchain/pull/12383.patch",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12383",
                "number": 12383,
                "state": "open",
                "locked": false,
                "title": "fix(openai-callback): completion count logic",
                "user": {
                    "login": "mspronesti",
                    "id": 44113430,
                    "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mspronesti",
                    "html_url": "https://github.com/mspronesti",
                    "followers_url": "https://api.github.com/users/mspronesti/followers",
                    "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                    "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                    "repos_url": "https://api.github.com/users/mspronesti/repos",
                    "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "The changes introduced in #12267 and #12190 broke the cost computation of the `completion` tokens for fine-tuned models because of the early return. This PR aims at fixing this.\r\n@baskaryan.\r\n \r\n",
                "created_at": "2023-10-26T22:42:24Z",
                "updated_at": "2023-10-27T10:48:08Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "8ffa987d9c2722d187748e1884b0a45d86cc071d",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 5680700839,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidpw",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:bug",
                        "name": "auto:bug",
                        "color": "E99695",
                        "default": false,
                        "description": "Related to a bug, vulnerability, unexpected error with an existing feature"
                    },
                    {
                        "id": 5820539098,
                        "node_id": "LA_kwDOIPDwls8AAAABWu5g2g",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20models",
                        "name": "area: models",
                        "color": "bfdadc",
                        "default": false,
                        "description": "Related to LLMs or chat model modules"
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/commits",
                "review_comments_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/comments",
                "review_comment_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12383/comments",
                "statuses_url": "https://api.github.com/repos/langchain-ai/langchain/statuses/8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea",
                "head": {
                    "label": "mspronesti:fix/openai-callback",
                    "ref": "fix/openai-callback",
                    "sha": "8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea",
                    "user": {
                        "login": "mspronesti",
                        "id": 44113430,
                        "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/mspronesti",
                        "html_url": "https://github.com/mspronesti",
                        "followers_url": "https://api.github.com/users/mspronesti/followers",
                        "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                        "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                        "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                        "repos_url": "https://api.github.com/users/mspronesti/repos",
                        "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 675137592,
                        "node_id": "R_kgDOKD3IOA",
                        "name": "langchain",
                        "full_name": "mspronesti/langchain",
                        "private": false,
                        "owner": {
                            "login": "mspronesti",
                            "id": 44113430,
                            "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                            "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/mspronesti",
                            "html_url": "https://github.com/mspronesti",
                            "followers_url": "https://api.github.com/users/mspronesti/followers",
                            "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                            "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                            "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                            "repos_url": "https://api.github.com/users/mspronesti/repos",
                            "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/mspronesti/langchain",
                        "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                        "fork": true,
                        "url": "https://api.github.com/repos/mspronesti/langchain",
                        "forks_url": "https://api.github.com/repos/mspronesti/langchain/forks",
                        "keys_url": "https://api.github.com/repos/mspronesti/langchain/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/mspronesti/langchain/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/mspronesti/langchain/teams",
                        "hooks_url": "https://api.github.com/repos/mspronesti/langchain/hooks",
                        "issue_events_url": "https://api.github.com/repos/mspronesti/langchain/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/mspronesti/langchain/events",
                        "assignees_url": "https://api.github.com/repos/mspronesti/langchain/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/mspronesti/langchain/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/mspronesti/langchain/tags",
                        "blobs_url": "https://api.github.com/repos/mspronesti/langchain/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/mspronesti/langchain/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/mspronesti/langchain/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/mspronesti/langchain/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/mspronesti/langchain/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/mspronesti/langchain/languages",
                        "stargazers_url": "https://api.github.com/repos/mspronesti/langchain/stargazers",
                        "contributors_url": "https://api.github.com/repos/mspronesti/langchain/contributors",
                        "subscribers_url": "https://api.github.com/repos/mspronesti/langchain/subscribers",
                        "subscription_url": "https://api.github.com/repos/mspronesti/langchain/subscription",
                        "commits_url": "https://api.github.com/repos/mspronesti/langchain/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/mspronesti/langchain/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/mspronesti/langchain/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/mspronesti/langchain/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/mspronesti/langchain/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/mspronesti/langchain/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/mspronesti/langchain/merges",
                        "archive_url": "https://api.github.com/repos/mspronesti/langchain/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/mspronesti/langchain/downloads",
                        "issues_url": "https://api.github.com/repos/mspronesti/langchain/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/mspronesti/langchain/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/mspronesti/langchain/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/mspronesti/langchain/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/mspronesti/langchain/labels{/name}",
                        "releases_url": "https://api.github.com/repos/mspronesti/langchain/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/mspronesti/langchain/deployments",
                        "created_at": "2023-08-05T22:58:56Z",
                        "updated_at": "2023-08-08T21:23:40Z",
                        "pushed_at": "2023-10-27T10:47:15Z",
                        "git_url": "git://github.com/mspronesti/langchain.git",
                        "ssh_url": "git@github.com:mspronesti/langchain.git",
                        "clone_url": "https://github.com/mspronesti/langchain.git",
                        "svn_url": "https://github.com/mspronesti/langchain",
                        "homepage": "https://python.langchain.com",
                        "size": 80944,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Python",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "langchain-ai:master",
                    "ref": "master",
                    "sha": "7cadf00570300a030913b6e6676294d0011ea9eb",
                    "user": {
                        "login": "langchain-ai",
                        "id": 126733545,
                        "node_id": "O_kgDOB43M6Q",
                        "avatar_url": "https://avatars.githubusercontent.com/u/126733545?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/langchain-ai",
                        "html_url": "https://github.com/langchain-ai",
                        "followers_url": "https://api.github.com/users/langchain-ai/followers",
                        "following_url": "https://api.github.com/users/langchain-ai/following{/other_user}",
                        "gists_url": "https://api.github.com/users/langchain-ai/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/langchain-ai/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/langchain-ai/subscriptions",
                        "organizations_url": "https://api.github.com/users/langchain-ai/orgs",
                        "repos_url": "https://api.github.com/users/langchain-ai/repos",
                        "events_url": "https://api.github.com/users/langchain-ai/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/langchain-ai/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 552661142,
                        "node_id": "R_kgDOIPDwlg",
                        "name": "langchain",
                        "full_name": "langchain-ai/langchain",
                        "private": false,
                        "owner": {
                            "login": "langchain-ai",
                            "id": 126733545,
                            "node_id": "O_kgDOB43M6Q",
                            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/langchain-ai",
                            "html_url": "https://github.com/langchain-ai",
                            "followers_url": "https://api.github.com/users/langchain-ai/followers",
                            "following_url": "https://api.github.com/users/langchain-ai/following{/other_user}",
                            "gists_url": "https://api.github.com/users/langchain-ai/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/langchain-ai/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/langchain-ai/subscriptions",
                            "organizations_url": "https://api.github.com/users/langchain-ai/orgs",
                            "repos_url": "https://api.github.com/users/langchain-ai/repos",
                            "events_url": "https://api.github.com/users/langchain-ai/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/langchain-ai/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/langchain-ai/langchain",
                        "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                        "fork": false,
                        "url": "https://api.github.com/repos/langchain-ai/langchain",
                        "forks_url": "https://api.github.com/repos/langchain-ai/langchain/forks",
                        "keys_url": "https://api.github.com/repos/langchain-ai/langchain/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/langchain-ai/langchain/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/langchain-ai/langchain/teams",
                        "hooks_url": "https://api.github.com/repos/langchain-ai/langchain/hooks",
                        "issue_events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/langchain-ai/langchain/events",
                        "assignees_url": "https://api.github.com/repos/langchain-ai/langchain/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/langchain-ai/langchain/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/langchain-ai/langchain/tags",
                        "blobs_url": "https://api.github.com/repos/langchain-ai/langchain/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/langchain-ai/langchain/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/langchain-ai/langchain/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/langchain-ai/langchain/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/langchain-ai/langchain/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/langchain-ai/langchain/languages",
                        "stargazers_url": "https://api.github.com/repos/langchain-ai/langchain/stargazers",
                        "contributors_url": "https://api.github.com/repos/langchain-ai/langchain/contributors",
                        "subscribers_url": "https://api.github.com/repos/langchain-ai/langchain/subscribers",
                        "subscription_url": "https://api.github.com/repos/langchain-ai/langchain/subscription",
                        "commits_url": "https://api.github.com/repos/langchain-ai/langchain/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/langchain-ai/langchain/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/langchain-ai/langchain/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/langchain-ai/langchain/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/langchain-ai/langchain/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/langchain-ai/langchain/merges",
                        "archive_url": "https://api.github.com/repos/langchain-ai/langchain/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/langchain-ai/langchain/downloads",
                        "issues_url": "https://api.github.com/repos/langchain-ai/langchain/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/langchain-ai/langchain/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/langchain-ai/langchain/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/langchain-ai/langchain/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/langchain-ai/langchain/labels{/name}",
                        "releases_url": "https://api.github.com/repos/langchain-ai/langchain/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/langchain-ai/langchain/deployments",
                        "created_at": "2022-10-17T02:58:36Z",
                        "updated_at": "2023-10-27T10:37:41Z",
                        "pushed_at": "2023-10-27T10:47:19Z",
                        "git_url": "git://github.com/langchain-ai/langchain.git",
                        "ssh_url": "git@github.com:langchain-ai/langchain.git",
                        "clone_url": "https://github.com/langchain-ai/langchain.git",
                        "svn_url": "https://github.com/langchain-ai/langchain",
                        "homepage": "https://python.langchain.com",
                        "size": 93905,
                        "stargazers_count": 65940,
                        "watchers_count": 65940,
                        "language": "Python",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 9447,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 2050,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 9447,
                        "open_issues": 2050,
                        "watchers": 65940,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383"
                    },
                    "html": {
                        "href": "https://github.com/langchain-ai/langchain/pull/12383"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/issues/12383"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/issues/12383/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/statuses/8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:48:04Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896141745",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 44113430,
            "login": "mspronesti",
            "display_login": "mspronesti",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mspronesti",
            "avatar_url": "https://avatars.githubusercontent.com/u/44113430?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701499406,
                "node_id": "PRR_kwDOIPDwls5latIO",
                "user": {
                    "login": "mspronesti",
                    "id": 44113430,
                    "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mspronesti",
                    "html_url": "https://github.com/mspronesti",
                    "followers_url": "https://api.github.com/users/mspronesti/followers",
                    "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                    "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                    "repos_url": "https://api.github.com/users/mspronesti/repos",
                    "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea",
                "submitted_at": "2023-10-27T10:48:08Z",
                "state": "commented",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12383#pullrequestreview-1701499406",
                "pull_request_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/langchain-ai/langchain/pull/12383#pullrequestreview-1701499406"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383",
                "id": 1575676616,
                "node_id": "PR_kwDOIPDwls5d6urI",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12383",
                "diff_url": "https://github.com/langchain-ai/langchain/pull/12383.diff",
                "patch_url": "https://github.com/langchain-ai/langchain/pull/12383.patch",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12383",
                "number": 12383,
                "state": "open",
                "locked": false,
                "title": "fix(openai-callback): completion count logic",
                "user": {
                    "login": "mspronesti",
                    "id": 44113430,
                    "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mspronesti",
                    "html_url": "https://github.com/mspronesti",
                    "followers_url": "https://api.github.com/users/mspronesti/followers",
                    "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                    "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                    "repos_url": "https://api.github.com/users/mspronesti/repos",
                    "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "The changes introduced in #12267 and #12190 broke the cost computation of the `completion` tokens for fine-tuned models because of the early return. This PR aims at fixing this.\r\n@baskaryan.\r\n \r\n",
                "created_at": "2023-10-26T22:42:24Z",
                "updated_at": "2023-10-27T10:48:08Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "8ffa987d9c2722d187748e1884b0a45d86cc071d",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 5680700839,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidpw",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:bug",
                        "name": "auto:bug",
                        "color": "E99695",
                        "default": false,
                        "description": "Related to a bug, vulnerability, unexpected error with an existing feature"
                    },
                    {
                        "id": 5820539098,
                        "node_id": "LA_kwDOIPDwls8AAAABWu5g2g",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20models",
                        "name": "area: models",
                        "color": "bfdadc",
                        "default": false,
                        "description": "Related to LLMs or chat model modules"
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/commits",
                "review_comments_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/comments",
                "review_comment_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12383/comments",
                "statuses_url": "https://api.github.com/repos/langchain-ai/langchain/statuses/8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea",
                "head": {
                    "label": "mspronesti:fix/openai-callback",
                    "ref": "fix/openai-callback",
                    "sha": "8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea",
                    "user": {
                        "login": "mspronesti",
                        "id": 44113430,
                        "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/mspronesti",
                        "html_url": "https://github.com/mspronesti",
                        "followers_url": "https://api.github.com/users/mspronesti/followers",
                        "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                        "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                        "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                        "repos_url": "https://api.github.com/users/mspronesti/repos",
                        "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 675137592,
                        "node_id": "R_kgDOKD3IOA",
                        "name": "langchain",
                        "full_name": "mspronesti/langchain",
                        "private": false,
                        "owner": {
                            "login": "mspronesti",
                            "id": 44113430,
                            "node_id": "MDQ6VXNlcjQ0MTEzNDMw",
                            "avatar_url": "https://avatars.githubusercontent.com/u/44113430?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/mspronesti",
                            "html_url": "https://github.com/mspronesti",
                            "followers_url": "https://api.github.com/users/mspronesti/followers",
                            "following_url": "https://api.github.com/users/mspronesti/following{/other_user}",
                            "gists_url": "https://api.github.com/users/mspronesti/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/mspronesti/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/mspronesti/subscriptions",
                            "organizations_url": "https://api.github.com/users/mspronesti/orgs",
                            "repos_url": "https://api.github.com/users/mspronesti/repos",
                            "events_url": "https://api.github.com/users/mspronesti/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/mspronesti/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/mspronesti/langchain",
                        "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                        "fork": true,
                        "url": "https://api.github.com/repos/mspronesti/langchain",
                        "forks_url": "https://api.github.com/repos/mspronesti/langchain/forks",
                        "keys_url": "https://api.github.com/repos/mspronesti/langchain/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/mspronesti/langchain/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/mspronesti/langchain/teams",
                        "hooks_url": "https://api.github.com/repos/mspronesti/langchain/hooks",
                        "issue_events_url": "https://api.github.com/repos/mspronesti/langchain/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/mspronesti/langchain/events",
                        "assignees_url": "https://api.github.com/repos/mspronesti/langchain/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/mspronesti/langchain/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/mspronesti/langchain/tags",
                        "blobs_url": "https://api.github.com/repos/mspronesti/langchain/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/mspronesti/langchain/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/mspronesti/langchain/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/mspronesti/langchain/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/mspronesti/langchain/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/mspronesti/langchain/languages",
                        "stargazers_url": "https://api.github.com/repos/mspronesti/langchain/stargazers",
                        "contributors_url": "https://api.github.com/repos/mspronesti/langchain/contributors",
                        "subscribers_url": "https://api.github.com/repos/mspronesti/langchain/subscribers",
                        "subscription_url": "https://api.github.com/repos/mspronesti/langchain/subscription",
                        "commits_url": "https://api.github.com/repos/mspronesti/langchain/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/mspronesti/langchain/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/mspronesti/langchain/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/mspronesti/langchain/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/mspronesti/langchain/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/mspronesti/langchain/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/mspronesti/langchain/merges",
                        "archive_url": "https://api.github.com/repos/mspronesti/langchain/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/mspronesti/langchain/downloads",
                        "issues_url": "https://api.github.com/repos/mspronesti/langchain/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/mspronesti/langchain/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/mspronesti/langchain/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/mspronesti/langchain/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/mspronesti/langchain/labels{/name}",
                        "releases_url": "https://api.github.com/repos/mspronesti/langchain/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/mspronesti/langchain/deployments",
                        "created_at": "2023-08-05T22:58:56Z",
                        "updated_at": "2023-08-08T21:23:40Z",
                        "pushed_at": "2023-10-27T10:47:15Z",
                        "git_url": "git://github.com/mspronesti/langchain.git",
                        "ssh_url": "git@github.com:mspronesti/langchain.git",
                        "clone_url": "https://github.com/mspronesti/langchain.git",
                        "svn_url": "https://github.com/mspronesti/langchain",
                        "homepage": "https://python.langchain.com",
                        "size": 80944,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Python",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "langchain-ai:master",
                    "ref": "master",
                    "sha": "7cadf00570300a030913b6e6676294d0011ea9eb",
                    "user": {
                        "login": "langchain-ai",
                        "id": 126733545,
                        "node_id": "O_kgDOB43M6Q",
                        "avatar_url": "https://avatars.githubusercontent.com/u/126733545?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/langchain-ai",
                        "html_url": "https://github.com/langchain-ai",
                        "followers_url": "https://api.github.com/users/langchain-ai/followers",
                        "following_url": "https://api.github.com/users/langchain-ai/following{/other_user}",
                        "gists_url": "https://api.github.com/users/langchain-ai/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/langchain-ai/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/langchain-ai/subscriptions",
                        "organizations_url": "https://api.github.com/users/langchain-ai/orgs",
                        "repos_url": "https://api.github.com/users/langchain-ai/repos",
                        "events_url": "https://api.github.com/users/langchain-ai/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/langchain-ai/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 552661142,
                        "node_id": "R_kgDOIPDwlg",
                        "name": "langchain",
                        "full_name": "langchain-ai/langchain",
                        "private": false,
                        "owner": {
                            "login": "langchain-ai",
                            "id": 126733545,
                            "node_id": "O_kgDOB43M6Q",
                            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/langchain-ai",
                            "html_url": "https://github.com/langchain-ai",
                            "followers_url": "https://api.github.com/users/langchain-ai/followers",
                            "following_url": "https://api.github.com/users/langchain-ai/following{/other_user}",
                            "gists_url": "https://api.github.com/users/langchain-ai/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/langchain-ai/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/langchain-ai/subscriptions",
                            "organizations_url": "https://api.github.com/users/langchain-ai/orgs",
                            "repos_url": "https://api.github.com/users/langchain-ai/repos",
                            "events_url": "https://api.github.com/users/langchain-ai/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/langchain-ai/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/langchain-ai/langchain",
                        "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                        "fork": false,
                        "url": "https://api.github.com/repos/langchain-ai/langchain",
                        "forks_url": "https://api.github.com/repos/langchain-ai/langchain/forks",
                        "keys_url": "https://api.github.com/repos/langchain-ai/langchain/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/langchain-ai/langchain/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/langchain-ai/langchain/teams",
                        "hooks_url": "https://api.github.com/repos/langchain-ai/langchain/hooks",
                        "issue_events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/langchain-ai/langchain/events",
                        "assignees_url": "https://api.github.com/repos/langchain-ai/langchain/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/langchain-ai/langchain/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/langchain-ai/langchain/tags",
                        "blobs_url": "https://api.github.com/repos/langchain-ai/langchain/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/langchain-ai/langchain/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/langchain-ai/langchain/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/langchain-ai/langchain/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/langchain-ai/langchain/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/langchain-ai/langchain/languages",
                        "stargazers_url": "https://api.github.com/repos/langchain-ai/langchain/stargazers",
                        "contributors_url": "https://api.github.com/repos/langchain-ai/langchain/contributors",
                        "subscribers_url": "https://api.github.com/repos/langchain-ai/langchain/subscribers",
                        "subscription_url": "https://api.github.com/repos/langchain-ai/langchain/subscription",
                        "commits_url": "https://api.github.com/repos/langchain-ai/langchain/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/langchain-ai/langchain/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/langchain-ai/langchain/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/langchain-ai/langchain/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/langchain-ai/langchain/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/langchain-ai/langchain/merges",
                        "archive_url": "https://api.github.com/repos/langchain-ai/langchain/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/langchain-ai/langchain/downloads",
                        "issues_url": "https://api.github.com/repos/langchain-ai/langchain/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/langchain-ai/langchain/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/langchain-ai/langchain/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/langchain-ai/langchain/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/langchain-ai/langchain/labels{/name}",
                        "releases_url": "https://api.github.com/repos/langchain-ai/langchain/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/langchain-ai/langchain/deployments",
                        "created_at": "2022-10-17T02:58:36Z",
                        "updated_at": "2023-10-27T10:37:41Z",
                        "pushed_at": "2023-10-27T10:47:19Z",
                        "git_url": "git://github.com/langchain-ai/langchain.git",
                        "ssh_url": "git@github.com:langchain-ai/langchain.git",
                        "clone_url": "https://github.com/langchain-ai/langchain.git",
                        "svn_url": "https://github.com/langchain-ai/langchain",
                        "homepage": "https://python.langchain.com",
                        "size": 93905,
                        "stargazers_count": 65940,
                        "watchers_count": 65940,
                        "language": "Python",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 9447,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 2050,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 9447,
                        "open_issues": 2050,
                        "watchers": 65940,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383"
                    },
                    "html": {
                        "href": "https://github.com/langchain-ai/langchain/pull/12383"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/issues/12383"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/issues/12383/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12383/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/statuses/8cf0076da7a048fa01e0b3117cd7d082f6bfe8ea"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:48:09Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896051737",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 35613825,
            "login": "vercel[bot]",
            "display_login": "vercel",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vercel[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/35613825?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418/events",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12418",
                "id": 1965255442,
                "node_id": "PR_kwDOIPDwls5d9Wae",
                "number": 12418,
                "title": "Mask API key for AI21 LLM",
                "user": {
                    "login": "gautamanirudh",
                    "id": 55285536,
                    "node_id": "MDQ6VXNlcjU1Mjg1NTM2",
                    "avatar_url": "https://avatars.githubusercontent.com/u/55285536?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/gautamanirudh",
                    "html_url": "https://github.com/gautamanirudh",
                    "followers_url": "https://api.github.com/users/gautamanirudh/followers",
                    "following_url": "https://api.github.com/users/gautamanirudh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/gautamanirudh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/gautamanirudh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/gautamanirudh/subscriptions",
                    "organizations_url": "https://api.github.com/users/gautamanirudh/orgs",
                    "repos_url": "https://api.github.com/users/gautamanirudh/repos",
                    "events_url": "https://api.github.com/users/gautamanirudh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/gautamanirudh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-27T10:44:18Z",
                "updated_at": "2023-10-27T10:44:22Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12418",
                    "html_url": "https://github.com/langchain-ai/langchain/pull/12418",
                    "diff_url": "https://github.com/langchain-ai/langchain/pull/12418.diff",
                    "patch_url": "https://github.com/langchain-ai/langchain/pull/12418.patch",
                    "merged_at": null
                },
                "body": "\r\n  - **Description:** Add masking of API Key for AI21 LLM when printed and improved docstring for AI21 LLM.\r\n    - Updated the AI21 LLM to utilize SecretStr from pydantic to securely manage API key.\r\n    - Made improvements in the docstring of AI21 LLM. It now mentions that the API key can also be passed as a named parameter to the constructor.\r\n    - Added unit tests.\r\n  - **Issue:** #12165 \r\n  - **Tag maintainer:** @eyurtsev \r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782697670",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12418#issuecomment-1782697670",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418",
                "id": 1782697670,
                "node_id": "IC_kwDOIPDwls5qQc7G",
                "user": {
                    "login": "vercel[bot]",
                    "id": 35613825,
                    "node_id": "MDM6Qm90MzU2MTM4MjU=",
                    "avatar_url": "https://avatars.githubusercontent.com/in/8329?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/vercel%5Bbot%5D",
                    "html_url": "https://github.com/apps/vercel",
                    "followers_url": "https://api.github.com/users/vercel%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/vercel%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/vercel%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/vercel%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/vercel%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/vercel%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/vercel%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/vercel%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/vercel%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "created_at": "2023-10-27T10:44:22Z",
                "updated_at": "2023-10-27T10:44:22Z",
                "author_association": "NONE",
                "body": "[vc]: #AVxy+iflZFCZMj/ow82J+DoPXimFGAG/LO0Ww/jIMps=:eyJpc01vbm9yZXBvIjp0cnVlLCJ0eXBlIjoiZ2l0aHViIiwicHJvamVjdHMiOlt7Im5hbWUiOiJsYW5nY2hhaW4iLCJyb290RGlyZWN0b3J5IjoiZG9jcyIsImluc3BlY3RvclVybCI6Imh0dHBzOi8vdmVyY2VsLmNvbS9sYW5nY2hhaW4vbGFuZ2NoYWluL0hVenlxS295U2EzYmZUcm9HNEt1WnlLckZHd1MiLCJwcmV2aWV3VXJsIjoibGFuZ2NoYWluLWdpdC1mb3JrLWdhdXRhbWFuaXJ1ZGgtZml4LW1hc2stYXBpLTUzNjRhYy1sYW5nY2hhaW4udmVyY2VsLmFwcCIsIm5leHRDb21taXRTdGF0dXMiOiJQRU5ESU5HIiwibGl2ZUZlZWRiYWNrIjp7InJlc29sdmVkIjowLCJ1bnJlc29sdmVkIjowLCJ0b3RhbCI6MCwibGluayI6ImxhbmdjaGFpbi1naXQtZm9yay1nYXV0YW1hbmlydWRoLWZpeC1tYXNrLWFwaS01MzY0YWMtbGFuZ2NoYWluLnZlcmNlbC5hcHAifX1dfQ==\n**The latest updates on your projects**. Learn more about [Vercel for Git \u2197\ufe0e](https://vercel.link/github-learn-more)\n\n| Name | Status | Preview | Comments | Updated (UTC) |\n| :--- | :----- | :------ | :------- | :------ |\n| **langchain** | \ud83d\udd04 Building ([Inspect](https://vercel.com/langchain/langchain/HUzyqKoySa3bfTroG4KuZyKrFGwS)) | [Visit Preview](https://vercel.live/open-feedback/langchain-git-fork-gautamanirudh-fix-mask-api-5364ac-langchain.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | \ud83d\udcac [**Add feedback**](https://vercel.live/open-feedback/langchain-git-fork-gautamanirudh-fix-mask-api-5364ac-langchain.vercel.app?via=pr-comment-feedback-link) | Oct 27, 2023 10:44am |\n\n",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782697670/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:44:23Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32896050538",
        "type": "PullRequestEvent",
        "actor": {
            "id": 55285536,
            "login": "gautamanirudh",
            "display_login": "gautamanirudh",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gautamanirudh",
            "avatar_url": "https://avatars.githubusercontent.com/u/55285536?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "opened",
            "number": 12418,
            "pull_request": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12418",
                "id": 1576363678,
                "node_id": "PR_kwDOIPDwls5d9Wae",
                "html_url": "https://github.com/langchain-ai/langchain/pull/12418",
                "diff_url": "https://github.com/langchain-ai/langchain/pull/12418.diff",
                "patch_url": "https://github.com/langchain-ai/langchain/pull/12418.patch",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418",
                "number": 12418,
                "state": "open",
                "locked": false,
                "title": "Mask API key for AI21 LLM",
                "user": {
                    "login": "gautamanirudh",
                    "id": 55285536,
                    "node_id": "MDQ6VXNlcjU1Mjg1NTM2",
                    "avatar_url": "https://avatars.githubusercontent.com/u/55285536?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/gautamanirudh",
                    "html_url": "https://github.com/gautamanirudh",
                    "followers_url": "https://api.github.com/users/gautamanirudh/followers",
                    "following_url": "https://api.github.com/users/gautamanirudh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/gautamanirudh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/gautamanirudh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/gautamanirudh/subscriptions",
                    "organizations_url": "https://api.github.com/users/gautamanirudh/orgs",
                    "repos_url": "https://api.github.com/users/gautamanirudh/repos",
                    "events_url": "https://api.github.com/users/gautamanirudh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/gautamanirudh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "\r\n  - **Description:** Add masking of API Key for AI21 LLM when printed and improved docstring for AI21 LLM.\r\n    - Updated the AI21 LLM to utilize SecretStr from pydantic to securely manage API key.\r\n    - Made improvements in the docstring of AI21 LLM. It now mentions that the API key can also be passed as a named parameter to the constructor.\r\n    - Added unit tests.\r\n  - **Issue:** #12165 \r\n  - **Tag maintainer:** @eyurtsev \r\n\r\n",
                "created_at": "2023-10-27T10:44:18Z",
                "updated_at": "2023-10-27T10:44:18Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": null,
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12418/commits",
                "review_comments_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/12418/comments",
                "review_comment_url": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12418/comments",
                "statuses_url": "https://api.github.com/repos/langchain-ai/langchain/statuses/9a1bba14d2a0497cfd27726f1592eb16840cd891",
                "head": {
                    "label": "gautamanirudh:fix/mask-api-key-ai21-llm",
                    "ref": "fix/mask-api-key-ai21-llm",
                    "sha": "9a1bba14d2a0497cfd27726f1592eb16840cd891",
                    "user": {
                        "login": "gautamanirudh",
                        "id": 55285536,
                        "node_id": "MDQ6VXNlcjU1Mjg1NTM2",
                        "avatar_url": "https://avatars.githubusercontent.com/u/55285536?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/gautamanirudh",
                        "html_url": "https://github.com/gautamanirudh",
                        "followers_url": "https://api.github.com/users/gautamanirudh/followers",
                        "following_url": "https://api.github.com/users/gautamanirudh/following{/other_user}",
                        "gists_url": "https://api.github.com/users/gautamanirudh/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/gautamanirudh/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/gautamanirudh/subscriptions",
                        "organizations_url": "https://api.github.com/users/gautamanirudh/orgs",
                        "repos_url": "https://api.github.com/users/gautamanirudh/repos",
                        "events_url": "https://api.github.com/users/gautamanirudh/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/gautamanirudh/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 710690149,
                        "node_id": "R_kgDOKlxFZQ",
                        "name": "langchain",
                        "full_name": "gautamanirudh/langchain",
                        "private": false,
                        "owner": {
                            "login": "gautamanirudh",
                            "id": 55285536,
                            "node_id": "MDQ6VXNlcjU1Mjg1NTM2",
                            "avatar_url": "https://avatars.githubusercontent.com/u/55285536?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/gautamanirudh",
                            "html_url": "https://github.com/gautamanirudh",
                            "followers_url": "https://api.github.com/users/gautamanirudh/followers",
                            "following_url": "https://api.github.com/users/gautamanirudh/following{/other_user}",
                            "gists_url": "https://api.github.com/users/gautamanirudh/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/gautamanirudh/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/gautamanirudh/subscriptions",
                            "organizations_url": "https://api.github.com/users/gautamanirudh/orgs",
                            "repos_url": "https://api.github.com/users/gautamanirudh/repos",
                            "events_url": "https://api.github.com/users/gautamanirudh/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/gautamanirudh/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/gautamanirudh/langchain",
                        "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                        "fork": true,
                        "url": "https://api.github.com/repos/gautamanirudh/langchain",
                        "forks_url": "https://api.github.com/repos/gautamanirudh/langchain/forks",
                        "keys_url": "https://api.github.com/repos/gautamanirudh/langchain/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/gautamanirudh/langchain/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/gautamanirudh/langchain/teams",
                        "hooks_url": "https://api.github.com/repos/gautamanirudh/langchain/hooks",
                        "issue_events_url": "https://api.github.com/repos/gautamanirudh/langchain/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/gautamanirudh/langchain/events",
                        "assignees_url": "https://api.github.com/repos/gautamanirudh/langchain/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/gautamanirudh/langchain/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/gautamanirudh/langchain/tags",
                        "blobs_url": "https://api.github.com/repos/gautamanirudh/langchain/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/gautamanirudh/langchain/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/gautamanirudh/langchain/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/gautamanirudh/langchain/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/gautamanirudh/langchain/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/gautamanirudh/langchain/languages",
                        "stargazers_url": "https://api.github.com/repos/gautamanirudh/langchain/stargazers",
                        "contributors_url": "https://api.github.com/repos/gautamanirudh/langchain/contributors",
                        "subscribers_url": "https://api.github.com/repos/gautamanirudh/langchain/subscribers",
                        "subscription_url": "https://api.github.com/repos/gautamanirudh/langchain/subscription",
                        "commits_url": "https://api.github.com/repos/gautamanirudh/langchain/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/gautamanirudh/langchain/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/gautamanirudh/langchain/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/gautamanirudh/langchain/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/gautamanirudh/langchain/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/gautamanirudh/langchain/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/gautamanirudh/langchain/merges",
                        "archive_url": "https://api.github.com/repos/gautamanirudh/langchain/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/gautamanirudh/langchain/downloads",
                        "issues_url": "https://api.github.com/repos/gautamanirudh/langchain/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/gautamanirudh/langchain/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/gautamanirudh/langchain/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/gautamanirudh/langchain/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/gautamanirudh/langchain/labels{/name}",
                        "releases_url": "https://api.github.com/repos/gautamanirudh/langchain/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/gautamanirudh/langchain/deployments",
                        "created_at": "2023-10-27T08:25:33Z",
                        "updated_at": "2023-10-27T08:25:33Z",
                        "pushed_at": "2023-10-27T09:59:43Z",
                        "git_url": "git://github.com/gautamanirudh/langchain.git",
                        "ssh_url": "git@github.com:gautamanirudh/langchain.git",
                        "clone_url": "https://github.com/gautamanirudh/langchain.git",
                        "svn_url": "https://github.com/gautamanirudh/langchain",
                        "homepage": "https://python.langchain.com",
                        "size": 80820,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": null,
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "langchain-ai:master",
                    "ref": "master",
                    "sha": "d6acb3ed7e8338e42cbe25df38072b2bd15e0092",
                    "user": {
                        "login": "langchain-ai",
                        "id": 126733545,
                        "node_id": "O_kgDOB43M6Q",
                        "avatar_url": "https://avatars.githubusercontent.com/u/126733545?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/langchain-ai",
                        "html_url": "https://github.com/langchain-ai",
                        "followers_url": "https://api.github.com/users/langchain-ai/followers",
                        "following_url": "https://api.github.com/users/langchain-ai/following{/other_user}",
                        "gists_url": "https://api.github.com/users/langchain-ai/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/langchain-ai/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/langchain-ai/subscriptions",
                        "organizations_url": "https://api.github.com/users/langchain-ai/orgs",
                        "repos_url": "https://api.github.com/users/langchain-ai/repos",
                        "events_url": "https://api.github.com/users/langchain-ai/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/langchain-ai/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 552661142,
                        "node_id": "R_kgDOIPDwlg",
                        "name": "langchain",
                        "full_name": "langchain-ai/langchain",
                        "private": false,
                        "owner": {
                            "login": "langchain-ai",
                            "id": 126733545,
                            "node_id": "O_kgDOB43M6Q",
                            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/langchain-ai",
                            "html_url": "https://github.com/langchain-ai",
                            "followers_url": "https://api.github.com/users/langchain-ai/followers",
                            "following_url": "https://api.github.com/users/langchain-ai/following{/other_user}",
                            "gists_url": "https://api.github.com/users/langchain-ai/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/langchain-ai/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/langchain-ai/subscriptions",
                            "organizations_url": "https://api.github.com/users/langchain-ai/orgs",
                            "repos_url": "https://api.github.com/users/langchain-ai/repos",
                            "events_url": "https://api.github.com/users/langchain-ai/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/langchain-ai/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/langchain-ai/langchain",
                        "description": "\u26a1 Building applications with LLMs through composability \u26a1",
                        "fork": false,
                        "url": "https://api.github.com/repos/langchain-ai/langchain",
                        "forks_url": "https://api.github.com/repos/langchain-ai/langchain/forks",
                        "keys_url": "https://api.github.com/repos/langchain-ai/langchain/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/langchain-ai/langchain/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/langchain-ai/langchain/teams",
                        "hooks_url": "https://api.github.com/repos/langchain-ai/langchain/hooks",
                        "issue_events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/langchain-ai/langchain/events",
                        "assignees_url": "https://api.github.com/repos/langchain-ai/langchain/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/langchain-ai/langchain/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/langchain-ai/langchain/tags",
                        "blobs_url": "https://api.github.com/repos/langchain-ai/langchain/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/langchain-ai/langchain/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/langchain-ai/langchain/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/langchain-ai/langchain/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/langchain-ai/langchain/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/langchain-ai/langchain/languages",
                        "stargazers_url": "https://api.github.com/repos/langchain-ai/langchain/stargazers",
                        "contributors_url": "https://api.github.com/repos/langchain-ai/langchain/contributors",
                        "subscribers_url": "https://api.github.com/repos/langchain-ai/langchain/subscribers",
                        "subscription_url": "https://api.github.com/repos/langchain-ai/langchain/subscription",
                        "commits_url": "https://api.github.com/repos/langchain-ai/langchain/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/langchain-ai/langchain/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/langchain-ai/langchain/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/langchain-ai/langchain/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/langchain-ai/langchain/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/langchain-ai/langchain/merges",
                        "archive_url": "https://api.github.com/repos/langchain-ai/langchain/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/langchain-ai/langchain/downloads",
                        "issues_url": "https://api.github.com/repos/langchain-ai/langchain/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/langchain-ai/langchain/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/langchain-ai/langchain/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/langchain-ai/langchain/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/langchain-ai/langchain/labels{/name}",
                        "releases_url": "https://api.github.com/repos/langchain-ai/langchain/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/langchain-ai/langchain/deployments",
                        "created_at": "2022-10-17T02:58:36Z",
                        "updated_at": "2023-10-27T10:37:41Z",
                        "pushed_at": "2023-10-27T10:44:19Z",
                        "git_url": "git://github.com/langchain-ai/langchain.git",
                        "ssh_url": "git@github.com:langchain-ai/langchain.git",
                        "clone_url": "https://github.com/langchain-ai/langchain.git",
                        "svn_url": "https://github.com/langchain-ai/langchain",
                        "homepage": "https://python.langchain.com",
                        "size": 93905,
                        "stargazers_count": 65940,
                        "watchers_count": 65940,
                        "language": "Python",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 9447,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 2050,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 9447,
                        "open_issues": 2050,
                        "watchers": 65940,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12418"
                    },
                    "html": {
                        "href": "https://github.com/langchain-ai/langchain/pull/12418"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/issues/12418"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/issues/12418/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12418/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/pulls/12418/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/langchain-ai/langchain/statuses/9a1bba14d2a0497cfd27726f1592eb16840cd891"
                    }
                },
                "author_association": "NONE",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": true,
                "commits": 3,
                "additions": 54,
                "deletions": 7,
                "changed_files": 2
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:44:20Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32895959765",
        "type": "IssuesEvent",
        "actor": {
            "id": 72488598,
            "login": "Undertone0809",
            "display_login": "Undertone0809",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Undertone0809",
            "avatar_url": "https://avatars.githubusercontent.com/u/72488598?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "opened",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/events",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12417",
                "id": 1965249491,
                "node_id": "I_kwDOIPDwls51I1PT",
                "number": 12417,
                "title": "Error happened in PromptTemplate + PydanticOutputParser",
                "user": {
                    "login": "Undertone0809",
                    "id": 72488598,
                    "node_id": "MDQ6VXNlcjcyNDg4NTk4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/72488598?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Undertone0809",
                    "html_url": "https://github.com/Undertone0809",
                    "followers_url": "https://api.github.com/users/Undertone0809/followers",
                    "following_url": "https://api.github.com/users/Undertone0809/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Undertone0809/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Undertone0809/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Undertone0809/subscriptions",
                    "organizations_url": "https://api.github.com/users/Undertone0809/orgs",
                    "repos_url": "https://api.github.com/users/Undertone0809/repos",
                    "events_url": "https://api.github.com/users/Undertone0809/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Undertone0809/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2023-10-27T10:40:28Z",
                "updated_at": "2023-10-27T10:40:28Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### System Info\n\nlangchain v0.0.324\r\npython 3.10\r\nwindow10 amd64\n\n### Who can help?\n\n@hwchase17 @agola11 \n\n### Information\n\n- [ ] The official example notebooks/scripts\n- [ ] My own modified scripts\n\n### Related Components\n\n- [ ] LLMs/Chat Models\n- [ ] Embedding Models\n- [X] Prompts / Prompt Templates / Prompt Selectors\n- [X] Output Parsers\n- [ ] Document Loaders\n- [ ] Vector Stores / Retrievers\n- [ ] Memory\n- [ ] Agents / Agent Executors\n- [ ] Tools / Toolkits\n- [ ] Chains\n- [ ] Callbacks/Tracing\n- [ ] Async\n\n### Reproduction\n\nRun the following code, then you will see the error.\r\n\r\n```python\r\nimport os\r\nimport openai\r\nfrom typing import Dict, Any\r\n\r\nfrom dotenv import load_dotenv\r\nfrom langchain.output_parsers import PydanticOutputParser\r\nfrom langchain.prompts import PromptTemplate\r\nfrom langchain.pydantic_v1 import BaseModel, Field\r\n\r\nload_dotenv()\r\nopenai.api_key = os.getenv(\"OPENAI_API_KEY\")\r\n\r\n\r\nclass Task(BaseModel):\r\n    id: int = Field(description=\"Autoincrement task id\")\r\n    name: str = Field(description=\"task name\")\r\n    parameters: Dict[str, Any] = Field(description=\"task parameters\")\r\n    reason: str = Field(description=\"Reason for task execution\")\r\n\r\n\r\nclass CommandResponse(BaseModel):\r\n    task: Task = Field(description=\"control task\")\r\n\r\n\r\ndef main():\r\n    output_parser = PydanticOutputParser(pydantic_object=CommandResponse)\r\n    instruction = output_parser.get_format_instructions()\r\n\r\n    _prompt = \"\"\"\r\n    ## User Demand\r\n    {user_input}\r\n\r\n    ## Pending Control Task Queue\r\n    {task_queue}\r\n    \"\"\"\r\n\r\n    prompt = PromptTemplate(\r\n        template=f\"{_prompt}\\n{instruction}\",\r\n        input_variables=[\"user_input\", \"task_queue\"],\r\n    )\r\n\r\n    _input = prompt.format_prompt(user_input=\"hello\", task_queue=\"aaa\")\r\n    print(_input)\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n\r\n```\r\n\r\nerror log: \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:\\Programming\\Python\\Project\\promptulate\\private\\demo3.py\", line 67, in <module>\r\n    main()\r\n  File \"D:\\Programming\\Python\\Project\\promptulate\\private\\demo3.py\", line 48, in main\r\n    _input = prompt.format_prompt(user_input=\"hello\", task_queue=\"aaa\")\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\site-packages\\langchain\\prompts\\base.py\", line 159, in format_prompt\r\n    return StringPromptValue(text=self.format(**kwargs))\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\site-packages\\langchain\\prompts\\prompt.py\", line 119, in format\r\n    return DEFAULT_FORMATTER_MAPPING[self.template_format](self.template, **kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 161, in format\r\n    return self.vformat(format_string, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\site-packages\\langchain\\utils\\formatting.py\", line 29, in vformat\r\n    return super().vformat(format_string, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 165, in vformat\r\n    result, _ = self._vformat(format_string, args, kwargs, used_args, 2)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 205, in _vformat\r\n    obj, arg_used = self.get_field(field_name, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 270, in get_field\r\n    obj = self.get_value(first, args, kwargs)\r\n  File \"E:\\Programming\\anaconda\\envs\\prompt-me\\lib\\string.py\", line 227, in get_value\r\n    return kwargs[key]\r\nKeyError: '\"properties\"'\r\n```\r\n\r\nThis error occurs when there are multiple {} in the prompt, and the excess {} is introduced by PydanticOutputParser.\r\n\r\nThe instruction of PydanticOutputParser is as follows:\r\n\r\n```python\r\n    \"\"\"\r\n    The output should be formatted as a JSON instance that conforms to the JSON schema below.\r\n\r\n    As an example, for the schema {\"properties\": {\"foo\": {\"description\": \"a list of strings\", \"type\": \"array\", \"items\": {\"type\": \"string\"}}}, \"required\": [\"foo\"]}\r\n    the object {\"foo\": [\"bar\", \"baz\"]} is a well-formatted instance of the schema. The object {\"properties\": {\"foo\": [\"bar\", \"baz\"]}} is not well-formatted.\r\n\r\n    Here is the output schema:\r\n    ```\r\n    {\"properties\": {\"task\": {\"description\": \"control task\", \"allOf\": [{\"$ref\": \"#/definitions/Task\"}]}}, \"required\": [\"task\"], \"definitions\": {\"Task\": {\"title\": \"Task\", \"type\": \"object\", \"properties\": {\"id\": {\"title\": \"Id\", \"description\": \"Autoincrement task id\", \"type\": \"integer\"}, \"name\": {\"title\": \"Name\", \"description\": \"task name\", \"type\": \"string\"}, \"parameters\": {\"title\": \"Parameters\", \"description\": \"task parameters\", \"type\": \"object\"}, \"reason\": {\"title\": \"Reason\", \"description\": \"Reason for task execution\", \"type\": \"string\"}}, \"required\": [\"id\", \"name\", \"parameters\", \"reason\"]}}}\r\n    ```\r\n    \"\"\"\r\n```\n\n### Expected behavior\n\nNo error is expected.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12417/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:40:29Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32895959436",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 131922026,
            "login": "dosubot[bot]",
            "display_login": "dosubot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dosubot[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/131922026?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12410",
                "repository_url": "https://api.github.com/repos/langchain-ai/langchain",
                "labels_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12410/labels{/name}",
                "comments_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12410/comments",
                "events_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12410/events",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12410",
                "id": 1965059653,
                "node_id": "I_kwDOIPDwls51IG5F",
                "number": 12410,
                "title": "Issue: Passing multiple arbitrary parameters to a tool.",
                "user": {
                    "login": "Maximiliano-Villanueva",
                    "id": 76200479,
                    "node_id": "MDQ6VXNlcjc2MjAwNDc5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/76200479?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Maximiliano-Villanueva",
                    "html_url": "https://github.com/Maximiliano-Villanueva",
                    "followers_url": "https://api.github.com/users/Maximiliano-Villanueva/followers",
                    "following_url": "https://api.github.com/users/Maximiliano-Villanueva/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Maximiliano-Villanueva/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Maximiliano-Villanueva/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Maximiliano-Villanueva/subscriptions",
                    "organizations_url": "https://api.github.com/users/Maximiliano-Villanueva/orgs",
                    "repos_url": "https://api.github.com/users/Maximiliano-Villanueva/repos",
                    "events_url": "https://api.github.com/users/Maximiliano-Villanueva/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Maximiliano-Villanueva/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 4899412369,
                        "node_id": "LA_kwDOIPDwls8AAAABJAcZkQ",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/area:%20agent",
                        "name": "area: agent",
                        "color": "713C45",
                        "default": false,
                        "description": "Related to agents module"
                    },
                    {
                        "id": 5680700848,
                        "node_id": "LA_kwDOIPDwls8AAAABUpidsA",
                        "url": "https://api.github.com/repos/langchain-ai/langchain/labels/auto:question",
                        "name": "auto:question",
                        "color": "BFD4F2",
                        "default": false,
                        "description": "A specific question about the codebase, product, project, or how to use a feature"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2023-10-27T08:48:20Z",
                "updated_at": "2023-10-27T10:40:28Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Issue you'd like to raise.\r\n\r\nI'm building an agent to interact with neo4j with a custom chain (I'm aware of the chains already implemented for this case), my problem comes when I try to pass multiple arbitrary arguments to my tool. What i want to know is how can I propagate arguments from the creation of the agent / tool, and how to propagate arguments thorugh the execution of the AgentExecutor. Here is my code so far.\r\n\r\nI have a chain that I use as a tool:\r\n\r\n```\r\nclass LLMCypherGraphChain(Chain, BaseModel):\r\n    input_key: List[str] = [\"question\", \"content_type\"]\r\n```\r\nThen i create my AgentExecutor and use the initialize_agent method, I instanciate the class previously defined and use the run method as a function to execute.\r\n\r\n```\r\nclass GraphAgent(AgentExecutor):\r\n@classmethod\r\n    def initialize(cls,...)\r\n        cypher_tool = LLMCypherGraphChain(\r\n            llm=llm,\r\n            input_key=[\"question\", \"content_type\"],\r\n            graph=graph,\r\n            verbose=verbose,\r\n            memory=readonlymemory\r\n        )\r\n\r\n        # Load the tool configs that are needed.\r\n        tools = [\r\n            Tool(\r\n                name=\"Cypher search\",\r\n                func=cypher_tool.run,\r\n                description=\"\"\"\r\n                Utilize this tool to search within a database, specifically designed to answer x questions.\r\n                This specialized tool offers streamlined search capabilities to help you find the movie information you need with ease.\r\n                Input should be full question.\"\"\",  # noqa\r\n            )\r\n        ]\r\n\r\n        agent_chain = initialize_agent(\r\n            tools,\r\n            llm,\r\n            agent=AgentType.STRUCTURED_CHAT_ZERO_SHOT_REACT_DESCRIPTION,\r\n            verbose=verbose,\r\n            memory=memory,\r\n            return_intermediate_steps=True\r\n        )\r\n    def run(self, *args, **kwargs):\r\n        return super().run(*args, **kwargs)\r\n```\r\n\r\nSo at this point I only need to instanciate the agent and run it. \r\n\r\n```\r\nself.agent_executor = GraphAgent.initialize(\r\n           ...\r\n        )\r\n\r\nres = self.agent_executor({\"question\": \"my question\",\r\n                           \"input\": \"my question\",\r\n                           \"random_param\": \"my other param\"})\r\n```\r\n\r\nSo the problem is that I have this agent stored in a variable to avoid recreating it, that means self.agent_executor is only initialized once but then I want to be able to propagate the question and random_param to my tool.\r\n\r\nI have seen some posts about passing parameters to tools but none of them actualy solved this problem. I am not sure if using agent_kwargs in the initialize_agent would be a solution (I'm not quiet sure how that propagates to the tools) but that only would happen once, when the instanciation is done. \r\n\r\nRight now Im getting this error, so I am not understanding how arguments are propagated:\r\n\r\nERROR:root:A single string input was passed in, but this chain expects multiple inputs ({'question', 'content_type'}). When a chain expects multiple inputs, please call it by passing in a dictionary, eg `chain({'foo': 1, 'bar': 2})`\r\n\r\nAny help is appreciated! thanks!\r\n\r\n\r\n\r\n### Suggestion:\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/12410/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12410/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782692903",
                "html_url": "https://github.com/langchain-ai/langchain/issues/12410#issuecomment-1782692903",
                "issue_url": "https://api.github.com/repos/langchain-ai/langchain/issues/12410",
                "id": 1782692903,
                "node_id": "IC_kwDOIPDwls5qQbwn",
                "user": {
                    "login": "dosubot[bot]",
                    "id": 131922026,
                    "node_id": "BOT_kgDOB9z4ag",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7771049?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dosubot%5Bbot%5D",
                    "html_url": "https://github.com/apps/dosubot",
                    "followers_url": "https://api.github.com/users/dosubot%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/dosubot%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dosubot%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dosubot%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dosubot%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/dosubot%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/dosubot%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/dosubot%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dosubot%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "created_at": "2023-10-27T10:40:28Z",
                "updated_at": "2023-10-27T10:40:28Z",
                "author_association": "NONE",
                "body": "_\ud83e\udd16_\n<!-- Answer -->\n@baskaryan, I could use your expertise on this one, it seems to be a bit tricky.\n\n---\nThis response is meant to be useful and save you time. It is **not meant to be a precise solution**, but rather a starting point for your own research.\n\nHelp me be more useful! Please leave a \ud83d\udc4d if this is helpful and \ud83d\udc4e if it is irrelevant.\n\nIf you want to continue the conversation, start your reply with @dosu-bot.",
                "reactions": {
                    "url": "https://api.github.com/repos/langchain-ai/langchain/issues/comments/1782692903/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:40:28Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    },
    {
        "id": "32895893515",
        "type": "WatchEvent",
        "actor": {
            "id": 79299932,
            "login": "ChenVadder",
            "display_login": "ChenVadder",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ChenVadder",
            "avatar_url": "https://avatars.githubusercontent.com/u/79299932?"
        },
        "repo": {
            "id": 552661142,
            "name": "langchain-ai/langchain",
            "url": "https://api.github.com/repos/langchain-ai/langchain"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T10:37:41Z",
        "org": {
            "id": 126733545,
            "login": "langchain-ai",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/langchain-ai",
            "avatar_url": "https://avatars.githubusercontent.com/u/126733545?"
        }
    }
]