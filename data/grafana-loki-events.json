[
    {
        "id": "32897748251",
        "type": "PushEvent",
        "actor": {
            "id": 660283,
            "login": "shantanualsi",
            "display_login": "shantanualsi",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shantanualsi",
            "avatar_url": "https://avatars.githubusercontent.com/u/660283?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "repository_id": 129717717,
            "push_id": 15591275242,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/shantanu/cleanup-global-log",
            "head": "67189393fb90cbefd2555080d19aed4e8024e940",
            "before": "396fbaf2d625ec17269d40cc8b4ab7eba8b2e093",
            "commits": [
                {
                    "sha": "67189393fb90cbefd2555080d19aed4e8024e940",
                    "author": {
                        "email": "shantanu.alshi@grafana.com",
                        "name": "shantanualshi"
                    },
                    "message": "Format",
                    "distinct": true,
                    "url": "https://api.github.com/repos/grafana/loki/commits/67189393fb90cbefd2555080d19aed4e8024e940"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T11:55:14Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32897637040",
        "type": "PushEvent",
        "actor": {
            "id": 29139614,
            "login": "renovate[bot]",
            "display_login": "renovate",
            "gravatar_id": "",
            "url": "https://api.github.com/users/renovate[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/29139614?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "repository_id": 129717717,
            "push_id": 15591219429,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/deps-update/release-2.9.x-go-github.com/grafana/loki-vulnerability",
            "head": "1f40ff1786fe41d03e4df54032ca1d7701255555",
            "before": "7466ea886db3a375172c93c826079c340df7cec4",
            "commits": [
                {
                    "sha": "1f40ff1786fe41d03e4df54032ca1d7701255555",
                    "author": {
                        "email": "29139614+renovate[bot]@users.noreply.github.com",
                        "name": "renovate[bot]"
                    },
                    "message": "fix(deps): update github.com/grafana/loki digest to edae9d3 [security]",
                    "distinct": true,
                    "url": "https://api.github.com/repos/grafana/loki/commits/1f40ff1786fe41d03e4df54032ca1d7701255555"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T11:50:39Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32897602267",
        "type": "PushEvent",
        "actor": {
            "id": 29139614,
            "login": "renovate[bot]",
            "display_login": "renovate",
            "gravatar_id": "",
            "url": "https://api.github.com/users/renovate[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/29139614?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "repository_id": 129717717,
            "push_id": 15591202772,
            "size": 2,
            "distinct_size": 1,
            "ref": "refs/heads/deps-update/main-github.com-grafana-loki-operator-apis-loki-digest",
            "head": "5bed935905dff693822472022fe046f969d6f98e",
            "before": "3d0712beece9fac7177125fc7ea68e9365427321",
            "commits": [
                {
                    "sha": "edae9d32eaf170d88628efc6374d546ce5c68cd4",
                    "author": {
                        "email": "karsten.jeschkies@grafana.com",
                        "name": "Karsten Jeschkies"
                    },
                    "message": "Stop processing split queries on first error. (#11067)\n\n**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race\r\ncondition in the splitter has been there before but the change exposed\r\nit. When an error occurs, e.g. when query would be too large, the\r\nsplitter would return. However, there was a small time window when the\r\nloop could still be fed a new request. #10688 just amplified this effect\r\nbecause it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the\r\n[`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md)\r\nguide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n- [ ] If the change is worth mentioning in the release notes, add\r\n`add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are\r\ndocumented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in\r\n`production/helm/loki/Chart.yaml` and update\r\n`production/helm/loki/CHANGELOG.md` and\r\n`production/helm/loki/README.md`. [Example\r\nPR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option,\r\nupdate the `deprecated-config.yaml` and `deleted-config.yaml` files\r\nrespectively in the `tools/deprecated-config-checker` directory. <!--\r\nTODO(salvacorts): Add example PR -->\r\n\r\n---------\r\n\r\nCo-authored-by: Danny Kopping <dannykopping@gmail.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/edae9d32eaf170d88628efc6374d546ce5c68cd4"
                },
                {
                    "sha": "5bed935905dff693822472022fe046f969d6f98e",
                    "author": {
                        "email": "29139614+renovate[bot]@users.noreply.github.com",
                        "name": "renovate[bot]"
                    },
                    "message": "fix(deps): update github.com/grafana/loki/operator/apis/loki digest to edae9d3",
                    "distinct": true,
                    "url": "https://api.github.com/repos/grafana/loki/commits/5bed935905dff693822472022fe046f969d6f98e"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T11:49:11Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32897576389",
        "type": "PushEvent",
        "actor": {
            "id": 29139614,
            "login": "renovate[bot]",
            "display_login": "renovate",
            "gravatar_id": "",
            "url": "https://api.github.com/users/renovate[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/29139614?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "repository_id": 129717717,
            "push_id": 15591190289,
            "size": 2,
            "distinct_size": 1,
            "ref": "refs/heads/deps-update/main-go-github.com/grafana/loki-vulnerability",
            "head": "55b7e571bfc2d8e629893d3d6601343ff59f4798",
            "before": "e96c0bf231ca48c211708404a95769f3a6c73457",
            "commits": [
                {
                    "sha": "edae9d32eaf170d88628efc6374d546ce5c68cd4",
                    "author": {
                        "email": "karsten.jeschkies@grafana.com",
                        "name": "Karsten Jeschkies"
                    },
                    "message": "Stop processing split queries on first error. (#11067)\n\n**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race\r\ncondition in the splitter has been there before but the change exposed\r\nit. When an error occurs, e.g. when query would be too large, the\r\nsplitter would return. However, there was a small time window when the\r\nloop could still be fed a new request. #10688 just amplified this effect\r\nbecause it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the\r\n[`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md)\r\nguide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n- [ ] If the change is worth mentioning in the release notes, add\r\n`add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are\r\ndocumented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in\r\n`production/helm/loki/Chart.yaml` and update\r\n`production/helm/loki/CHANGELOG.md` and\r\n`production/helm/loki/README.md`. [Example\r\nPR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option,\r\nupdate the `deprecated-config.yaml` and `deleted-config.yaml` files\r\nrespectively in the `tools/deprecated-config-checker` directory. <!--\r\nTODO(salvacorts): Add example PR -->\r\n\r\n---------\r\n\r\nCo-authored-by: Danny Kopping <dannykopping@gmail.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/edae9d32eaf170d88628efc6374d546ce5c68cd4"
                },
                {
                    "sha": "55b7e571bfc2d8e629893d3d6601343ff59f4798",
                    "author": {
                        "email": "29139614+renovate[bot]@users.noreply.github.com",
                        "name": "renovate[bot]"
                    },
                    "message": "fix(deps): update github.com/grafana/loki digest to edae9d3 [security]",
                    "distinct": true,
                    "url": "https://api.github.com/repos/grafana/loki/commits/55b7e571bfc2d8e629893d3d6601343ff59f4798"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T11:48:07Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32897504339",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 43478413,
            "login": "grafanabot",
            "display_login": "grafanabot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/grafanabot",
            "avatar_url": "https://avatars.githubusercontent.com/u/43478413?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/grafana/loki/issues/11067",
                "repository_url": "https://api.github.com/repos/grafana/loki",
                "labels_url": "https://api.github.com/repos/grafana/loki/issues/11067/labels{/name}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11067/comments",
                "events_url": "https://api.github.com/repos/grafana/loki/issues/11067/events",
                "html_url": "https://github.com/grafana/loki/pull/11067",
                "id": 1965245544,
                "node_id": "PR_kwDOB7tV1c5d9UPE",
                "number": 11067,
                "title": "Stop processing split queries on first error.",
                "user": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1785651610,
                        "node_id": "MDU6TGFiZWwxNzg1NjUxNjEw",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/S",
                        "name": "size/S",
                        "color": "5D9801",
                        "default": false,
                        "description": null
                    },
                    {
                        "id": 4839356569,
                        "node_id": "LA_kwDOB7tV1c8AAAABIHK4mQ",
                        "url": "https://api.github.com/repos/grafana/loki/labels/type/bug",
                        "name": "type/bug",
                        "color": "F64B7D",
                        "default": false,
                        "description": "Somehing is not working as expected"
                    },
                    {
                        "id": 6134386714,
                        "node_id": "LA_kwDOB7tV1c8AAAABbaNQGg",
                        "url": "https://api.github.com/repos/grafana/loki/labels/backport%20k173",
                        "name": "backport k173",
                        "color": "2595E4",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2023-10-27T10:37:47Z",
                "updated_at": "2023-10-27T11:45:04Z",
                "closed_at": "2023-10-27T11:44:15Z",
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                    "html_url": "https://github.com/grafana/loki/pull/11067",
                    "diff_url": "https://github.com/grafana/loki/pull/11067.diff",
                    "patch_url": "https://github.com/grafana/loki/pull/11067.patch",
                    "merged_at": "2023-10-27T11:44:15Z"
                },
                "body": "**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race condition in the splitter has been there before but the change exposed it. When an error occurs, e.g. when query would be too large, the splitter would return. However, there was a small time window when the loop could still be fed a new request. #10688 just amplified this effect because it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/issues/11067/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/grafana/loki/issues/11067/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/grafana/loki/issues/comments/1782774671",
                "html_url": "https://github.com/grafana/loki/pull/11067#issuecomment-1782774671",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11067",
                "id": 1782774671,
                "node_id": "IC_kwDOB7tV1c5qQvuP",
                "user": {
                    "login": "grafanabot",
                    "id": 43478413,
                    "node_id": "MDQ6VXNlcjQzNDc4NDEz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/43478413?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/grafanabot",
                    "html_url": "https://github.com/grafanabot",
                    "followers_url": "https://api.github.com/users/grafanabot/followers",
                    "following_url": "https://api.github.com/users/grafanabot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/grafanabot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/grafanabot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/grafanabot/subscriptions",
                    "organizations_url": "https://api.github.com/users/grafanabot/orgs",
                    "repos_url": "https://api.github.com/users/grafanabot/repos",
                    "events_url": "https://api.github.com/users/grafanabot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/grafanabot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:45:03Z",
                "updated_at": "2023-10-27T11:45:03Z",
                "author_association": "CONTRIBUTOR",
                "body": "The backport to `k173` failed:\n```\nThe process '/usr/bin/git' failed with exit code 1\n```\nTo backport manually, run these commands in your terminal:\n```bash\n# Fetch latest updates from GitHub\ngit fetch\n# Create a new branch\ngit switch --create backport-11067-to-k173 origin/k173\n# Cherry-pick the merged commit of this pull request and resolve the conflicts\ngit cherry-pick -x edae9d32eaf170d88628efc6374d546ce5c68cd4\n```\nWhen the conflicts are resolved, stage and commit the changes:\n```\ngit add . && git cherry-pick --continue\n```\nIf you have the [GitHub CLI](https://cli.github.com/) installed:\n```bash\n# Push the branch to GitHub:\ngit push --set-upstream origin backport-11067-to-k173\n# Create the PR body template\nPR_BODY=$(gh pr view 11067 --json body --template 'Backport edae9d32eaf170d88628efc6374d546ce5c68cd4 from #11067{{ \"\\n\\n---\\n\\n\" }}{{ index . \"body\" }}')\n# Create the PR on GitHub\necho \"${PR_BODY}\" | gh pr create --title \"[k173] Stop processing split queries on first error.\" --body-file - --label \"size/S\" --label \"type/bug\" --label \"backport\" --base k173 --milestone k173 --web\n```\nOr, if you don't have the GitHub CLI installed ([we recommend you install it!](https://github.com/cli/cli#installation)):\n```bash\n# Push the branch to GitHub:\ngit push --set-upstream origin backport-11067-to-k173\n\n# Create a pull request where the `base` branch is `k173` and the `compare`/`head` branch is `backport-11067-to-k173`.\n\n# Remove the local backport branch\ngit switch main\ngit branch -D backport-11067-to-k173\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/issues/comments/1782774671/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:45:04Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32897485970",
        "type": "PushEvent",
        "actor": {
            "id": 2418440,
            "login": "jeschkies",
            "display_login": "jeschkies",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeschkies",
            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "repository_id": 129717717,
            "push_id": 15591146532,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/main",
            "head": "edae9d32eaf170d88628efc6374d546ce5c68cd4",
            "before": "2327789b5506d0ccc00d931195da17a2d47bf236",
            "commits": [
                {
                    "sha": "edae9d32eaf170d88628efc6374d546ce5c68cd4",
                    "author": {
                        "email": "karsten.jeschkies@grafana.com",
                        "name": "Karsten Jeschkies"
                    },
                    "message": "Stop processing split queries on first error. (#11067)\n\n**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race\r\ncondition in the splitter has been there before but the change exposed\r\nit. When an error occurs, e.g. when query would be too large, the\r\nsplitter would return. However, there was a small time window when the\r\nloop could still be fed a new request. #10688 just amplified this effect\r\nbecause it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the\r\n[`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md)\r\nguide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n- [ ] If the change is worth mentioning in the release notes, add\r\n`add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are\r\ndocumented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in\r\n`production/helm/loki/Chart.yaml` and update\r\n`production/helm/loki/CHANGELOG.md` and\r\n`production/helm/loki/README.md`. [Example\r\nPR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option,\r\nupdate the `deprecated-config.yaml` and `deleted-config.yaml` files\r\nrespectively in the `tools/deprecated-config-checker` directory. <!--\r\nTODO(salvacorts): Add example PR -->\r\n\r\n---------\r\n\r\nCo-authored-by: Danny Kopping <dannykopping@gmail.com>",
                    "distinct": true,
                    "url": "https://api.github.com/repos/grafana/loki/commits/edae9d32eaf170d88628efc6374d546ce5c68cd4"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T11:44:17Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32897485652",
        "type": "PullRequestEvent",
        "actor": {
            "id": 2418440,
            "login": "jeschkies",
            "display_login": "jeschkies",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeschkies",
            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "closed",
            "number": 11067,
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "id": 1576354756,
                "node_id": "PR_kwDOB7tV1c5d9UPE",
                "html_url": "https://github.com/grafana/loki/pull/11067",
                "diff_url": "https://github.com/grafana/loki/pull/11067.diff",
                "patch_url": "https://github.com/grafana/loki/pull/11067.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11067",
                "number": 11067,
                "state": "closed",
                "locked": false,
                "title": "Stop processing split queries on first error.",
                "user": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race condition in the splitter has been there before but the change exposed it. When an error occurs, e.g. when query would be too large, the splitter would return. However, there was a small time window when the loop could still be fed a new request. #10688 just amplified this effect because it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "created_at": "2023-10-27T10:37:47Z",
                "updated_at": "2023-10-27T11:44:15Z",
                "closed_at": "2023-10-27T11:44:15Z",
                "merged_at": "2023-10-27T11:44:15Z",
                "merge_commit_sha": "edae9d32eaf170d88628efc6374d546ce5c68cd4",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1785651610,
                        "node_id": "MDU6TGFiZWwxNzg1NjUxNjEw",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/S",
                        "name": "size/S",
                        "color": "5D9801",
                        "default": false,
                        "description": null
                    },
                    {
                        "id": 4839356569,
                        "node_id": "LA_kwDOB7tV1c8AAAABIHK4mQ",
                        "url": "https://api.github.com/repos/grafana/loki/labels/type/bug",
                        "name": "type/bug",
                        "color": "F64B7D",
                        "default": false,
                        "description": "Somehing is not working as expected"
                    },
                    {
                        "id": 6134386714,
                        "node_id": "LA_kwDOB7tV1c8AAAABbaNQGg",
                        "url": "https://api.github.com/repos/grafana/loki/labels/backport%20k173",
                        "name": "backport k173",
                        "color": "2595E4",
                        "default": false,
                        "description": ""
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/11067/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/11067/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11067/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/e6154e36267d6e9095f7aba2b6b573a5f86f2033",
                "head": {
                    "label": "jeschkies:karsten/fix-race-condition",
                    "ref": "karsten/fix-race-condition",
                    "sha": "e6154e36267d6e9095f7aba2b6b573a5f86f2033",
                    "user": {
                        "login": "jeschkies",
                        "id": 2418440,
                        "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/jeschkies",
                        "html_url": "https://github.com/jeschkies",
                        "followers_url": "https://api.github.com/users/jeschkies/followers",
                        "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                        "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                        "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                        "repos_url": "https://api.github.com/users/jeschkies/repos",
                        "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 302633074,
                        "node_id": "MDEwOlJlcG9zaXRvcnkzMDI2MzMwNzQ=",
                        "name": "loki",
                        "full_name": "jeschkies/loki",
                        "private": false,
                        "owner": {
                            "login": "jeschkies",
                            "id": 2418440,
                            "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/jeschkies",
                            "html_url": "https://github.com/jeschkies",
                            "followers_url": "https://api.github.com/users/jeschkies/followers",
                            "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                            "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                            "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                            "repos_url": "https://api.github.com/users/jeschkies/repos",
                            "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/jeschkies/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": true,
                        "url": "https://api.github.com/repos/jeschkies/loki",
                        "forks_url": "https://api.github.com/repos/jeschkies/loki/forks",
                        "keys_url": "https://api.github.com/repos/jeschkies/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/jeschkies/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/jeschkies/loki/teams",
                        "hooks_url": "https://api.github.com/repos/jeschkies/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/jeschkies/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/jeschkies/loki/events",
                        "assignees_url": "https://api.github.com/repos/jeschkies/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/jeschkies/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/jeschkies/loki/tags",
                        "blobs_url": "https://api.github.com/repos/jeschkies/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/jeschkies/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/jeschkies/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/jeschkies/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/jeschkies/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/jeschkies/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/jeschkies/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/jeschkies/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/jeschkies/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/jeschkies/loki/subscription",
                        "commits_url": "https://api.github.com/repos/jeschkies/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/jeschkies/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/jeschkies/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/jeschkies/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/jeschkies/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/jeschkies/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/jeschkies/loki/merges",
                        "archive_url": "https://api.github.com/repos/jeschkies/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/jeschkies/loki/downloads",
                        "issues_url": "https://api.github.com/repos/jeschkies/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/jeschkies/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/jeschkies/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/jeschkies/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/jeschkies/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/jeschkies/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/jeschkies/loki/deployments",
                        "created_at": "2020-10-09T12:21:13Z",
                        "updated_at": "2022-01-26T12:11:54Z",
                        "pushed_at": "2023-10-27T11:37:35Z",
                        "git_url": "git://github.com/jeschkies/loki.git",
                        "ssh_url": "git@github.com:jeschkies/loki.git",
                        "clone_url": "https://github.com/jeschkies/loki.git",
                        "svn_url": "https://github.com/jeschkies/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 140245,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 1,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 13,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 1,
                        "open_issues": 13,
                        "watchers": 0,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T11:44:15Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199905,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1261,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1261,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/e6154e36267d6e9095f7aba2b6b573a5f86f2033"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": {
                    "enabled_by": {
                        "login": "jeschkies",
                        "id": 2418440,
                        "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/jeschkies",
                        "html_url": "https://github.com/jeschkies",
                        "followers_url": "https://api.github.com/users/jeschkies/followers",
                        "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                        "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                        "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                        "repos_url": "https://api.github.com/users/jeschkies/repos",
                        "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "merge_method": "squash",
                    "commit_title": "Stop processing split queries on first error. (#11067)",
                    "commit_message": "**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race\r\ncondition in the splitter has been there before but the change exposed\r\nit. When an error occurs, e.g. when query would be too large, the\r\nsplitter would return. However, there was a small time window when the\r\nloop could still be fed a new request. #10688 just amplified this effect\r\nbecause it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the\r\n[`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md)\r\nguide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n- [ ] If the change is worth mentioning in the release notes, add\r\n`add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are\r\ndocumented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in\r\n`production/helm/loki/Chart.yaml` and update\r\n`production/helm/loki/CHANGELOG.md` and\r\n`production/helm/loki/README.md`. [Example\r\nPR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option,\r\nupdate the `deprecated-config.yaml` and `deleted-config.yaml` files\r\nrespectively in the `tools/deprecated-config-checker` directory. <!--\r\nTODO(salvacorts): Add example PR -->\r\n\r\n---------\r\n\r\nCo-authored-by: Danny Kopping <dannykopping@gmail.com>"
                },
                "active_lock_reason": null,
                "merged": true,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "comments": 1,
                "review_comments": 2,
                "maintainer_can_modify": false,
                "commits": 2,
                "additions": 7,
                "deletions": 3,
                "changed_files": 4
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:44:16Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32896821326",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 43478413,
            "login": "grafanabot",
            "display_login": "grafanabot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/grafanabot",
            "avatar_url": "https://avatars.githubusercontent.com/u/43478413?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/grafana/loki/issues/11067",
                "repository_url": "https://api.github.com/repos/grafana/loki",
                "labels_url": "https://api.github.com/repos/grafana/loki/issues/11067/labels{/name}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11067/comments",
                "events_url": "https://api.github.com/repos/grafana/loki/issues/11067/events",
                "html_url": "https://github.com/grafana/loki/pull/11067",
                "id": 1965245544,
                "node_id": "PR_kwDOB7tV1c5d9UPE",
                "number": 11067,
                "title": "Stop processing split queries on first error.",
                "user": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1785651610,
                        "node_id": "MDU6TGFiZWwxNzg1NjUxNjEw",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/S",
                        "name": "size/S",
                        "color": "5D9801",
                        "default": false,
                        "description": null
                    },
                    {
                        "id": 6134386714,
                        "node_id": "LA_kwDOB7tV1c8AAAABbaNQGg",
                        "url": "https://api.github.com/repos/grafana/loki/labels/backport%20k173",
                        "name": "backport k173",
                        "color": "2595E4",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-27T10:37:47Z",
                "updated_at": "2023-10-27T11:16:17Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                    "html_url": "https://github.com/grafana/loki/pull/11067",
                    "diff_url": "https://github.com/grafana/loki/pull/11067.diff",
                    "patch_url": "https://github.com/grafana/loki/pull/11067.patch",
                    "merged_at": null
                },
                "body": "**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race condition in the splitter has been there before but the change exposed it. When an error occurs, e.g. when query would be too large, the splitter would return. However, there was a small time window when the loop could still be fed a new request. #10688 just amplified this effect because it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/issues/11067/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/grafana/loki/issues/11067/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/grafana/loki/issues/comments/1782737055",
                "html_url": "https://github.com/grafana/loki/pull/11067#issuecomment-1782737055",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11067",
                "id": 1782737055,
                "node_id": "IC_kwDOB7tV1c5qQmif",
                "user": {
                    "login": "grafanabot",
                    "id": 43478413,
                    "node_id": "MDQ6VXNlcjQzNDc4NDEz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/43478413?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/grafanabot",
                    "html_url": "https://github.com/grafanabot",
                    "followers_url": "https://api.github.com/users/grafanabot/followers",
                    "following_url": "https://api.github.com/users/grafanabot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/grafanabot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/grafanabot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/grafanabot/subscriptions",
                    "organizations_url": "https://api.github.com/users/grafanabot/orgs",
                    "repos_url": "https://api.github.com/users/grafanabot/repos",
                    "events_url": "https://api.github.com/users/grafanabot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/grafanabot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:16:17Z",
                "updated_at": "2023-10-27T11:16:17Z",
                "author_association": "CONTRIBUTOR",
                "body": "Hello @jeschkies!\nBackport pull requests need to be either:\n* Pull requests which address bugs,\n* Urgent fixes which need product approval, in order to get merged,\n* Docs changes.\n\nPlease, if the current pull request addresses a bug fix, label it with the `type/bug` label.\nIf it already has the product approval, please add the `product-approved` label. For docs changes, please add the `type/docs` label.\nIf the pull request modifies CI behaviour, please add the `type/ci` label.\nIf none of the above applies, please consider removing the backport label and target the next major/minor release.\nThanks!",
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/issues/comments/1782737055/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:16:17Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32896611449",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 2418440,
            "login": "jeschkies",
            "display_login": "jeschkies",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeschkies",
            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/comments/1374416070",
                "pull_request_review_id": 1701532584,
                "id": 1374416070,
                "node_id": "PRRC_kwDOB7tV1c5R6-zG",
                "diff_hunk": "@@ -207,7 +207,7 @@ func TestMetricsTripperware(t *testing.T) {\n \tqueryCount, queryHandler = counter()\n \th = getQueryAndStatsHandler(queryHandler, statsHandler)\n \t_, err = tpw.Wrap(h).Do(ctx, lreq)\n-\trequire.Error(t, err)\n+\trequire.ErrorContains(t, err, \"query too large to execute on a single querie\")",
                "path": "pkg/querier/queryrange/roundtrip_test.go",
                "commit_id": "e58d7580180765d981da38b52394d4258edd02e1",
                "original_commit_id": "e58d7580180765d981da38b52394d4258edd02e1",
                "user": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": ":joy: ",
                "created_at": "2023-10-27T11:07:34Z",
                "updated_at": "2023-10-27T11:07:34Z",
                "html_url": "https://github.com/grafana/loki/pull/11067#discussion_r1374416070",
                "pull_request_url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments/1374416070"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067#discussion_r1374416070"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/pulls/comments/1374416070/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 210,
                "original_line": 210,
                "side": "RIGHT",
                "in_reply_to_id": 1374413294,
                "original_position": 5,
                "position": 5,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "id": 1576354756,
                "node_id": "PR_kwDOB7tV1c5d9UPE",
                "html_url": "https://github.com/grafana/loki/pull/11067",
                "diff_url": "https://github.com/grafana/loki/pull/11067.diff",
                "patch_url": "https://github.com/grafana/loki/pull/11067.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11067",
                "number": 11067,
                "state": "open",
                "locked": false,
                "title": "Stop processing split queries on first error.",
                "user": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race condition in the splitter has been there before but the change exposed it. When an error occurs, e.g. when query would be too large, the splitter would return. However, there was a small time window when the loop could still be fed a new request. #10688 just amplified this effect because it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "created_at": "2023-10-27T10:37:47Z",
                "updated_at": "2023-10-27T11:07:34Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "66628ce1ae171c6ffd8d1869569c824d1d3331fd",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1785651610,
                        "node_id": "MDU6TGFiZWwxNzg1NjUxNjEw",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/S",
                        "name": "size/S",
                        "color": "5D9801",
                        "default": false,
                        "description": null
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/11067/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/11067/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11067/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/e58d7580180765d981da38b52394d4258edd02e1",
                "head": {
                    "label": "jeschkies:karsten/fix-race-condition",
                    "ref": "karsten/fix-race-condition",
                    "sha": "e58d7580180765d981da38b52394d4258edd02e1",
                    "user": {
                        "login": "jeschkies",
                        "id": 2418440,
                        "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/jeschkies",
                        "html_url": "https://github.com/jeschkies",
                        "followers_url": "https://api.github.com/users/jeschkies/followers",
                        "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                        "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                        "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                        "repos_url": "https://api.github.com/users/jeschkies/repos",
                        "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 302633074,
                        "node_id": "MDEwOlJlcG9zaXRvcnkzMDI2MzMwNzQ=",
                        "name": "loki",
                        "full_name": "jeschkies/loki",
                        "private": false,
                        "owner": {
                            "login": "jeschkies",
                            "id": 2418440,
                            "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/jeschkies",
                            "html_url": "https://github.com/jeschkies",
                            "followers_url": "https://api.github.com/users/jeschkies/followers",
                            "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                            "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                            "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                            "repos_url": "https://api.github.com/users/jeschkies/repos",
                            "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/jeschkies/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": true,
                        "url": "https://api.github.com/repos/jeschkies/loki",
                        "forks_url": "https://api.github.com/repos/jeschkies/loki/forks",
                        "keys_url": "https://api.github.com/repos/jeschkies/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/jeschkies/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/jeschkies/loki/teams",
                        "hooks_url": "https://api.github.com/repos/jeschkies/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/jeschkies/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/jeschkies/loki/events",
                        "assignees_url": "https://api.github.com/repos/jeschkies/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/jeschkies/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/jeschkies/loki/tags",
                        "blobs_url": "https://api.github.com/repos/jeschkies/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/jeschkies/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/jeschkies/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/jeschkies/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/jeschkies/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/jeschkies/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/jeschkies/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/jeschkies/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/jeschkies/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/jeschkies/loki/subscription",
                        "commits_url": "https://api.github.com/repos/jeschkies/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/jeschkies/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/jeschkies/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/jeschkies/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/jeschkies/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/jeschkies/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/jeschkies/loki/merges",
                        "archive_url": "https://api.github.com/repos/jeschkies/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/jeschkies/loki/downloads",
                        "issues_url": "https://api.github.com/repos/jeschkies/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/jeschkies/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/jeschkies/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/jeschkies/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/jeschkies/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/jeschkies/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/jeschkies/loki/deployments",
                        "created_at": "2020-10-09T12:21:13Z",
                        "updated_at": "2022-01-26T12:11:54Z",
                        "pushed_at": "2023-10-27T10:38:04Z",
                        "git_url": "git://github.com/jeschkies/loki.git",
                        "ssh_url": "git@github.com:jeschkies/loki.git",
                        "clone_url": "https://github.com/jeschkies/loki.git",
                        "svn_url": "https://github.com/jeschkies/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 140245,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 1,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 13,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 1,
                        "open_issues": 13,
                        "watchers": 0,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T11:05:34Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199905,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/e58d7580180765d981da38b52394d4258edd02e1"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:07:34Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32896611364",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 2418440,
            "login": "jeschkies",
            "display_login": "jeschkies",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeschkies",
            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701532584,
                "node_id": "PRR_kwDOB7tV1c5la1Oo",
                "user": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": null,
                "commit_id": "e58d7580180765d981da38b52394d4258edd02e1",
                "submitted_at": "2023-10-27T11:07:34Z",
                "state": "commented",
                "html_url": "https://github.com/grafana/loki/pull/11067#pullrequestreview-1701532584",
                "pull_request_url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067#pullrequestreview-1701532584"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "id": 1576354756,
                "node_id": "PR_kwDOB7tV1c5d9UPE",
                "html_url": "https://github.com/grafana/loki/pull/11067",
                "diff_url": "https://github.com/grafana/loki/pull/11067.diff",
                "patch_url": "https://github.com/grafana/loki/pull/11067.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11067",
                "number": 11067,
                "state": "open",
                "locked": false,
                "title": "Stop processing split queries on first error.",
                "user": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race condition in the splitter has been there before but the change exposed it. When an error occurs, e.g. when query would be too large, the splitter would return. However, there was a small time window when the loop could still be fed a new request. #10688 just amplified this effect because it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "created_at": "2023-10-27T10:37:47Z",
                "updated_at": "2023-10-27T11:07:34Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "66628ce1ae171c6ffd8d1869569c824d1d3331fd",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1785651610,
                        "node_id": "MDU6TGFiZWwxNzg1NjUxNjEw",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/S",
                        "name": "size/S",
                        "color": "5D9801",
                        "default": false,
                        "description": null
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/11067/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/11067/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11067/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/e58d7580180765d981da38b52394d4258edd02e1",
                "head": {
                    "label": "jeschkies:karsten/fix-race-condition",
                    "ref": "karsten/fix-race-condition",
                    "sha": "e58d7580180765d981da38b52394d4258edd02e1",
                    "user": {
                        "login": "jeschkies",
                        "id": 2418440,
                        "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/jeschkies",
                        "html_url": "https://github.com/jeschkies",
                        "followers_url": "https://api.github.com/users/jeschkies/followers",
                        "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                        "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                        "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                        "repos_url": "https://api.github.com/users/jeschkies/repos",
                        "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 302633074,
                        "node_id": "MDEwOlJlcG9zaXRvcnkzMDI2MzMwNzQ=",
                        "name": "loki",
                        "full_name": "jeschkies/loki",
                        "private": false,
                        "owner": {
                            "login": "jeschkies",
                            "id": 2418440,
                            "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/jeschkies",
                            "html_url": "https://github.com/jeschkies",
                            "followers_url": "https://api.github.com/users/jeschkies/followers",
                            "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                            "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                            "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                            "repos_url": "https://api.github.com/users/jeschkies/repos",
                            "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/jeschkies/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": true,
                        "url": "https://api.github.com/repos/jeschkies/loki",
                        "forks_url": "https://api.github.com/repos/jeschkies/loki/forks",
                        "keys_url": "https://api.github.com/repos/jeschkies/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/jeschkies/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/jeschkies/loki/teams",
                        "hooks_url": "https://api.github.com/repos/jeschkies/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/jeschkies/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/jeschkies/loki/events",
                        "assignees_url": "https://api.github.com/repos/jeschkies/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/jeschkies/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/jeschkies/loki/tags",
                        "blobs_url": "https://api.github.com/repos/jeschkies/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/jeschkies/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/jeschkies/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/jeschkies/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/jeschkies/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/jeschkies/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/jeschkies/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/jeschkies/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/jeschkies/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/jeschkies/loki/subscription",
                        "commits_url": "https://api.github.com/repos/jeschkies/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/jeschkies/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/jeschkies/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/jeschkies/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/jeschkies/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/jeschkies/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/jeschkies/loki/merges",
                        "archive_url": "https://api.github.com/repos/jeschkies/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/jeschkies/loki/downloads",
                        "issues_url": "https://api.github.com/repos/jeschkies/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/jeschkies/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/jeschkies/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/jeschkies/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/jeschkies/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/jeschkies/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/jeschkies/loki/deployments",
                        "created_at": "2020-10-09T12:21:13Z",
                        "updated_at": "2022-01-26T12:11:54Z",
                        "pushed_at": "2023-10-27T10:38:04Z",
                        "git_url": "git://github.com/jeschkies/loki.git",
                        "ssh_url": "git@github.com:jeschkies/loki.git",
                        "clone_url": "https://github.com/jeschkies/loki.git",
                        "svn_url": "https://github.com/jeschkies/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 140245,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 1,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 13,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 1,
                        "open_issues": 13,
                        "watchers": 0,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T11:05:34Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199905,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/e58d7580180765d981da38b52394d4258edd02e1"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:07:35Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32896606924",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 42814411,
            "login": "MichelHollands",
            "display_login": "MichelHollands",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MichelHollands",
            "avatar_url": "https://avatars.githubusercontent.com/u/42814411?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/comments/1374415934",
                "pull_request_review_id": 1701532351,
                "id": 1374415934,
                "node_id": "PRRC_kwDOB7tV1c5R6-w-",
                "diff_hunk": "@@ -195,7 +195,7 @@ func New(cfg Config, schemaCfg config.SchemaConfig, storageCfg storage.Config, s\n \t\tpendingTasks: makePendingTasks(pendingTasksInitialCap),\n \t}\n \n-\tg.queueMetrics = queue.NewMetrics(\"bloom_gateway\", reg)\n+\tg.queueMetrics = queue.NewMetrics(\"bloom_gateway\", reg, \"loki\")",
                "path": "pkg/bloomgateway/bloomgateway.go",
                "commit_id": "ba1bb293d4d506d2f0effce17f4d7ef5fb929f7f",
                "original_commit_id": "d7e7e2e19a76fc637a14519f67afab49cd2a2425",
                "user": {
                    "login": "MichelHollands",
                    "id": 42814411,
                    "node_id": "MDQ6VXNlcjQyODE0NDEx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/42814411?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/MichelHollands",
                    "html_url": "https://github.com/MichelHollands",
                    "followers_url": "https://api.github.com/users/MichelHollands/followers",
                    "following_url": "https://api.github.com/users/MichelHollands/following{/other_user}",
                    "gists_url": "https://api.github.com/users/MichelHollands/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/MichelHollands/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/MichelHollands/subscriptions",
                    "organizations_url": "https://api.github.com/users/MichelHollands/orgs",
                    "repos_url": "https://api.github.com/users/MichelHollands/repos",
                    "events_url": "https://api.github.com/users/MichelHollands/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/MichelHollands/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Constants were added. It does look kinda busy though so please have a look.",
                "created_at": "2023-10-27T11:07:23Z",
                "updated_at": "2023-10-27T11:07:23Z",
                "html_url": "https://github.com/grafana/loki/pull/11025#discussion_r1374415934",
                "pull_request_url": "https://api.github.com/repos/grafana/loki/pulls/11025",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments/1374415934"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11025#discussion_r1374415934"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/pulls/comments/1374415934/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": null,
                "original_line": 198,
                "side": "RIGHT",
                "in_reply_to_id": 1372941481,
                "original_position": 5,
                "position": null,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/11025",
                "id": 1572769976,
                "node_id": "PR_kwDOB7tV1c5dvpC4",
                "html_url": "https://github.com/grafana/loki/pull/11025",
                "diff_url": "https://github.com/grafana/loki/pull/11025.diff",
                "patch_url": "https://github.com/grafana/loki/pull/11025.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11025",
                "number": 11025,
                "state": "open",
                "locked": false,
                "title": "Use metrics namespace for more metrics",
                "user": {
                    "login": "MichelHollands",
                    "id": 42814411,
                    "node_id": "MDQ6VXNlcjQyODE0NDEx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/42814411?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/MichelHollands",
                    "html_url": "https://github.com/MichelHollands",
                    "followers_url": "https://api.github.com/users/MichelHollands/followers",
                    "following_url": "https://api.github.com/users/MichelHollands/following{/other_user}",
                    "gists_url": "https://api.github.com/users/MichelHollands/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/MichelHollands/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/MichelHollands/subscriptions",
                    "organizations_url": "https://api.github.com/users/MichelHollands/orgs",
                    "repos_url": "https://api.github.com/users/MichelHollands/repos",
                    "events_url": "https://api.github.com/users/MichelHollands/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/MichelHollands/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\n\r\nUse the metrics namespace setting instead of hardcoding to `cortex`. This is a follow up to (and based on) https://github.com/grafana/loki/pull/11014.\r\n\r\n**Checklist**\r\n- [x] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [X] Tests updated\r\n- [x] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "created_at": "2023-10-25T11:59:18Z",
                "updated_at": "2023-10-27T11:07:23Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "9595a24796d01f41ed0c07f03200dcbb2ef6a507",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1802624314,
                        "node_id": "MDU6TGFiZWwxODAyNjI0MzE0",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/XL",
                        "name": "size/XL",
                        "color": "C32607",
                        "default": false,
                        "description": null
                    },
                    {
                        "id": 4324982691,
                        "node_id": "LA_kwDOB7tV1c8AAAABAcn_ow",
                        "url": "https://api.github.com/repos/grafana/loki/labels/type/docs",
                        "name": "type/docs",
                        "color": "1d76db",
                        "default": false,
                        "description": "Issues related to technical documentation; the Docs Squad uses this label across many repositories"
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/11025/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/11025/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11025/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/ba1bb293d4d506d2f0effce17f4d7ef5fb929f7f",
                "head": {
                    "label": "grafana:use_metrics_namespace_for_more_metrics",
                    "ref": "use_metrics_namespace_for_more_metrics",
                    "sha": "ba1bb293d4d506d2f0effce17f4d7ef5fb929f7f",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T11:05:34Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199905,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T11:05:34Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199905,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11025"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11025"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11025/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/ba1bb293d4d506d2f0effce17f4d7ef5fb929f7f"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:07:23Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32896606869",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 42814411,
            "login": "MichelHollands",
            "display_login": "MichelHollands",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MichelHollands",
            "avatar_url": "https://avatars.githubusercontent.com/u/42814411?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701532351,
                "node_id": "PRR_kwDOB7tV1c5la1K_",
                "user": {
                    "login": "MichelHollands",
                    "id": 42814411,
                    "node_id": "MDQ6VXNlcjQyODE0NDEx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/42814411?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/MichelHollands",
                    "html_url": "https://github.com/MichelHollands",
                    "followers_url": "https://api.github.com/users/MichelHollands/followers",
                    "following_url": "https://api.github.com/users/MichelHollands/following{/other_user}",
                    "gists_url": "https://api.github.com/users/MichelHollands/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/MichelHollands/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/MichelHollands/subscriptions",
                    "organizations_url": "https://api.github.com/users/MichelHollands/orgs",
                    "repos_url": "https://api.github.com/users/MichelHollands/repos",
                    "events_url": "https://api.github.com/users/MichelHollands/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/MichelHollands/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": null,
                "commit_id": "d7e7e2e19a76fc637a14519f67afab49cd2a2425",
                "submitted_at": "2023-10-27T11:07:23Z",
                "state": "commented",
                "html_url": "https://github.com/grafana/loki/pull/11025#pullrequestreview-1701532351",
                "pull_request_url": "https://api.github.com/repos/grafana/loki/pulls/11025",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11025#pullrequestreview-1701532351"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/11025",
                "id": 1572769976,
                "node_id": "PR_kwDOB7tV1c5dvpC4",
                "html_url": "https://github.com/grafana/loki/pull/11025",
                "diff_url": "https://github.com/grafana/loki/pull/11025.diff",
                "patch_url": "https://github.com/grafana/loki/pull/11025.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11025",
                "number": 11025,
                "state": "open",
                "locked": false,
                "title": "Use metrics namespace for more metrics",
                "user": {
                    "login": "MichelHollands",
                    "id": 42814411,
                    "node_id": "MDQ6VXNlcjQyODE0NDEx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/42814411?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/MichelHollands",
                    "html_url": "https://github.com/MichelHollands",
                    "followers_url": "https://api.github.com/users/MichelHollands/followers",
                    "following_url": "https://api.github.com/users/MichelHollands/following{/other_user}",
                    "gists_url": "https://api.github.com/users/MichelHollands/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/MichelHollands/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/MichelHollands/subscriptions",
                    "organizations_url": "https://api.github.com/users/MichelHollands/orgs",
                    "repos_url": "https://api.github.com/users/MichelHollands/repos",
                    "events_url": "https://api.github.com/users/MichelHollands/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/MichelHollands/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\n\r\nUse the metrics namespace setting instead of hardcoding to `cortex`. This is a follow up to (and based on) https://github.com/grafana/loki/pull/11014.\r\n\r\n**Checklist**\r\n- [x] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [X] Tests updated\r\n- [x] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "created_at": "2023-10-25T11:59:18Z",
                "updated_at": "2023-10-27T11:07:23Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "9595a24796d01f41ed0c07f03200dcbb2ef6a507",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1802624314,
                        "node_id": "MDU6TGFiZWwxODAyNjI0MzE0",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/XL",
                        "name": "size/XL",
                        "color": "C32607",
                        "default": false,
                        "description": null
                    },
                    {
                        "id": 4324982691,
                        "node_id": "LA_kwDOB7tV1c8AAAABAcn_ow",
                        "url": "https://api.github.com/repos/grafana/loki/labels/type/docs",
                        "name": "type/docs",
                        "color": "1d76db",
                        "default": false,
                        "description": "Issues related to technical documentation; the Docs Squad uses this label across many repositories"
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/11025/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/11025/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11025/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/ba1bb293d4d506d2f0effce17f4d7ef5fb929f7f",
                "head": {
                    "label": "grafana:use_metrics_namespace_for_more_metrics",
                    "ref": "use_metrics_namespace_for_more_metrics",
                    "sha": "ba1bb293d4d506d2f0effce17f4d7ef5fb929f7f",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T11:05:34Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199905,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T11:05:34Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199905,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11025"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11025"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11025/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/ba1bb293d4d506d2f0effce17f4d7ef5fb929f7f"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:07:24Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32896568576",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 373762,
            "login": "dannykopping",
            "display_login": "dannykopping",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dannykopping",
            "avatar_url": "https://avatars.githubusercontent.com/u/373762?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701527943,
                "node_id": "PRR_kwDOB7tV1c5la0GH",
                "user": {
                    "login": "dannykopping",
                    "id": 373762,
                    "node_id": "MDQ6VXNlcjM3Mzc2Mg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/373762?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dannykopping",
                    "html_url": "https://github.com/dannykopping",
                    "followers_url": "https://api.github.com/users/dannykopping/followers",
                    "following_url": "https://api.github.com/users/dannykopping/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dannykopping/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dannykopping/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dannykopping/subscriptions",
                    "organizations_url": "https://api.github.com/users/dannykopping/orgs",
                    "repos_url": "https://api.github.com/users/dannykopping/repos",
                    "events_url": "https://api.github.com/users/dannykopping/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dannykopping/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Was super pairing up with you to find and fix this \ud83d\udcaa great work!",
                "commit_id": "e58d7580180765d981da38b52394d4258edd02e1",
                "submitted_at": "2023-10-27T11:05:51Z",
                "state": "approved",
                "html_url": "https://github.com/grafana/loki/pull/11067#pullrequestreview-1701527943",
                "pull_request_url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "author_association": "COLLABORATOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067#pullrequestreview-1701527943"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "id": 1576354756,
                "node_id": "PR_kwDOB7tV1c5d9UPE",
                "html_url": "https://github.com/grafana/loki/pull/11067",
                "diff_url": "https://github.com/grafana/loki/pull/11067.diff",
                "patch_url": "https://github.com/grafana/loki/pull/11067.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11067",
                "number": 11067,
                "state": "open",
                "locked": false,
                "title": "Stop processing split queries on first error.",
                "user": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race condition in the splitter has been there before but the change exposed it. When an error occurs, e.g. when query would be too large, the splitter would return. However, there was a small time window when the loop could still be fed a new request. #10688 just amplified this effect because it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "created_at": "2023-10-27T10:37:47Z",
                "updated_at": "2023-10-27T11:05:51Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "66628ce1ae171c6ffd8d1869569c824d1d3331fd",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1785651610,
                        "node_id": "MDU6TGFiZWwxNzg1NjUxNjEw",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/S",
                        "name": "size/S",
                        "color": "5D9801",
                        "default": false,
                        "description": null
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/11067/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/11067/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11067/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/e58d7580180765d981da38b52394d4258edd02e1",
                "head": {
                    "label": "jeschkies:karsten/fix-race-condition",
                    "ref": "karsten/fix-race-condition",
                    "sha": "e58d7580180765d981da38b52394d4258edd02e1",
                    "user": {
                        "login": "jeschkies",
                        "id": 2418440,
                        "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/jeschkies",
                        "html_url": "https://github.com/jeschkies",
                        "followers_url": "https://api.github.com/users/jeschkies/followers",
                        "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                        "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                        "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                        "repos_url": "https://api.github.com/users/jeschkies/repos",
                        "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 302633074,
                        "node_id": "MDEwOlJlcG9zaXRvcnkzMDI2MzMwNzQ=",
                        "name": "loki",
                        "full_name": "jeschkies/loki",
                        "private": false,
                        "owner": {
                            "login": "jeschkies",
                            "id": 2418440,
                            "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/jeschkies",
                            "html_url": "https://github.com/jeschkies",
                            "followers_url": "https://api.github.com/users/jeschkies/followers",
                            "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                            "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                            "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                            "repos_url": "https://api.github.com/users/jeschkies/repos",
                            "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/jeschkies/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": true,
                        "url": "https://api.github.com/repos/jeschkies/loki",
                        "forks_url": "https://api.github.com/repos/jeschkies/loki/forks",
                        "keys_url": "https://api.github.com/repos/jeschkies/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/jeschkies/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/jeschkies/loki/teams",
                        "hooks_url": "https://api.github.com/repos/jeschkies/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/jeschkies/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/jeschkies/loki/events",
                        "assignees_url": "https://api.github.com/repos/jeschkies/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/jeschkies/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/jeschkies/loki/tags",
                        "blobs_url": "https://api.github.com/repos/jeschkies/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/jeschkies/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/jeschkies/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/jeschkies/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/jeschkies/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/jeschkies/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/jeschkies/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/jeschkies/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/jeschkies/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/jeschkies/loki/subscription",
                        "commits_url": "https://api.github.com/repos/jeschkies/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/jeschkies/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/jeschkies/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/jeschkies/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/jeschkies/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/jeschkies/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/jeschkies/loki/merges",
                        "archive_url": "https://api.github.com/repos/jeschkies/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/jeschkies/loki/downloads",
                        "issues_url": "https://api.github.com/repos/jeschkies/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/jeschkies/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/jeschkies/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/jeschkies/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/jeschkies/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/jeschkies/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/jeschkies/loki/deployments",
                        "created_at": "2020-10-09T12:21:13Z",
                        "updated_at": "2022-01-26T12:11:54Z",
                        "pushed_at": "2023-10-27T10:38:04Z",
                        "git_url": "git://github.com/jeschkies/loki.git",
                        "ssh_url": "git@github.com:jeschkies/loki.git",
                        "clone_url": "https://github.com/jeschkies/loki.git",
                        "svn_url": "https://github.com/jeschkies/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 140245,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 1,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 13,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 1,
                        "open_issues": 13,
                        "watchers": 0,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T11:05:34Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199905,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/e58d7580180765d981da38b52394d4258edd02e1"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:05:52Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32896568701",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 373762,
            "login": "dannykopping",
            "display_login": "dannykopping",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dannykopping",
            "avatar_url": "https://avatars.githubusercontent.com/u/373762?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/comments/1374413294",
                "pull_request_review_id": 1701527943,
                "id": 1374413294,
                "node_id": "PRRC_kwDOB7tV1c5R6-Hu",
                "diff_hunk": "@@ -207,7 +207,7 @@ func TestMetricsTripperware(t *testing.T) {\n \tqueryCount, queryHandler = counter()\n \th = getQueryAndStatsHandler(queryHandler, statsHandler)\n \t_, err = tpw.Wrap(h).Do(ctx, lreq)\n-\trequire.Error(t, err)\n+\trequire.ErrorContains(t, err, \"query too large to execute on a single querie\")",
                "path": "pkg/querier/queryrange/roundtrip_test.go",
                "commit_id": "e58d7580180765d981da38b52394d4258edd02e1",
                "original_commit_id": "e58d7580180765d981da38b52394d4258edd02e1",
                "user": {
                    "login": "dannykopping",
                    "id": 373762,
                    "node_id": "MDQ6VXNlcjM3Mzc2Mg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/373762?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dannykopping",
                    "html_url": "https://github.com/dannykopping",
                    "followers_url": "https://api.github.com/users/dannykopping/followers",
                    "following_url": "https://api.github.com/users/dannykopping/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dannykopping/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dannykopping/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dannykopping/subscriptions",
                    "organizations_url": "https://api.github.com/users/dannykopping/orgs",
                    "repos_url": "https://api.github.com/users/dannykopping/repos",
                    "events_url": "https://api.github.com/users/dannykopping/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dannykopping/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Tiniest of nits, triggered my OCD \ud83d\ude1b feel free to ignore\r\n\r\n```suggestion\r\n\trequire.ErrorContains(t, err, \"query too large to execute on a single querier\")\r\n```",
                "created_at": "2023-10-27T11:04:52Z",
                "updated_at": "2023-10-27T11:05:51Z",
                "html_url": "https://github.com/grafana/loki/pull/11067#discussion_r1374413294",
                "pull_request_url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "author_association": "COLLABORATOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments/1374413294"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067#discussion_r1374413294"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/pulls/comments/1374413294/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 210,
                "original_line": 210,
                "side": "RIGHT",
                "original_position": 5,
                "position": 5,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "id": 1576354756,
                "node_id": "PR_kwDOB7tV1c5d9UPE",
                "html_url": "https://github.com/grafana/loki/pull/11067",
                "diff_url": "https://github.com/grafana/loki/pull/11067.diff",
                "patch_url": "https://github.com/grafana/loki/pull/11067.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11067",
                "number": 11067,
                "state": "open",
                "locked": false,
                "title": "Stop processing split queries on first error.",
                "user": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race condition in the splitter has been there before but the change exposed it. When an error occurs, e.g. when query would be too large, the splitter would return. However, there was a small time window when the loop could still be fed a new request. #10688 just amplified this effect because it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "created_at": "2023-10-27T10:37:47Z",
                "updated_at": "2023-10-27T11:05:51Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "66628ce1ae171c6ffd8d1869569c824d1d3331fd",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1785651610,
                        "node_id": "MDU6TGFiZWwxNzg1NjUxNjEw",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/S",
                        "name": "size/S",
                        "color": "5D9801",
                        "default": false,
                        "description": null
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/11067/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/11067/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11067/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/e58d7580180765d981da38b52394d4258edd02e1",
                "head": {
                    "label": "jeschkies:karsten/fix-race-condition",
                    "ref": "karsten/fix-race-condition",
                    "sha": "e58d7580180765d981da38b52394d4258edd02e1",
                    "user": {
                        "login": "jeschkies",
                        "id": 2418440,
                        "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/jeschkies",
                        "html_url": "https://github.com/jeschkies",
                        "followers_url": "https://api.github.com/users/jeschkies/followers",
                        "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                        "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                        "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                        "repos_url": "https://api.github.com/users/jeschkies/repos",
                        "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 302633074,
                        "node_id": "MDEwOlJlcG9zaXRvcnkzMDI2MzMwNzQ=",
                        "name": "loki",
                        "full_name": "jeschkies/loki",
                        "private": false,
                        "owner": {
                            "login": "jeschkies",
                            "id": 2418440,
                            "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/jeschkies",
                            "html_url": "https://github.com/jeschkies",
                            "followers_url": "https://api.github.com/users/jeschkies/followers",
                            "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                            "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                            "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                            "repos_url": "https://api.github.com/users/jeschkies/repos",
                            "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/jeschkies/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": true,
                        "url": "https://api.github.com/repos/jeschkies/loki",
                        "forks_url": "https://api.github.com/repos/jeschkies/loki/forks",
                        "keys_url": "https://api.github.com/repos/jeschkies/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/jeschkies/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/jeschkies/loki/teams",
                        "hooks_url": "https://api.github.com/repos/jeschkies/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/jeschkies/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/jeschkies/loki/events",
                        "assignees_url": "https://api.github.com/repos/jeschkies/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/jeschkies/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/jeschkies/loki/tags",
                        "blobs_url": "https://api.github.com/repos/jeschkies/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/jeschkies/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/jeschkies/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/jeschkies/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/jeschkies/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/jeschkies/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/jeschkies/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/jeschkies/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/jeschkies/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/jeschkies/loki/subscription",
                        "commits_url": "https://api.github.com/repos/jeschkies/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/jeschkies/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/jeschkies/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/jeschkies/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/jeschkies/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/jeschkies/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/jeschkies/loki/merges",
                        "archive_url": "https://api.github.com/repos/jeschkies/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/jeschkies/loki/downloads",
                        "issues_url": "https://api.github.com/repos/jeschkies/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/jeschkies/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/jeschkies/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/jeschkies/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/jeschkies/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/jeschkies/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/jeschkies/loki/deployments",
                        "created_at": "2020-10-09T12:21:13Z",
                        "updated_at": "2022-01-26T12:11:54Z",
                        "pushed_at": "2023-10-27T10:38:04Z",
                        "git_url": "git://github.com/jeschkies/loki.git",
                        "ssh_url": "git@github.com:jeschkies/loki.git",
                        "clone_url": "https://github.com/jeschkies/loki.git",
                        "svn_url": "https://github.com/jeschkies/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 140245,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 1,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 13,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 1,
                        "open_issues": 13,
                        "watchers": 0,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T11:05:34Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199905,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/e58d7580180765d981da38b52394d4258edd02e1"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:04:52Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32896568667",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 373762,
            "login": "dannykopping",
            "display_login": "dannykopping",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dannykopping",
            "avatar_url": "https://avatars.githubusercontent.com/u/373762?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701527943,
                "node_id": "PRR_kwDOB7tV1c5la0GH",
                "user": {
                    "login": "dannykopping",
                    "id": 373762,
                    "node_id": "MDQ6VXNlcjM3Mzc2Mg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/373762?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dannykopping",
                    "html_url": "https://github.com/dannykopping",
                    "followers_url": "https://api.github.com/users/dannykopping/followers",
                    "following_url": "https://api.github.com/users/dannykopping/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dannykopping/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dannykopping/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dannykopping/subscriptions",
                    "organizations_url": "https://api.github.com/users/dannykopping/orgs",
                    "repos_url": "https://api.github.com/users/dannykopping/repos",
                    "events_url": "https://api.github.com/users/dannykopping/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dannykopping/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Was super pairing up with you to find and fix this \ud83d\udcaa great work!",
                "commit_id": "e58d7580180765d981da38b52394d4258edd02e1",
                "submitted_at": "2023-10-27T11:05:51Z",
                "state": "approved",
                "html_url": "https://github.com/grafana/loki/pull/11067#pullrequestreview-1701527943",
                "pull_request_url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "author_association": "COLLABORATOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067#pullrequestreview-1701527943"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "id": 1576354756,
                "node_id": "PR_kwDOB7tV1c5d9UPE",
                "html_url": "https://github.com/grafana/loki/pull/11067",
                "diff_url": "https://github.com/grafana/loki/pull/11067.diff",
                "patch_url": "https://github.com/grafana/loki/pull/11067.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11067",
                "number": 11067,
                "state": "open",
                "locked": false,
                "title": "Stop processing split queries on first error.",
                "user": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race condition in the splitter has been there before but the change exposed it. When an error occurs, e.g. when query would be too large, the splitter would return. However, there was a small time window when the loop could still be fed a new request. #10688 just amplified this effect because it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "created_at": "2023-10-27T10:37:47Z",
                "updated_at": "2023-10-27T11:05:51Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "66628ce1ae171c6ffd8d1869569c824d1d3331fd",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1785651610,
                        "node_id": "MDU6TGFiZWwxNzg1NjUxNjEw",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/S",
                        "name": "size/S",
                        "color": "5D9801",
                        "default": false,
                        "description": null
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/11067/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/11067/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11067/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/e58d7580180765d981da38b52394d4258edd02e1",
                "head": {
                    "label": "jeschkies:karsten/fix-race-condition",
                    "ref": "karsten/fix-race-condition",
                    "sha": "e58d7580180765d981da38b52394d4258edd02e1",
                    "user": {
                        "login": "jeschkies",
                        "id": 2418440,
                        "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/jeschkies",
                        "html_url": "https://github.com/jeschkies",
                        "followers_url": "https://api.github.com/users/jeschkies/followers",
                        "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                        "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                        "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                        "repos_url": "https://api.github.com/users/jeschkies/repos",
                        "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 302633074,
                        "node_id": "MDEwOlJlcG9zaXRvcnkzMDI2MzMwNzQ=",
                        "name": "loki",
                        "full_name": "jeschkies/loki",
                        "private": false,
                        "owner": {
                            "login": "jeschkies",
                            "id": 2418440,
                            "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/jeschkies",
                            "html_url": "https://github.com/jeschkies",
                            "followers_url": "https://api.github.com/users/jeschkies/followers",
                            "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                            "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                            "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                            "repos_url": "https://api.github.com/users/jeschkies/repos",
                            "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/jeschkies/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": true,
                        "url": "https://api.github.com/repos/jeschkies/loki",
                        "forks_url": "https://api.github.com/repos/jeschkies/loki/forks",
                        "keys_url": "https://api.github.com/repos/jeschkies/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/jeschkies/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/jeschkies/loki/teams",
                        "hooks_url": "https://api.github.com/repos/jeschkies/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/jeschkies/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/jeschkies/loki/events",
                        "assignees_url": "https://api.github.com/repos/jeschkies/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/jeschkies/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/jeschkies/loki/tags",
                        "blobs_url": "https://api.github.com/repos/jeschkies/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/jeschkies/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/jeschkies/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/jeschkies/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/jeschkies/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/jeschkies/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/jeschkies/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/jeschkies/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/jeschkies/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/jeschkies/loki/subscription",
                        "commits_url": "https://api.github.com/repos/jeschkies/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/jeschkies/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/jeschkies/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/jeschkies/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/jeschkies/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/jeschkies/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/jeschkies/loki/merges",
                        "archive_url": "https://api.github.com/repos/jeschkies/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/jeschkies/loki/downloads",
                        "issues_url": "https://api.github.com/repos/jeschkies/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/jeschkies/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/jeschkies/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/jeschkies/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/jeschkies/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/jeschkies/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/jeschkies/loki/deployments",
                        "created_at": "2020-10-09T12:21:13Z",
                        "updated_at": "2022-01-26T12:11:54Z",
                        "pushed_at": "2023-10-27T10:38:04Z",
                        "git_url": "git://github.com/jeschkies/loki.git",
                        "ssh_url": "git@github.com:jeschkies/loki.git",
                        "clone_url": "https://github.com/jeschkies/loki.git",
                        "svn_url": "https://github.com/jeschkies/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 140245,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 1,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 13,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 1,
                        "open_issues": 13,
                        "watchers": 0,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T11:05:34Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199905,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/e58d7580180765d981da38b52394d4258edd02e1"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:05:52Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32896560491",
        "type": "PushEvent",
        "actor": {
            "id": 42814411,
            "login": "MichelHollands",
            "display_login": "MichelHollands",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MichelHollands",
            "avatar_url": "https://avatars.githubusercontent.com/u/42814411?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "repository_id": 129717717,
            "push_id": 15590691111,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/use_metrics_namespace_for_more_metrics",
            "head": "ba1bb293d4d506d2f0effce17f4d7ef5fb929f7f",
            "before": "81c11936ffc75a0409a71f7bb303452e8d3f12a0",
            "commits": [
                {
                    "sha": "ba1bb293d4d506d2f0effce17f4d7ef5fb929f7f",
                    "author": {
                        "email": "michel.hollands@gmail.com",
                        "name": "Michel Hollands"
                    },
                    "message": "Use constants\n\nSigned-off-by: Michel Hollands <michel.hollands@gmail.com>",
                    "distinct": true,
                    "url": "https://api.github.com/repos/grafana/loki/commits/ba1bb293d4d506d2f0effce17f4d7ef5fb929f7f"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T11:05:32Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32896300737",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 47757441,
            "login": "Pexers",
            "display_login": "Pexers",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Pexers",
            "avatar_url": "https://avatars.githubusercontent.com/u/47757441?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/grafana/loki/issues/9492",
                "repository_url": "https://api.github.com/repos/grafana/loki",
                "labels_url": "https://api.github.com/repos/grafana/loki/issues/9492/labels{/name}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/9492/comments",
                "events_url": "https://api.github.com/repos/grafana/loki/issues/9492/events",
                "html_url": "https://github.com/grafana/loki/issues/9492",
                "id": 1719055259,
                "node_id": "I_kwDOB7tV1c5mdrOb",
                "number": 9492,
                "title": "Grafana-Loki Datasource pompt \"Data source connected, but no labels received\"",
                "user": {
                    "login": "JunejaTung",
                    "id": 13295415,
                    "node_id": "MDQ6VXNlcjEzMjk1NDE1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/13295415?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/JunejaTung",
                    "html_url": "https://github.com/JunejaTung",
                    "followers_url": "https://api.github.com/users/JunejaTung/followers",
                    "following_url": "https://api.github.com/users/JunejaTung/following{/other_user}",
                    "gists_url": "https://api.github.com/users/JunejaTung/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/JunejaTung/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/JunejaTung/subscriptions",
                    "organizations_url": "https://api.github.com/users/JunejaTung/orgs",
                    "repos_url": "https://api.github.com/users/JunejaTung/repos",
                    "events_url": "https://api.github.com/users/JunejaTung/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/JunejaTung/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 4839356569,
                        "node_id": "LA_kwDOB7tV1c8AAAABIHK4mQ",
                        "url": "https://api.github.com/repos/grafana/loki/labels/type/bug",
                        "name": "type/bug",
                        "color": "F64B7D",
                        "default": false,
                        "description": "Somehing is not working as expected"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 8,
                "created_at": "2023-05-22T07:16:42Z",
                "updated_at": "2023-10-27T10:54:50Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "<!-- Please keep the structure below, or your issue may be closed. -->\r\n\r\n**Describe the bug**\r\nThe data source of loki in grafana prompt \"\r\nData source connected, but no labels received. Verify that Loki and Promtail is configured properly.\".\r\n![image](https://github.com/grafana/loki/assets/13295415/e74d27f6-2680-4559-9dd9-6580318d88a8)\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n 1. Started Loki (SHA or version)\r\ndocker run --name loki -d -v $(pwd):/mnt/config -v /etc/localtime:/etc/localtime -p 3100:3100 grafana/loki:2.8.0 -config.file=/mnt/config/loki-local-config.yaml -log.level=debug\r\n```\r\nauth_enabled: false\r\nserver:\r\n  http_listen_port: 3100\r\ncommon:\r\n  instance_addr: 127.0.0.1\r\n  path_prefix: /tmp/loki\r\n  storage:\r\n    filesystem:\r\n      chunks_directory: /tmp/loki/chunks\r\n      rules_directory: /tmp/loki/rules\r\n  replication_factor: 1\r\n  ring:\r\n    kvstore:\r\n      store: inmemory\r\ningester:\r\n  lifecycler:\r\n    address: 127.0.0.1\r\n    ring:\r\n      kvstore:\r\n        store: inmemory\r\n      replication_factor: 1\r\n    final_sleep: 0s\r\n  chunk_idle_period: 5m\r\n  chunk_retain_period: 30s\r\n  max_transfer_retries: 0\r\nquery_range:\r\n  results_cache:\r\n    cache:\r\n      embedded_cache:\r\n        enabled: true\r\n        max_size_mb: 100\r\nschema_config:\r\n  configs:\r\n    - from: 2020-10-24\r\n      store: boltdb-shipper\r\n      object_store: filesystem\r\n      schema: v11\r\n      index:\r\n        prefix: index_\r\n        period: 24h\r\nlimits_config:\r\n  enforce_metric_name: false\r\n  reject_old_samples: true\r\n  reject_old_samples_max_age: 168h\r\n  ingestion_rate_mb: 30  #\u4fee\u6539\u6bcf\u7528\u6237\u6444\u5165\u901f\u7387\u9650\u5236\uff0c\u5373\u6bcf\u79d2\u6837\u672c\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a4M\r\n  ingestion_burst_size_mb: 15  #\u4fee\u6539\u6bcf\u7528\u6237\u6444\u5165\u901f\u7387\u9650\u5236\uff0c\u5373\u6bcf\u79d2\u6837\u672c\u91cf\uff0c\u9ed8\u8ba4\u503c\u4e3a6M\r\nanalytics:\r\n  reporting_enabled: false\r\n```\r\n2. Started Promtail (SHA or version) to tail '...'\r\ndocker run --name promtail -d -v $(pwd):/mnt/config -v /h3coasis/local_volumes/h3c_logs:/h3coasis/local_volumes/h3c_logs -v /var/log:/var/log -v /etc/localtime:/etc/localtime --link loki grafana/promtail:2.8.0 -config.file=/mnt/config/promtail-local-config_p2.yaml -log.level=debug\r\n```\r\nserver:\r\n  http_listen_port: 9080\r\npositions:\r\n  filename: /tmp/positions.yaml\r\nclients:\r\n  - url: http://172.30.254.1:3100/loki/api/v1/push\r\nscrape_configs:\r\n- job_name: service\r\n  static_configs:\r\n  - targets:\r\n      - 172.30.254.1\r\n    labels:\r\n      job: servicelogs\r\n      __path__: /home/azureuser/logs/*.log\r\ntarget_config:\r\n  sync_period: \"60s\"\r\n```\r\n3. Query: `{} term`\r\n/loki/api/v1/labels ---> {\"status\":\"success\",\"data\":[\"filename\",\"job\"]}\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\nCan query labels in grafana\r\n\r\n**Environment:**\r\n - Infrastructure: [e.g., Kubernetes, bare-metal, laptop]\r\n - Deployment tool: [e.g., helm, jsonnet]\r\n1. the lo address of the machine is 172.30.254.1\r\n2. the container of loki and promtail  running , and there no error or exception in the out logs.\r\n```\r\n[root@iotvm132 loki]# docker ps | grep loki\r\nfe96c59df253        grafana/loki:2.8.0                            \"/usr/bin/loki -conf\u2026\"   45 hours ago        Up 45 hours         0.0.0.0:3100->3100/tcp   loki\r\n[root@iotvm132 loki]# docker exec -ti fe96c59df253 /bin/ash\r\n/ $ cd /tmp/loki/\r\n/tmp/loki $ ls\r\nboltdb-shipper-active  boltdb-shipper-cache   chunks                 compactor              rules                  wal\r\n/tmp/loki $\r\n```\r\n```\r\n[root@iotvm132 loki]# docker exec -ti 34c641d8b159 /bin/bash\r\nroot@34c641d8b159:/# more /tmp/positions.yaml\r\npositions:\r\n  /h3coasis/local_volumes/h3c_logs/services/172.17.0.5-iotsmartlockas-20230520.0.log: \"39404\"\r\n  /h3coasis/local_volumes/h3c_logs/services/172.17.0.11-iotsmartlocakcfg-20230520.0.log: \"19952\"\r\n  /h3coasis/local_volumes/h3c_logs/services/172.17.0.11-iotsmartlocakcfg-20230521.0.log: \"6956\"\r\n  /h3coasis/local_volumes/h3c_logs/services/172.17.0.12-iotsmartlockns-20230520.0.log: \"19870\"\r\n  /h3coasis/local_volumes/h3c_logs/services/172.17.0.13-iotsmartlocakcfg-20230520.0.log: \"13010\"\r\n  /h3coasis/local_volumes/h3c_logs/services/172.17.0.16-iotsmartlockas-20230520.0.log: \"3138\"\r\n  /h3coasis/local_volumes/h3c_logs/services/172.17.0.22-iotsmartlockas-20230520.0.log: \"1543\"\r\n  /h3coasis/local_volumes/h3c_logs/services/172.17.0.23-iotsmartlocakcfg-20230520.0.log: \"784\"\r\n  /h3coasis/local_volumes/h3c_logs/services/172.17.0.24-iotsmartlockns-20230520.0.log: \"886\"\r\n  /h3coasis/local_volumes/h3c_logs/services/172.17.0.33-iotsmartlockns-20230520.0.log: \"5061\"\r\n  /h3coasis/local_volumes/h3c_logs/services/172.17.0.33-iotsmartlockns-20230521.0.log: \"8856\"\r\n  /h3coasis/local_volumes/h3c_logs/services/172.17.0.33-iotsmartlockns-20230522.0.log: \"5535\"\r\n  /h3coasis/local_volumes/h3c_logs/services/iot230mgr.log: \"10407\"\r\n  /h3coasis/local_volumes/h3c_logs/services/iotgateway.2023-05-20.0.log: \"831\"\r\n  /h3coasis/local_volumes/h3c_logs/services/iotlora.2023-05-20-00.log: \"2308\"\r\n  /h3coasis/local_volumes/h3c_logs/services/iotzigbeeserver.log: \"206285\"\r\n  /h3coasis/local_volumes/h3c_logs/services/licsmgr2.2023-05-20.0.log: \"102810\"\r\n  /h3coasis/local_volumes/h3c_logs/services/licsmgr2.2023-05-21.0.log: \"93152\"\r\n  /h3coasis/local_volumes/h3c_logs/services/licsmgr2.log: \"64029\"\r\nroot@34c641d8b159:/#\r\n```\r\n\r\n**Screenshots, Promtail config, or terminal output**\r\nIf applicable, add any output to help explain your problem.\r\n1. I'm Sure the promtail has read logs from scrape_configed;\r\n2. Sure the Communication  within promtail and loki is normal;\r\n3. Not sure the promtail had send logs/labels to loki\uff0chow to fix this ? I had try an wron push api in promtail config\uff0cthere has error logs \uff0cbut no any logs about push when with right push api\u2019\r\n4. Not sure the labels query is normal ,how to define it?\r\n/loki/api/v1/labels ---> {\"status\":\"success\",\"data\":[\"filename\",\"job\"]}\r\n5. the version of loki and promtail  are the same 2.8.0, run in docker,  \r\n6. the version of grafan is 6.4.4 , run with default namespace in kubernetes\r\n```\r\n[root@iotvm132 loki]# docker images | grep grafana\r\ngrafana/promtail                                       2.8.0               b062beaf992b        6 weeks ago         197MB\r\ngrafana/loki                                           2.8.0               6723a4d27412        6 weeks ago         65.5MB\r\nhub.h3c.com:5000/iotprivate/grafana                    6.4.4               be90e387821a        3 years ago         274MB\r\nhub.h3c.com:5000/iotprivate/grafana-tiny-tools         v1                  8c5f0fb345a6        5 years ago         26.1MB\r\n[root@iotvm132 loki]# kubectl  get pods -A | grep grafana\r\ndefault       grafana-core-57455c6b94-l4k2p              1/1     Running     1          47h\r\ndefault       grafana-import-dashboards-5z6cj            0/1     Completed   0          47h\r\nYou have mail in /var/spool/mail/root\r\n[root@iotvm132 loki]# docker ps | grep -E 'loki|promtail'\r\n34c641d8b159        grafana/promtail:2.8.0                        \"/usr/bin/promtail -\u2026\"   4 hours ago         Up 4 hours                                   promtail\r\nfe96c59df253        grafana/loki:2.8.0                            \"/usr/bin/loki -conf\u2026\"   45 hours ago        Up 45 hours         0.0.0.0:3100->3100/tcp   loki\r\n[root@iotvm132 loki]#\r\n```\r\n      ",
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/issues/9492/reactions",
                    "total_count": 2,
                    "+1": 2,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/grafana/loki/issues/9492/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/grafana/loki/issues/comments/1782710458",
                "html_url": "https://github.com/grafana/loki/issues/9492#issuecomment-1782710458",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/9492",
                "id": 1782710458,
                "node_id": "IC_kwDOB7tV1c5qQgC6",
                "user": {
                    "login": "Pexers",
                    "id": 47757441,
                    "node_id": "MDQ6VXNlcjQ3NzU3NDQx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47757441?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Pexers",
                    "html_url": "https://github.com/Pexers",
                    "followers_url": "https://api.github.com/users/Pexers/followers",
                    "following_url": "https://api.github.com/users/Pexers/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Pexers/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Pexers/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Pexers/subscriptions",
                    "organizations_url": "https://api.github.com/users/Pexers/orgs",
                    "repos_url": "https://api.github.com/users/Pexers/repos",
                    "events_url": "https://api.github.com/users/Pexers/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Pexers/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T10:54:50Z",
                "updated_at": "2023-10-27T10:54:50Z",
                "author_association": "NONE",
                "body": "+1\r\nGetting this error when trying to use `auth_enabled: true` together with `X-Scope-OrgID` and basic-auth. \r\n\r\nUsing the below configuration in Grafana:\r\n```\r\n  - name: Loki\r\n    type: loki\r\n    access: proxy\r\n    url: http://loki:3100/\r\n    jsonData:\r\n      maxLines: 1000\r\n      httpHeaderName1: X-Scope-OrgID\r\n    basicAuth: true\r\n    basicAuthUser: ${LOKI_USERNAME}\r\n    secureJsonData:\r\n      basicAuthPassword: ${LOKI_PASSWORD}\r\n      httpHeaderValue1: foo\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/issues/comments/1782710458/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:54:51Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32896257693",
        "type": "IssuesEvent",
        "actor": {
            "id": 152312,
            "login": "periklis",
            "display_login": "periklis",
            "gravatar_id": "",
            "url": "https://api.github.com/users/periklis",
            "avatar_url": "https://avatars.githubusercontent.com/u/152312?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/grafana/loki/issues/10993",
                "repository_url": "https://api.github.com/repos/grafana/loki",
                "labels_url": "https://api.github.com/repos/grafana/loki/issues/10993/labels{/name}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/10993/comments",
                "events_url": "https://api.github.com/repos/grafana/loki/issues/10993/events",
                "html_url": "https://github.com/grafana/loki/issues/10993",
                "id": 1955882490,
                "node_id": "I_kwDOB7tV1c50lGX6",
                "number": 10993,
                "title": "Loki /loki/api/v1/label/<name>/values  : query paramer not respected",
                "user": {
                    "login": "coderazzi",
                    "id": 1039905,
                    "node_id": "MDQ6VXNlcjEwMzk5MDU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1039905?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/coderazzi",
                    "html_url": "https://github.com/coderazzi",
                    "followers_url": "https://api.github.com/users/coderazzi/followers",
                    "following_url": "https://api.github.com/users/coderazzi/following{/other_user}",
                    "gists_url": "https://api.github.com/users/coderazzi/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/coderazzi/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/coderazzi/subscriptions",
                    "organizations_url": "https://api.github.com/users/coderazzi/orgs",
                    "repos_url": "https://api.github.com/users/coderazzi/repos",
                    "events_url": "https://api.github.com/users/coderazzi/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/coderazzi/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 4697149505,
                        "node_id": "LA_kwDOB7tV1c8AAAABF_jQQQ",
                        "url": "https://api.github.com/repos/grafana/loki/labels/component/api",
                        "name": "component/api",
                        "color": "60A6F8",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 4839356569,
                        "node_id": "LA_kwDOB7tV1c8AAAABIHK4mQ",
                        "url": "https://api.github.com/repos/grafana/loki/labels/type/bug",
                        "name": "type/bug",
                        "color": "F64B7D",
                        "default": false,
                        "description": "Somehing is not working as expected"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 7,
                "created_at": "2023-10-22T12:26:57Z",
                "updated_at": "2023-10-27T10:53:01Z",
                "closed_at": "2023-10-27T10:53:00Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "<!-- Please keep the structure below, or your issue may be closed. -->\r\n\r\n**Describe the bug**\r\nUsing HTTP API interface, querying for labels with a stream selector produces the same result as no selector used\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Started Loki 2.9.2\r\n2. Pushed several logs, with the following labels (this push is manual, using HTTP API):\r\n* dn='4dc71fb5-b608-4078-8685-895cb9403bd6_0', type='Request'\r\n* idn='773ad8a9-8706-4981-a222-a9537da8fc55_0', type='Request'\r\n* idn='c58a300e-5247-4ad0-ad10-ed3d555c07b2_5', type='Request'\r\n* idn='c58a300e-5247-4ad0-ad10-ed3d555c07b2_6', type='Result'\r\n* idn='e2f6d0cc-6e44-4978-8a34-6b1d1832bde6_0', type='MRA_Result'\r\n3. `curl -G  http://localhost:3100/loki/api/v1/label/idn/values --data-urlencode 'query={type=\"Result\"}'`\r\n\r\n**Expected behavior**\r\nOnly one item should be returned. \r\nThis happens in fact on the first tries. But after a while, the response contains all five entries.\r\nRestarting Loki doesn't help.\r\nCreating a query with invalid stream selector (selector or value) also produces the five entries:\r\n\r\n`curl -G  http://localhost:3100/loki/api/v1/label/idn/values --data-urlencode 'query={typeINVALID=\"Result\"}'`\r\n\r\nDoing `curl -G  http://localhost:3100/loki/api/v1/label/typeINVALID/values`\r\nsucceeds, but returns nothing, as expected\r\n\r\n_Note that Grafana shows the entries properly. Doing a query using the respective stream selectors only produce the desired results_\r\n\r\n**Environment:**\r\n - Infrastructure: docker\r\n - Deployment tool: manual\r\n\r\n**Screenshots, Promtail config, or terminal output**\r\nThe logs are pushed manually\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/issues/10993/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/grafana/loki/issues/10993/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:53:02Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32896257590",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 152312,
            "login": "periklis",
            "display_login": "periklis",
            "gravatar_id": "",
            "url": "https://api.github.com/users/periklis",
            "avatar_url": "https://avatars.githubusercontent.com/u/152312?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/grafana/loki/issues/10993",
                "repository_url": "https://api.github.com/repos/grafana/loki",
                "labels_url": "https://api.github.com/repos/grafana/loki/issues/10993/labels{/name}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/10993/comments",
                "events_url": "https://api.github.com/repos/grafana/loki/issues/10993/events",
                "html_url": "https://github.com/grafana/loki/issues/10993",
                "id": 1955882490,
                "node_id": "I_kwDOB7tV1c50lGX6",
                "number": 10993,
                "title": "Loki /loki/api/v1/label/<name>/values  : query paramer not respected",
                "user": {
                    "login": "coderazzi",
                    "id": 1039905,
                    "node_id": "MDQ6VXNlcjEwMzk5MDU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1039905?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/coderazzi",
                    "html_url": "https://github.com/coderazzi",
                    "followers_url": "https://api.github.com/users/coderazzi/followers",
                    "following_url": "https://api.github.com/users/coderazzi/following{/other_user}",
                    "gists_url": "https://api.github.com/users/coderazzi/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/coderazzi/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/coderazzi/subscriptions",
                    "organizations_url": "https://api.github.com/users/coderazzi/orgs",
                    "repos_url": "https://api.github.com/users/coderazzi/repos",
                    "events_url": "https://api.github.com/users/coderazzi/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/coderazzi/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 4697149505,
                        "node_id": "LA_kwDOB7tV1c8AAAABF_jQQQ",
                        "url": "https://api.github.com/repos/grafana/loki/labels/component/api",
                        "name": "component/api",
                        "color": "60A6F8",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 4839356569,
                        "node_id": "LA_kwDOB7tV1c8AAAABIHK4mQ",
                        "url": "https://api.github.com/repos/grafana/loki/labels/type/bug",
                        "name": "type/bug",
                        "color": "F64B7D",
                        "default": false,
                        "description": "Somehing is not working as expected"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 7,
                "created_at": "2023-10-22T12:26:57Z",
                "updated_at": "2023-10-27T10:53:01Z",
                "closed_at": "2023-10-27T10:53:00Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "<!-- Please keep the structure below, or your issue may be closed. -->\r\n\r\n**Describe the bug**\r\nUsing HTTP API interface, querying for labels with a stream selector produces the same result as no selector used\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Started Loki 2.9.2\r\n2. Pushed several logs, with the following labels (this push is manual, using HTTP API):\r\n* dn='4dc71fb5-b608-4078-8685-895cb9403bd6_0', type='Request'\r\n* idn='773ad8a9-8706-4981-a222-a9537da8fc55_0', type='Request'\r\n* idn='c58a300e-5247-4ad0-ad10-ed3d555c07b2_5', type='Request'\r\n* idn='c58a300e-5247-4ad0-ad10-ed3d555c07b2_6', type='Result'\r\n* idn='e2f6d0cc-6e44-4978-8a34-6b1d1832bde6_0', type='MRA_Result'\r\n3. `curl -G  http://localhost:3100/loki/api/v1/label/idn/values --data-urlencode 'query={type=\"Result\"}'`\r\n\r\n**Expected behavior**\r\nOnly one item should be returned. \r\nThis happens in fact on the first tries. But after a while, the response contains all five entries.\r\nRestarting Loki doesn't help.\r\nCreating a query with invalid stream selector (selector or value) also produces the five entries:\r\n\r\n`curl -G  http://localhost:3100/loki/api/v1/label/idn/values --data-urlencode 'query={typeINVALID=\"Result\"}'`\r\n\r\nDoing `curl -G  http://localhost:3100/loki/api/v1/label/typeINVALID/values`\r\nsucceeds, but returns nothing, as expected\r\n\r\n_Note that Grafana shows the entries properly. Doing a query using the respective stream selectors only produce the desired results_\r\n\r\n**Environment:**\r\n - Infrastructure: docker\r\n - Deployment tool: manual\r\n\r\n**Screenshots, Promtail config, or terminal output**\r\nThe logs are pushed manually\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/issues/10993/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/grafana/loki/issues/10993/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            },
            "comment": {
                "url": "https://api.github.com/repos/grafana/loki/issues/comments/1782708182",
                "html_url": "https://github.com/grafana/loki/issues/10993#issuecomment-1782708182",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/10993",
                "id": 1782708182,
                "node_id": "IC_kwDOB7tV1c5qQffW",
                "user": {
                    "login": "periklis",
                    "id": 152312,
                    "node_id": "MDQ6VXNlcjE1MjMxMg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/152312?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/periklis",
                    "html_url": "https://github.com/periklis",
                    "followers_url": "https://api.github.com/users/periklis/followers",
                    "following_url": "https://api.github.com/users/periklis/following{/other_user}",
                    "gists_url": "https://api.github.com/users/periklis/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/periklis/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/periklis/subscriptions",
                    "organizations_url": "https://api.github.com/users/periklis/orgs",
                    "repos_url": "https://api.github.com/users/periklis/repos",
                    "events_url": "https://api.github.com/users/periklis/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/periklis/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T10:53:00Z",
                "updated_at": "2023-10-27T10:53:00Z",
                "author_association": "COLLABORATOR",
                "body": "Ok closing then.",
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/issues/comments/1782708182/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:53:01Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32895978919",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 3735252,
            "login": "kavirajk",
            "display_login": "kavirajk",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kavirajk",
            "avatar_url": "https://avatars.githubusercontent.com/u/3735252?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701487532,
                "node_id": "PRR_kwDOB7tV1c5laqOs",
                "user": {
                    "login": "kavirajk",
                    "id": 3735252,
                    "node_id": "MDQ6VXNlcjM3MzUyNTI=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3735252?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/kavirajk",
                    "html_url": "https://github.com/kavirajk",
                    "followers_url": "https://api.github.com/users/kavirajk/followers",
                    "following_url": "https://api.github.com/users/kavirajk/following{/other_user}",
                    "gists_url": "https://api.github.com/users/kavirajk/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/kavirajk/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/kavirajk/subscriptions",
                    "organizations_url": "https://api.github.com/users/kavirajk/orgs",
                    "repos_url": "https://api.github.com/users/kavirajk/repos",
                    "events_url": "https://api.github.com/users/kavirajk/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/kavirajk/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Nice \ud83d\udc4d ",
                "commit_id": "e58d7580180765d981da38b52394d4258edd02e1",
                "submitted_at": "2023-10-27T10:41:17Z",
                "state": "approved",
                "html_url": "https://github.com/grafana/loki/pull/11067#pullrequestreview-1701487532",
                "pull_request_url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "author_association": "COLLABORATOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067#pullrequestreview-1701487532"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "id": 1576354756,
                "node_id": "PR_kwDOB7tV1c5d9UPE",
                "html_url": "https://github.com/grafana/loki/pull/11067",
                "diff_url": "https://github.com/grafana/loki/pull/11067.diff",
                "patch_url": "https://github.com/grafana/loki/pull/11067.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11067",
                "number": 11067,
                "state": "open",
                "locked": false,
                "title": "Stop processing split queries on first error.",
                "user": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race condition in the splitter has been there before but the change exposed it. When an error occurs, e.g. when query would be too large, the splitter would return. However, there was a small time window when the loop could still be fed a new request. #10688 just amplified this effect because it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "created_at": "2023-10-27T10:37:47Z",
                "updated_at": "2023-10-27T10:41:17Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "66628ce1ae171c6ffd8d1869569c824d1d3331fd",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "dannykopping",
                        "id": 373762,
                        "node_id": "MDQ6VXNlcjM3Mzc2Mg==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/373762?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/dannykopping",
                        "html_url": "https://github.com/dannykopping",
                        "followers_url": "https://api.github.com/users/dannykopping/followers",
                        "following_url": "https://api.github.com/users/dannykopping/following{/other_user}",
                        "gists_url": "https://api.github.com/users/dannykopping/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/dannykopping/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/dannykopping/subscriptions",
                        "organizations_url": "https://api.github.com/users/dannykopping/orgs",
                        "repos_url": "https://api.github.com/users/dannykopping/repos",
                        "events_url": "https://api.github.com/users/dannykopping/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/dannykopping/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1785651610,
                        "node_id": "MDU6TGFiZWwxNzg1NjUxNjEw",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/S",
                        "name": "size/S",
                        "color": "5D9801",
                        "default": false,
                        "description": null
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/11067/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/11067/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11067/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/e58d7580180765d981da38b52394d4258edd02e1",
                "head": {
                    "label": "jeschkies:karsten/fix-race-condition",
                    "ref": "karsten/fix-race-condition",
                    "sha": "e58d7580180765d981da38b52394d4258edd02e1",
                    "user": {
                        "login": "jeschkies",
                        "id": 2418440,
                        "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/jeschkies",
                        "html_url": "https://github.com/jeschkies",
                        "followers_url": "https://api.github.com/users/jeschkies/followers",
                        "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                        "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                        "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                        "repos_url": "https://api.github.com/users/jeschkies/repos",
                        "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 302633074,
                        "node_id": "MDEwOlJlcG9zaXRvcnkzMDI2MzMwNzQ=",
                        "name": "loki",
                        "full_name": "jeschkies/loki",
                        "private": false,
                        "owner": {
                            "login": "jeschkies",
                            "id": 2418440,
                            "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/jeschkies",
                            "html_url": "https://github.com/jeschkies",
                            "followers_url": "https://api.github.com/users/jeschkies/followers",
                            "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                            "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                            "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                            "repos_url": "https://api.github.com/users/jeschkies/repos",
                            "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/jeschkies/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": true,
                        "url": "https://api.github.com/repos/jeschkies/loki",
                        "forks_url": "https://api.github.com/repos/jeschkies/loki/forks",
                        "keys_url": "https://api.github.com/repos/jeschkies/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/jeschkies/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/jeschkies/loki/teams",
                        "hooks_url": "https://api.github.com/repos/jeschkies/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/jeschkies/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/jeschkies/loki/events",
                        "assignees_url": "https://api.github.com/repos/jeschkies/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/jeschkies/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/jeschkies/loki/tags",
                        "blobs_url": "https://api.github.com/repos/jeschkies/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/jeschkies/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/jeschkies/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/jeschkies/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/jeschkies/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/jeschkies/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/jeschkies/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/jeschkies/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/jeschkies/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/jeschkies/loki/subscription",
                        "commits_url": "https://api.github.com/repos/jeschkies/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/jeschkies/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/jeschkies/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/jeschkies/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/jeschkies/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/jeschkies/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/jeschkies/loki/merges",
                        "archive_url": "https://api.github.com/repos/jeschkies/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/jeschkies/loki/downloads",
                        "issues_url": "https://api.github.com/repos/jeschkies/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/jeschkies/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/jeschkies/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/jeschkies/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/jeschkies/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/jeschkies/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/jeschkies/loki/deployments",
                        "created_at": "2020-10-09T12:21:13Z",
                        "updated_at": "2022-01-26T12:11:54Z",
                        "pushed_at": "2023-10-27T10:38:04Z",
                        "git_url": "git://github.com/jeschkies/loki.git",
                        "ssh_url": "git@github.com:jeschkies/loki.git",
                        "clone_url": "https://github.com/jeschkies/loki.git",
                        "svn_url": "https://github.com/jeschkies/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 159228,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 1,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 13,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 1,
                        "open_issues": 13,
                        "watchers": 0,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T10:38:07Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199898,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1263,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1263,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/e58d7580180765d981da38b52394d4258edd02e1"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:41:17Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32895896552",
        "type": "PullRequestEvent",
        "actor": {
            "id": 2418440,
            "login": "jeschkies",
            "display_login": "jeschkies",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeschkies",
            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "opened",
            "number": 11067,
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/11067",
                "id": 1576354756,
                "node_id": "PR_kwDOB7tV1c5d9UPE",
                "html_url": "https://github.com/grafana/loki/pull/11067",
                "diff_url": "https://github.com/grafana/loki/pull/11067.diff",
                "patch_url": "https://github.com/grafana/loki/pull/11067.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11067",
                "number": 11067,
                "state": "open",
                "locked": false,
                "title": "Stop processing split queries on first error.",
                "user": {
                    "login": "jeschkies",
                    "id": 2418440,
                    "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jeschkies",
                    "html_url": "https://github.com/jeschkies",
                    "followers_url": "https://api.github.com/users/jeschkies/followers",
                    "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                    "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                    "repos_url": "https://api.github.com/users/jeschkies/repos",
                    "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\nThe `TestMetricsTripperware` became flaky after #10688. The race condition in the splitter has been there before but the change exposed it. When an error occurs, e.g. when query would be too large, the splitter would return. However, there was a small time window when the loop could still be fed a new request. #10688 just amplified this effect because it removed the serialization of requests and responses.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "created_at": "2023-10-27T10:37:47Z",
                "updated_at": "2023-10-27T10:37:47Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": null,
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "dannykopping",
                        "id": 373762,
                        "node_id": "MDQ6VXNlcjM3Mzc2Mg==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/373762?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/dannykopping",
                        "html_url": "https://github.com/dannykopping",
                        "followers_url": "https://api.github.com/users/dannykopping/followers",
                        "following_url": "https://api.github.com/users/dannykopping/following{/other_user}",
                        "gists_url": "https://api.github.com/users/dannykopping/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/dannykopping/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/dannykopping/subscriptions",
                        "organizations_url": "https://api.github.com/users/dannykopping/orgs",
                        "repos_url": "https://api.github.com/users/dannykopping/repos",
                        "events_url": "https://api.github.com/users/dannykopping/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/dannykopping/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "kavirajk",
                        "id": 3735252,
                        "node_id": "MDQ6VXNlcjM3MzUyNTI=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3735252?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/kavirajk",
                        "html_url": "https://github.com/kavirajk",
                        "followers_url": "https://api.github.com/users/kavirajk/followers",
                        "following_url": "https://api.github.com/users/kavirajk/following{/other_user}",
                        "gists_url": "https://api.github.com/users/kavirajk/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/kavirajk/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/kavirajk/subscriptions",
                        "organizations_url": "https://api.github.com/users/kavirajk/orgs",
                        "repos_url": "https://api.github.com/users/kavirajk/repos",
                        "events_url": "https://api.github.com/users/kavirajk/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/kavirajk/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [
                    {
                        "name": "loki-team",
                        "id": 3422001,
                        "node_id": "MDQ6VGVhbTM0MjIwMDE=",
                        "slug": "loki-team",
                        "description": "loki-team members from the governance document\r\n\r\nThese are the team members who have merge permissions on the loki-oss repo.\r\n\r\nPlease only add people to this list when they have been approved by the team to merge PR's",
                        "privacy": "closed",
                        "notification_setting": "notifications_enabled",
                        "url": "https://api.github.com/organizations/7195757/team/3422001",
                        "html_url": "https://github.com/orgs/grafana/teams/loki-team",
                        "members_url": "https://api.github.com/organizations/7195757/team/3422001/members{/member}",
                        "repositories_url": "https://api.github.com/organizations/7195757/team/3422001/repos",
                        "permission": "pull",
                        "parent": null
                    }
                ],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/11067/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/11067/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11067/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/86699215ec7894a0a5497247f204e58fb896b815",
                "head": {
                    "label": "jeschkies:karsten/fix-race-condition",
                    "ref": "karsten/fix-race-condition",
                    "sha": "86699215ec7894a0a5497247f204e58fb896b815",
                    "user": {
                        "login": "jeschkies",
                        "id": 2418440,
                        "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/jeschkies",
                        "html_url": "https://github.com/jeschkies",
                        "followers_url": "https://api.github.com/users/jeschkies/followers",
                        "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                        "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                        "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                        "repos_url": "https://api.github.com/users/jeschkies/repos",
                        "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 302633074,
                        "node_id": "MDEwOlJlcG9zaXRvcnkzMDI2MzMwNzQ=",
                        "name": "loki",
                        "full_name": "jeschkies/loki",
                        "private": false,
                        "owner": {
                            "login": "jeschkies",
                            "id": 2418440,
                            "node_id": "MDQ6VXNlcjI0MTg0NDA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/2418440?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/jeschkies",
                            "html_url": "https://github.com/jeschkies",
                            "followers_url": "https://api.github.com/users/jeschkies/followers",
                            "following_url": "https://api.github.com/users/jeschkies/following{/other_user}",
                            "gists_url": "https://api.github.com/users/jeschkies/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/jeschkies/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/jeschkies/subscriptions",
                            "organizations_url": "https://api.github.com/users/jeschkies/orgs",
                            "repos_url": "https://api.github.com/users/jeschkies/repos",
                            "events_url": "https://api.github.com/users/jeschkies/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/jeschkies/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/jeschkies/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": true,
                        "url": "https://api.github.com/repos/jeschkies/loki",
                        "forks_url": "https://api.github.com/repos/jeschkies/loki/forks",
                        "keys_url": "https://api.github.com/repos/jeschkies/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/jeschkies/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/jeschkies/loki/teams",
                        "hooks_url": "https://api.github.com/repos/jeschkies/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/jeschkies/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/jeschkies/loki/events",
                        "assignees_url": "https://api.github.com/repos/jeschkies/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/jeschkies/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/jeschkies/loki/tags",
                        "blobs_url": "https://api.github.com/repos/jeschkies/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/jeschkies/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/jeschkies/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/jeschkies/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/jeschkies/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/jeschkies/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/jeschkies/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/jeschkies/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/jeschkies/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/jeschkies/loki/subscription",
                        "commits_url": "https://api.github.com/repos/jeschkies/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/jeschkies/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/jeschkies/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/jeschkies/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/jeschkies/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/jeschkies/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/jeschkies/loki/merges",
                        "archive_url": "https://api.github.com/repos/jeschkies/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/jeschkies/loki/downloads",
                        "issues_url": "https://api.github.com/repos/jeschkies/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/jeschkies/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/jeschkies/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/jeschkies/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/jeschkies/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/jeschkies/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/jeschkies/loki/deployments",
                        "created_at": "2020-10-09T12:21:13Z",
                        "updated_at": "2022-01-26T12:11:54Z",
                        "pushed_at": "2023-10-27T10:34:24Z",
                        "git_url": "git://github.com/jeschkies/loki.git",
                        "ssh_url": "git@github.com:jeschkies/loki.git",
                        "clone_url": "https://github.com/jeschkies/loki.git",
                        "svn_url": "https://github.com/jeschkies/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 159228,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Go",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 1,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 13,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 1,
                        "open_issues": 13,
                        "watchers": 0,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T10:37:47Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199898,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1263,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1263,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11067"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11067/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11067/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/86699215ec7894a0a5497247f204e58fb896b815"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": true,
                "commits": 1,
                "additions": 6,
                "deletions": 2,
                "changed_files": 3
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:37:49Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32895438937",
        "type": "PushEvent",
        "actor": {
            "id": 660283,
            "login": "shantanualsi",
            "display_login": "shantanualsi",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shantanualsi",
            "avatar_url": "https://avatars.githubusercontent.com/u/660283?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "repository_id": 129717717,
            "push_id": 15590122544,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/shantanu/cleanup-global-log",
            "head": "396fbaf2d625ec17269d40cc8b4ab7eba8b2e093",
            "before": "fdb6dcd669ee8302dac20e69e686ac52a3fc4715",
            "commits": [
                {
                    "sha": "396fbaf2d625ec17269d40cc8b4ab7eba8b2e093",
                    "author": {
                        "email": "shantanu.alshi@grafana.com",
                        "name": "shantanualshi"
                    },
                    "message": "Add component labels to loggers",
                    "distinct": true,
                    "url": "https://api.github.com/repos/grafana/loki/commits/396fbaf2d625ec17269d40cc8b4ab7eba8b2e093"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T10:20:06Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32895346514",
        "type": "PushEvent",
        "actor": {
            "id": 42814411,
            "login": "MichelHollands",
            "display_login": "MichelHollands",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MichelHollands",
            "avatar_url": "https://avatars.githubusercontent.com/u/42814411?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "repository_id": 129717717,
            "push_id": 15590076079,
            "size": 13,
            "distinct_size": 1,
            "ref": "refs/heads/use_metrics_namespace_for_more_metrics",
            "head": "81c11936ffc75a0409a71f7bb303452e8d3f12a0",
            "before": "a7193a481734b4dc8b0357ba3564321a3dce2214",
            "commits": [
                {
                    "sha": "7fa2f6ea9ef451a4f78a3db0612d6093266f620f",
                    "author": {
                        "email": "tf.wang.seu@gmail.com",
                        "name": "Tianfeng Wang"
                    },
                    "message": "Add span logFields: wait_goroutine_capacity_time_ms and min_weighted_parallism (#10846)\n\n**What this PR does / why we need it**:\r\nhttps://github.com/grafana/loki/issues/5316",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/7fa2f6ea9ef451a4f78a3db0612d6093266f620f"
                },
                {
                    "sha": "0695424f7dd62435df3a9981276b40f3c5ef5641",
                    "author": {
                        "email": "29139614+renovate[bot]@users.noreply.github.com",
                        "name": "renovate[bot]"
                    },
                    "message": "fix(deps): update module google.golang.org/grpc [security] (main) (#11031)\n\n[![Mend\r\nRenovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\r\n\r\nThis PR contains the following updates:\r\n\r\n| Package | Type | Update | Change |\r\n|---|---|---|---|\r\n| [google.golang.org/grpc](https://togithub.com/grpc/grpc-go) | require\r\n| minor | `v1.53.0` -> `v1.56.3` |\r\n| [google.golang.org/grpc](https://togithub.com/grpc/grpc-go) | require\r\n| patch | `v1.58.2` -> `v1.58.3` |\r\n\r\n### GitHub Vulnerability Alerts\r\n\r\n####\r\n[GHSA-m425-mq94-257g](https://togithub.com/grpc/grpc-go/security/advisories/GHSA-m425-mq94-257g)\r\n\r\n### Impact\r\nIn affected releases of gRPC-Go, it is possible for an attacker to send\r\nHTTP/2 requests, cancel them, and send subsequent requests, which is\r\nvalid by the HTTP/2 protocol, but would cause the gRPC-Go server to\r\nlaunch more concurrent method handlers than the configured maximum\r\nstream limit.\r\n\r\n### Patches\r\nThis vulnerability was addressed by #&#8203;6703 and has been included\r\nin patch releases: 1.56.3, 1.57.1, 1.58.3. It is also included in the\r\nlatest release, 1.59.0.\r\n\r\nAlong with applying the patch, users should also ensure they are using\r\nthe `grpc.MaxConcurrentStreams` server option to apply a limit to the\r\nserver's resources used for any single connection.\r\n\r\n### Workarounds\r\nNone.\r\n\r\n### References\r\n\r\n#&#8203;6703\r\n\r\n---\r\n\r\n### Release Notes\r\n\r\n<details>\r\n<summary>grpc/grpc-go (google.golang.org/grpc)</summary>\r\n\r\n### [`v1.56.3`](https://togithub.com/grpc/grpc-go/releases/tag/v1.56.3):\r\nRelease 1.56.3\r\n\r\n[Compare\r\nSource](https://togithub.com/grpc/grpc-go/compare/v1.56.2...v1.56.3)\r\n\r\n### Security\r\n\r\n- server: prohibit more than MaxConcurrentStreams handlers from running\r\nat once (CVE-2023-44487)\r\n\r\nIn addition to this change, applications should ensure they do not leave\r\nrunning tasks behind related to the RPC before returning from method\r\nhandlers, or should enforce appropriate limits on any such work.\r\n\r\n### [`v1.56.2`](https://togithub.com/grpc/grpc-go/releases/tag/v1.56.2):\r\nRelease 1.56.2\r\n\r\n[Compare\r\nSource](https://togithub.com/grpc/grpc-go/compare/v1.56.1...v1.56.2)\r\n\r\n- status: To fix a panic, `status.FromError` now returns an error with\r\n`codes.Unknown` when the error implements the `GRPCStatus()` method, and\r\ncalling `GRPCStatus()` returns `nil`.\r\n([#&#8203;6374](https://togithub.com/grpc/grpc-go/issues/6374))\r\n\r\n### [`v1.56.1`](https://togithub.com/grpc/grpc-go/releases/tag/v1.56.1):\r\nRelease 1.56.1\r\n\r\n[Compare\r\nSource](https://togithub.com/grpc/grpc-go/compare/v1.56.0...v1.56.1)\r\n\r\n-   client: handle empty address lists correctly in addrConn.updateAddrs\r\n\r\n### [`v1.56.0`](https://togithub.com/grpc/grpc-go/releases/tag/v1.56.0):\r\nRelease 1.56.0\r\n\r\n[Compare\r\nSource](https://togithub.com/grpc/grpc-go/compare/v1.55.1...v1.56.0)\r\n\r\n### New Features\r\n\r\n- client: support channel idleness using `WithIdleTimeout` dial option\r\n([#&#8203;6263](https://togithub.com/grpc/grpc-go/issues/6263))\r\n- This feature is currently disabled by default, but will be enabled\r\nwith a 30 minute default in the future.\r\n- client: when using pickfirst, keep channel state in TRANSIENT_FAILURE\r\nuntil it becomes READY ([gRFC\r\nA62](https://togithub.com/grpc/proposal/blob/master/A62-pick-first.md))\r\n([#&#8203;6306](https://togithub.com/grpc/grpc-go/issues/6306))\r\n- xds: Add support for Custom LB Policies ([gRFC\r\nA52](https://togithub.com/grpc/proposal/blob/master/A52-xds-custom-lb-policies.md))\r\n([#&#8203;6224](https://togithub.com/grpc/grpc-go/issues/6224))\r\n- xds: support pick_first Custom LB policy ([gRFC\r\nA62](https://togithub.com/grpc/proposal/blob/master/A62-pick-first.md))\r\n([#&#8203;6314](https://togithub.com/grpc/grpc-go/issues/6314))\r\n([#&#8203;6317](https://togithub.com/grpc/grpc-go/issues/6317))\r\n- client: add support for pickfirst address shuffling ([gRFC\r\nA62](https://togithub.com/grpc/proposal/blob/master/A62-pick-first.md))\r\n([#&#8203;6311](https://togithub.com/grpc/grpc-go/issues/6311))\r\n- xds: Add support for String Matcher Header Matcher in RDS\r\n([#&#8203;6313](https://togithub.com/grpc/grpc-go/issues/6313))\r\n- xds/outlierdetection: Add Channelz Logger to Outlier Detection LB\r\n([#&#8203;6145](https://togithub.com/grpc/grpc-go/issues/6145))\r\n- Special Thanks:\r\n[@&#8203;s-matyukevich](https://togithub.com/s-matyukevich)\r\n- xds: enable RLS in xDS by default\r\n([#&#8203;6343](https://togithub.com/grpc/grpc-go/issues/6343))\r\n- orca: add support for application_utilization field and missing range\r\nchecks on several metrics setters\r\n- balancer/weightedroundrobin: add new LB policy for balancing between\r\nbackends based on their load reports ([gRFC\r\nA58](https://togithub.com/grpc/proposal/blob/master/A58-client-side-weighted-round-robin-lb-policy.md))\r\n([#&#8203;6241](https://togithub.com/grpc/grpc-go/issues/6241))\r\n- authz: add conversion of json to RBAC Audit Logging config\r\n([#&#8203;6192](https://togithub.com/grpc/grpc-go/issues/6192))\r\n- authz: add support for stdout logger\r\n([#&#8203;6230](https://togithub.com/grpc/grpc-go/issues/6230) and\r\n[#&#8203;6298](https://togithub.com/grpc/grpc-go/issues/6298))\r\n- authz: support customizable audit functionality for authorization\r\npolicy ([#&#8203;6192](https://togithub.com/grpc/grpc-go/issues/6192)\r\n[#&#8203;6230](https://togithub.com/grpc/grpc-go/issues/6230)\u00a0[#&#8203;6298](https://togithub.com/grpc/grpc-go/issues/6298)\r\n[#&#8203;6158](https://togithub.com/grpc/grpc-go/issues/6158)\r\n[#&#8203;6304](https://togithub.com/grpc/grpc-go/issues/6304) and\r\n[#&#8203;6225](https://togithub.com/grpc/grpc-go/issues/6225))\r\n\r\n### Bug Fixes\r\n\r\n- orca: fix a race at startup of out-of-band metric subscriptions that\r\nwould cause the report interval to request 0\r\n([#&#8203;6245](https://togithub.com/grpc/grpc-go/issues/6245))\r\n- xds/xdsresource: Fix Outlier Detection Config Handling and correctly\r\nset xDS Defaults\r\n([#&#8203;6361](https://togithub.com/grpc/grpc-go/issues/6361))\r\n- xds/outlierdetection: Fix Outlier Detection Config Handling by setting\r\ndefaults in ParseConfig()\r\n([#&#8203;6361](https://togithub.com/grpc/grpc-go/issues/6361))\r\n\r\n### API Changes\r\n\r\n- orca: allow a ServerMetricsProvider to be passed to the ORCA service\r\nand ServerOption\r\n([#&#8203;6223](https://togithub.com/grpc/grpc-go/issues/6223))\r\n\r\n### [`v1.55.1`](https://togithub.com/grpc/grpc-go/releases/tag/v1.55.1):\r\nRelease 1.55.1\r\n\r\n[Compare\r\nSource](https://togithub.com/grpc/grpc-go/compare/v1.55.0...v1.55.1)\r\n\r\n- status: To fix a panic, `status.FromError` now returns an error with\r\n`codes.Unknown` when the error implements the `GRPCStatus()` method, and\r\ncalling `GRPCStatus()` returns `nil`.\r\n([#&#8203;6374](https://togithub.com/grpc/grpc-go/issues/6374))\r\n\r\n### [`v1.55.0`](https://togithub.com/grpc/grpc-go/releases/tag/v1.55.0):\r\nRelease 1.55.0\r\n\r\n[Compare\r\nSource](https://togithub.com/grpc/grpc-go/compare/v1.54.1...v1.55.0)\r\n\r\n### Behavior Changes\r\n\r\n- xds: enable federation support by default\r\n([#&#8203;6151](https://togithub.com/grpc/grpc-go/issues/6151))\r\n- status: `status.Code` and `status.FromError` handle wrapped errors\r\n([#&#8203;6031](https://togithub.com/grpc/grpc-go/issues/6031) and\r\n[#&#8203;6150](https://togithub.com/grpc/grpc-go/issues/6150))\r\n- Special Thanks: [@&#8203;psyhatter](https://togithub.com/psyhatter)\r\n\r\n### New Features\r\n\r\n- xds/xdsclient: support `ignore_resource_deletion` server feature as\r\nper gRFC\r\n[A53](https://togithub.com/grpc/proposal/blob/master/A53-xds-ignore-resource-deletion.md)\r\n([#&#8203;6035](https://togithub.com/grpc/grpc-go/issues/6035))\r\n- security/advancedtls: add min/max TLS version selection options\r\n([#&#8203;6007](https://togithub.com/grpc/grpc-go/issues/6007))\r\n- Special Thanks: [@&#8203;joeljeske](https://togithub.com/joeljeske)\r\n\r\n### Bug Fixes\r\n\r\n- xds: stop routing RPCs to deleted clusters\r\n([#&#8203;6125](https://togithub.com/grpc/grpc-go/issues/6125))\r\n- client: fix race between stream creation and GOAWAY receipt, which\r\ncould lead to spurious UNAVAILABLE stream errors\r\n([#&#8203;6142](https://togithub.com/grpc/grpc-go/issues/6142))\r\n\r\n### Performance Improvements\r\n\r\n- server: improve stream handler goroutine worker allocation when\r\n[`NumStreamWorkers`](https://pkg.go.dev/google.golang.org/grpc#NumStreamWorkers)\r\nis used ([#&#8203;6004](https://togithub.com/grpc/grpc-go/issues/6004))\r\n- Special Thanks:\r\n[@&#8203;SaveTheRbtz](https://togithub.com/SaveTheRbtz)\r\n\r\n### [`v1.54.1`](https://togithub.com/grpc/grpc-go/releases/tag/v1.54.1):\r\nRelease 1.54.1\r\n\r\n[Compare\r\nSource](https://togithub.com/grpc/grpc-go/compare/v1.54.0...v1.54.1)\r\n\r\n### Bug Fixes\r\n\r\n- credentials/alts: revert a change that causes a crash in the\r\nhandshaker\r\n\r\n### [`v1.54.0`](https://togithub.com/grpc/grpc-go/releases/tag/v1.54.0):\r\nRelease 1.54.0\r\n\r\n[Compare\r\nSource](https://togithub.com/grpc/grpc-go/compare/v1.53.0...v1.54.0)\r\n\r\n### Behavior Changes\r\n\r\n- xds: remove support for xDS v2 transport API\r\n([#&#8203;6013](https://togithub.com/grpc/grpc-go/issues/6013))\r\n\r\n### New Features\r\n\r\n- server: expose `SetSendCompressor` API to set send compressor name\r\n([#&#8203;5744](https://togithub.com/grpc/grpc-go/issues/5744))\r\n    -   Special Thanks: [@&#8203;jronak](https://togithub.com/jronak)\r\n- xdsclient: include `Node` proto only in the first discovery request\r\nmessage, to improve performance\r\n([#&#8203;6078](https://togithub.com/grpc/grpc-go/issues/6078))\r\n\r\n### Bug Fixes\r\n\r\n- metadata: fix validation logic and properly validate metadata appended\r\nvia `AppendToOutgoingContext`\r\n([#&#8203;6001](https://togithub.com/grpc/grpc-go/issues/6001))\r\n    -   Special Thanks: [@&#8203;ktalg](https://togithub.com/ktalg)\r\n- transport: do not close connections when we encounter I/O errors until\r\nafter all data is consumed\r\n([#&#8203;6110](https://togithub.com/grpc/grpc-go/issues/6110))\r\n- ringhash: ensure addresses are consistently hashed across updates\r\n([#&#8203;6066](https://togithub.com/grpc/grpc-go/issues/6066))\r\n- xds/clusterimpl: fix a bug causing unnecessary closing and re-opening\r\nof LRS streams\r\n([#&#8203;6112](https://togithub.com/grpc/grpc-go/issues/6112))\r\n- xds: NACK route configuration if sum of weights of weighted clusters\r\nexceeds uint32\\_max\r\n([#&#8203;6085](https://togithub.com/grpc/grpc-go/issues/6085))\r\n\r\n### Documentation\r\n\r\n- resolver: update `Resolver.Scheme()` docstring to mention requirement\r\nof lowercase scheme names\r\n([#&#8203;6014](https://togithub.com/grpc/grpc-go/issues/6014))\r\n- resolver: document expected error handling of `UpdateState` errors\r\n([#&#8203;6002](https://togithub.com/grpc/grpc-go/issues/6002))\r\n    -   Special Thanks: [@&#8203;fho](https://togithub.com/fho)\r\n- examples: add example for ORCA load reporting\r\n([#&#8203;6114](https://togithub.com/grpc/grpc-go/issues/6114))\r\n- examples: add an example to illustrate authorization (authz) support\r\n([#&#8203;5920](https://togithub.com/grpc/grpc-go/issues/5920))\r\n- Special Thanks: [@&#8203;KenxinKun](https://togithub.com/KenxinKun)\r\n\r\n</details>\r\n\r\n---\r\n\r\n### Configuration\r\n\r\n\ud83d\udcc5 **Schedule**: Branch creation - \"\" (UTC), Automerge - At any time (no\r\nschedule defined).\r\n\r\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you\r\nare satisfied.\r\n\r\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the\r\nrebase/retry checkbox.\r\n\r\n\ud83d\udc7b **Immortal**: This PR will be recreated if closed unmerged. Get\r\n[config help](https://togithub.com/renovatebot/renovate/discussions) if\r\nthat's undesired.\r\n\r\n---\r\n\r\n- [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check\r\nthis box\r\n\r\n---\r\n\r\nThis PR has been generated by [Mend\r\nRenovate](https://www.mend.io/free-developer-tools/renovate/). View\r\nrepository job log\r\n[here](https://developer.mend.io/github/grafana/loki).\r\n\r\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4zMS41IiwidXBkYXRlZEluVmVyIjoiMzcuMzEuNSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->\r\n\r\nCo-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/0695424f7dd62435df3a9981276b40f3c5ef5641"
                },
                {
                    "sha": "c66ffd125cd89f5845a75a1751186fa46d003f70",
                    "author": {
                        "email": "29139614+renovate[bot]@users.noreply.github.com",
                        "name": "renovate[bot]"
                    },
                    "message": "fix(deps): update github.com/c2h5oh/datasize digest to 859f65c (main) (#10820)\n\n[![Mend\r\nRenovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\r\n\r\nThis PR contains the following updates:\r\n\r\n| Package | Type | Update | Change |\r\n|---|---|---|---|\r\n| [github.com/c2h5oh/datasize](https://togithub.com/c2h5oh/datasize) |\r\nrequire | digest | `28bbd47` -> `859f65c` |\r\n\r\n---\r\n\r\n### Configuration\r\n\r\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined),\r\nAutomerge - At any time (no schedule defined).\r\n\r\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you\r\nare satisfied.\r\n\r\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the\r\nrebase/retry checkbox.\r\n\r\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update\r\nagain.\r\n\r\n---\r\n\r\n- [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check\r\nthis box\r\n\r\n---\r\n\r\nThis PR has been generated by [Mend\r\nRenovate](https://www.mend.io/free-developer-tools/renovate/). View\r\nrepository job log\r\n[here](https://developer.mend.io/github/grafana/loki).\r\n\r\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy44LjEiLCJ1cGRhdGVkSW5WZXIiOiIzNy4zMS41IiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\r\n\r\nCo-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/c66ffd125cd89f5845a75a1751186fa46d003f70"
                },
                {
                    "sha": "1fe48858ae15b33646eedb85b05d6773a8bc5020",
                    "author": {
                        "email": "29139614+renovate[bot]@users.noreply.github.com",
                        "name": "renovate[bot]"
                    },
                    "message": "fix(deps): update github.com/joncrlsn/dque digest to c2ef48c (main) (#10947)\n\n[![Mend\r\nRenovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\r\n\r\nThis PR contains the following updates:\r\n\r\n| Package | Type | Update | Change |\r\n|---|---|---|---|\r\n| [github.com/joncrlsn/dque](https://togithub.com/joncrlsn/dque) |\r\nrequire | digest | `956d141` -> `c2ef48c` |\r\n\r\n---\r\n\r\n### Configuration\r\n\r\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined),\r\nAutomerge - At any time (no schedule defined).\r\n\r\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you\r\nare satisfied.\r\n\r\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the\r\nrebase/retry checkbox.\r\n\r\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update\r\nagain.\r\n\r\n---\r\n\r\n- [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check\r\nthis box\r\n\r\n---\r\n\r\nThis PR has been generated by [Mend\r\nRenovate](https://www.mend.io/free-developer-tools/renovate/). View\r\nrepository job log\r\n[here](https://developer.mend.io/github/grafana/loki).\r\n\r\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xOS4yIiwidXBkYXRlZEluVmVyIjoiMzcuMzEuNSIsInRhcmdldEJyYW5jaCI6Im1haW4ifQ==-->\r\n\r\nCo-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/1fe48858ae15b33646eedb85b05d6773a8bc5020"
                },
                {
                    "sha": "0d7b6b2622f9bcf5d9d151dc3d25a8c97c3f2039",
                    "author": {
                        "email": "callumstyan@gmail.com",
                        "name": "Callum Styan"
                    },
                    "message": "Return empty responses for logproto request types from (#11029)\n\nWe need to return empty responses for logproto request types from\r\nNewEmptyResponse based on types that can be returned from DecodeRequest.\r\n\r\n---------\r\n\r\nSigned-off-by: Callum Styan <callumstyan@gmail.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/0d7b6b2622f9bcf5d9d151dc3d25a8c97c3f2039"
                },
                {
                    "sha": "aedf6dfc217fb71df4e7c873b158319b0b6da27c",
                    "author": {
                        "email": "karsten.jeschkies@grafana.com",
                        "name": "Karsten Jeschkies"
                    },
                    "message": "Remove `GetHeaders` from `logproto.VolumeResponse`. (#11049)\n\n**What this PR does / why we need it**:\r\nReplaces https://github.com/grafana/loki/pull/11048/. We would return\r\n`logproto.VolumeResponse` but not match it in the codec.\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Checklist**\r\n- [ ] Reviewed the\r\n[`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md)\r\nguide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n- [ ] If the change is worth mentioning in the release notes, add\r\n`add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are\r\ndocumented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in\r\n`production/helm/loki/Chart.yaml` and update\r\n`production/helm/loki/CHANGELOG.md` and\r\n`production/helm/loki/README.md`. [Example\r\nPR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option,\r\nupdate the `deprecated-config.yaml` and `deleted-config.yaml` files\r\nrespectively in the `tools/deprecated-config-checker` directory. <!--\r\nTODO(salvacorts): Add example PR -->",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/aedf6dfc217fb71df4e7c873b158319b0b6da27c"
                },
                {
                    "sha": "f8da0db4bc29230c89377c563eb97596bf6ee018",
                    "author": {
                        "email": "karsten.jeschkies@grafana.com",
                        "name": "Karsten Jeschkies"
                    },
                    "message": "Initialize the request codec in the module chain. (#11042)\n\n**What this PR does / why we need it**:\r\nFor enterprise we must be able to override the Codec that's injected\r\ninto the query frontend and the queriers.\r\n\r\n**Checklist**\r\n- [ ] Reviewed the\r\n[`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md)\r\nguide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n- [ ] If the change is worth mentioning in the release notes, add\r\n`add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are\r\ndocumented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in\r\n`production/helm/loki/Chart.yaml` and update\r\n`production/helm/loki/CHANGELOG.md` and\r\n`production/helm/loki/README.md`. [Example\r\nPR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option,\r\nupdate the `deprecated-config.yaml` and `deleted-config.yaml` files\r\nrespectively in the `tools/deprecated-config-checker` directory. <!--\r\nTODO(salvacorts): Add example PR -->",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/f8da0db4bc29230c89377c563eb97596bf6ee018"
                },
                {
                    "sha": "a550b767d3c8c132362165d6544a09907e613854",
                    "author": {
                        "email": "kavirajkanagaraj@gmail.com",
                        "name": "Kaviraj Kanagaraj"
                    },
                    "message": "config: Remove already deprecated `store.max-look-back-period`. (#11038)\n\nThis is already been deprecated longback. Decided to remove in next\r\nversions of Loki\r\n\r\nSigned-off-by: Kaviraj <kavirajkanagaraj@gmail.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/a550b767d3c8c132362165d6544a09907e613854"
                },
                {
                    "sha": "54320f27e3a046fa6e952c26174a37b9d31fd080",
                    "author": {
                        "email": "102198987+steve-caron-grafana@users.noreply.github.com",
                        "name": "steve-caron-grafana"
                    },
                    "message": "Update _index.md (#11052)\n\nChanged the title from \"Prometheus pipeline stages\" to \"Promtail\r\npipeline stages\"\r\n\r\n**What this PR does / why we need it**:\r\n\r\n**Which issue(s) this PR fixes**:\r\nFixes #<issue number>\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Checklist**\r\n- [ ] Reviewed the\r\n[`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md)\r\nguide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n- [ ] If the change is worth mentioning in the release notes, add\r\n`add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are\r\ndocumented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in\r\n`production/helm/loki/Chart.yaml` and update\r\n`production/helm/loki/CHANGELOG.md` and\r\n`production/helm/loki/README.md`. [Example\r\nPR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option,\r\nupdate the `deprecated-config.yaml` and `deleted-config.yaml` files\r\nrespectively in the `tools/deprecated-config-checker` directory. <!--\r\nTODO(salvacorts): Add example PR -->\r\n\r\n---------\r\n\r\nCo-authored-by: J Stickler <julie.stickler@grafana.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/54320f27e3a046fa6e952c26174a37b9d31fd080"
                },
                {
                    "sha": "c7eb757ed8d42dbda3207ff843243e43de3dfeb5",
                    "author": {
                        "email": "129207811+paul1r@users.noreply.github.com",
                        "name": "Paul Rogers"
                    },
                    "message": "Initial loki bloom creation library (#10957)\n\n**What this PR does / why we need it**:\r\n\r\nOptimization and benchmarking of various LRUs that sit in front of the\r\nbloom filters.\r\nInitial creation of a library that can be used to create blooms from\r\nchunks\r\n\r\n**Which issue(s) this PR fixes**:\r\nFixes #<issue number>\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Checklist**\r\n- [ ] Reviewed the\r\n[`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md)\r\nguide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n- [ ] If the change is worth mentioning in the release notes, add\r\n`add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are\r\ndocumented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in\r\n`production/helm/loki/Chart.yaml` and update\r\n`production/helm/loki/CHANGELOG.md` and\r\n`production/helm/loki/README.md`. [Example\r\nPR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n\r\n---------\r\n\r\nCo-authored-by: Owen Diehl <ow.diehl@gmail.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/c7eb757ed8d42dbda3207ff843243e43de3dfeb5"
                },
                {
                    "sha": "1781d7c700d04ad57fbdc8cce0eb009e06d62900",
                    "author": {
                        "email": "iamashwanth@gmail.com",
                        "name": "Ashwanth"
                    },
                    "message": "ksonnet: do not deploy table manager when shipper is in-use (#11020)\n\n**What this PR does / why we need it**:\r\nDo not generate table manager manifests if shipper is being used.\r\ntable manager is a deprecated target and is not recommended when using\r\n`tsdb` or `boltdb-shipper` indexes.\r\nCompactor is already bunlded along with shipper and handles retention,\r\ncompaction for the `tsdb` and `boltb-shipper` indexes\r\n\r\n\r\n**Which issue(s) this PR fixes**:\r\nFixes [#10943](https://github.com/grafana/loki/issues/10943)\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Checklist**\r\n- [x] Reviewed the\r\n[`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md)\r\nguide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [x] `CHANGELOG.md` updated\r\n- [ ] If the change is worth mentioning in the release notes, add\r\n`add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are\r\ndocumented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in\r\n`production/helm/loki/Chart.yaml` and update\r\n`production/helm/loki/CHANGELOG.md` and\r\n`production/helm/loki/README.md`. [Example\r\nPR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option,\r\nupdate the `deprecated-config.yaml` and `deleted-config.yaml` files\r\nrespectively in the `tools/deprecated-config-checker` directory. <!--\r\nTODO(salvacorts): Add example PR -->",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/1781d7c700d04ad57fbdc8cce0eb009e06d62900"
                },
                {
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "author": {
                        "email": "29139614+renovate[bot]@users.noreply.github.com",
                        "name": "renovate[bot]"
                    },
                    "message": "fix(deps): update github.com/grafana/gomemcache digest to 6947259 (main) (#10836)\n\n[![Mend\r\nRenovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\r\n\r\nThis PR contains the following updates:\r\n\r\n| Package | Type | Update | Change |\r\n|---|---|---|---|\r\n|\r\n[github.com/grafana/gomemcache](https://togithub.com/grafana/gomemcache)\r\n| require | digest | `70d78ea` -> `6947259` |\r\n\r\n---\r\n\r\n### Configuration\r\n\r\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined),\r\nAutomerge - At any time (no schedule defined).\r\n\r\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you\r\nare satisfied.\r\n\r\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the\r\nrebase/retry checkbox.\r\n\r\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update\r\nagain.\r\n\r\n---\r\n\r\n- [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check\r\nthis box\r\n\r\n---\r\n\r\nThis PR has been generated by [Mend\r\nRenovate](https://www.mend.io/free-developer-tools/renovate/). View\r\nrepository job log\r\n[here](https://developer.mend.io/github/grafana/loki).\r\n\r\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy44LjEiLCJ1cGRhdGVkSW5WZXIiOiIzNy4zMS41IiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\r\n\r\nCo-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/grafana/loki/commits/2327789b5506d0ccc00d931195da17a2d47bf236"
                },
                {
                    "sha": "81c11936ffc75a0409a71f7bb303452e8d3f12a0",
                    "author": {
                        "email": "michel.hollands@gmail.com",
                        "name": "Michel Hollands"
                    },
                    "message": "Merge branch 'main' into use_metrics_namespace_for_more_metrics",
                    "distinct": true,
                    "url": "https://api.github.com/repos/grafana/loki/commits/81c11936ffc75a0409a71f7bb303452e8d3f12a0"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T10:16:46Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32895268409",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 53433884,
            "login": "dpewsey",
            "display_login": "dpewsey",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dpewsey",
            "avatar_url": "https://avatars.githubusercontent.com/u/53433884?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/grafana/loki/issues/10739",
                "repository_url": "https://api.github.com/repos/grafana/loki",
                "labels_url": "https://api.github.com/repos/grafana/loki/issues/10739/labels{/name}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/10739/comments",
                "events_url": "https://api.github.com/repos/grafana/loki/issues/10739/events",
                "html_url": "https://github.com/grafana/loki/issues/10739",
                "id": 1917650366,
                "node_id": "I_kwDOB7tV1c5yTQW-",
                "number": 10739,
                "title": "Promtail - Docker service discovery is not working for containers that use a certain `network_mode` directive",
                "user": {
                    "login": "usommerl",
                    "id": 4050763,
                    "node_id": "MDQ6VXNlcjQwNTA3NjM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4050763?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/usommerl",
                    "html_url": "https://github.com/usommerl",
                    "followers_url": "https://api.github.com/users/usommerl/followers",
                    "following_url": "https://api.github.com/users/usommerl/following{/other_user}",
                    "gists_url": "https://api.github.com/users/usommerl/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/usommerl/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/usommerl/subscriptions",
                    "organizations_url": "https://api.github.com/users/usommerl/orgs",
                    "repos_url": "https://api.github.com/users/usommerl/repos",
                    "events_url": "https://api.github.com/users/usommerl/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/usommerl/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3076309271,
                        "node_id": "MDU6TGFiZWwzMDc2MzA5Mjcx",
                        "url": "https://api.github.com/repos/grafana/loki/labels/component/promtail",
                        "name": "component/promtail",
                        "color": "A71A8A",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 4839356569,
                        "node_id": "LA_kwDOB7tV1c8AAAABIHK4mQ",
                        "url": "https://api.github.com/repos/grafana/loki/labels/type/bug",
                        "name": "type/bug",
                        "color": "F64B7D",
                        "default": false,
                        "description": "Somehing is not working as expected"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-09-28T14:16:56Z",
                "updated_at": "2023-10-27T10:13:40Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "**Describe the bug**\r\nWe use `promtail` and docker service discovery to scrape the logs of OCI containers that are deployed via `docker-compose`.  We have noticed that *promtail* does not add a newly started container as a scrape target if the *docker-compose* service was configured with the `network_mode: \"service:[service name]\"` directive [\\[1\\]](https://docs.docker.com/compose/compose-file/compose-file-v3/#network_mode).\r\n\r\n**To Reproduce**\r\n1. Configure *promtail* to use docker service discovery via `docker_sd_configs`\r\n2. Start a *docker-compose* project that has at least one service with a `network_mode: \"service:[service name]\"` directive\r\n3. Output the container IDs of all running containers via `docker ps`\r\n4. Check in the *promtail* logs whether it discovered all started containers <br>(Search for log lines containing `msg=\"added Docker target\" containerID=...`)\r\n\r\n[Here is a more detailed example](https://github.com/usommerl/grafana-loki-10739)\r\n\r\n**Expected behavior**\r\nI would expect that *promtail* discovers all containers started by the *docker-compose* project regardless of the `network_mode` setting.\r\n\r\n**Environment:**\r\n - Infrastructure: VPS\r\n - Deployment tool: `docker-compose`\r\n\r\n**Screenshots, promtail config, or terminal output**\r\n```yaml\r\n# Excerpt from promtail config.yml:\r\nscrape_configs:\r\n- job_name: docker\r\n  docker_sd_configs:\r\n    - host: unix:///var/run/docker.sock\r\n      refresh_interval: 5s\r\n```\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/issues/10739/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/grafana/loki/issues/10739/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/grafana/loki/issues/comments/1782658425",
                "html_url": "https://github.com/grafana/loki/issues/10739#issuecomment-1782658425",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/10739",
                "id": 1782658425,
                "node_id": "IC_kwDOB7tV1c5qQTV5",
                "user": {
                    "login": "dpewsey",
                    "id": 53433884,
                    "node_id": "MDQ6VXNlcjUzNDMzODg0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/53433884?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dpewsey",
                    "html_url": "https://github.com/dpewsey",
                    "followers_url": "https://api.github.com/users/dpewsey/followers",
                    "following_url": "https://api.github.com/users/dpewsey/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dpewsey/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dpewsey/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dpewsey/subscriptions",
                    "organizations_url": "https://api.github.com/users/dpewsey/orgs",
                    "repos_url": "https://api.github.com/users/dpewsey/repos",
                    "events_url": "https://api.github.com/users/dpewsey/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dpewsey/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T10:13:40Z",
                "updated_at": "2023-10-27T10:13:40Z",
                "author_association": "NONE",
                "body": "Any word on this or anyone found a workaround?",
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/issues/comments/1782658425/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:13:41Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32895125806",
        "type": "PushEvent",
        "actor": {
            "id": 660283,
            "login": "shantanualsi",
            "display_login": "shantanualsi",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shantanualsi",
            "avatar_url": "https://avatars.githubusercontent.com/u/660283?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "repository_id": 129717717,
            "push_id": 15589964806,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/shantanu/cleanup-global-log",
            "head": "fdb6dcd669ee8302dac20e69e686ac52a3fc4715",
            "before": "7fa0b8ea9d94830029c8793eec97a82b39df54ae",
            "commits": [
                {
                    "sha": "2dbd064378b9993ea0a2c7eaece13c5f9e8d4759",
                    "author": {
                        "email": "shantanu.alshi@grafana.com",
                        "name": "shantanualshi"
                    },
                    "message": "Rename log to logger",
                    "distinct": true,
                    "url": "https://api.github.com/repos/grafana/loki/commits/2dbd064378b9993ea0a2c7eaece13c5f9e8d4759"
                },
                {
                    "sha": "fdb6dcd669ee8302dac20e69e686ac52a3fc4715",
                    "author": {
                        "email": "shantanu.alshi@grafana.com",
                        "name": "shantanualshi"
                    },
                    "message": "Replace some more global loggers",
                    "distinct": true,
                    "url": "https://api.github.com/repos/grafana/loki/commits/fdb6dcd669ee8302dac20e69e686ac52a3fc4715"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T10:08:11Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32895010351",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 42814411,
            "login": "MichelHollands",
            "display_login": "MichelHollands",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MichelHollands",
            "avatar_url": "https://avatars.githubusercontent.com/u/42814411?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/comments/1374351191",
                "pull_request_review_id": 1701428910,
                "id": 1374351191,
                "node_id": "PRRC_kwDOB7tV1c5R6u9X",
                "diff_hunk": "@@ -12,28 +12,28 @@ type Metrics struct {\n \tquerierWaitTime   *prometheus.HistogramVec // Per querier wait time\n }\n \n-func NewMetrics(subsystem string, registerer prometheus.Registerer) *Metrics {\n+func NewMetrics(subsystem string, registerer prometheus.Registerer, metricsNamespace string) *Metrics {",
                "path": "pkg/queue/metrics.go",
                "commit_id": "a7193a481734b4dc8b0357ba3564321a3dce2214",
                "original_commit_id": "d7e7e2e19a76fc637a14519f67afab49cd2a2425",
                "user": {
                    "login": "MichelHollands",
                    "id": 42814411,
                    "node_id": "MDQ6VXNlcjQyODE0NDEx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/42814411?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/MichelHollands",
                    "html_url": "https://github.com/MichelHollands",
                    "followers_url": "https://api.github.com/users/MichelHollands/followers",
                    "following_url": "https://api.github.com/users/MichelHollands/following{/other_user}",
                    "gists_url": "https://api.github.com/users/MichelHollands/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/MichelHollands/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/MichelHollands/subscriptions",
                    "organizations_url": "https://api.github.com/users/MichelHollands/orgs",
                    "repos_url": "https://api.github.com/users/MichelHollands/repos",
                    "events_url": "https://api.github.com/users/MichelHollands/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/MichelHollands/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Good idea. Done",
                "created_at": "2023-10-27T10:03:42Z",
                "updated_at": "2023-10-27T10:03:42Z",
                "html_url": "https://github.com/grafana/loki/pull/11025#discussion_r1374351191",
                "pull_request_url": "https://api.github.com/repos/grafana/loki/pulls/11025",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments/1374351191"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11025#discussion_r1374351191"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/pulls/comments/1374351191/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": null,
                "original_line": 15,
                "side": "RIGHT",
                "in_reply_to_id": 1372395000,
                "original_position": 5,
                "position": null,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/11025",
                "id": 1572769976,
                "node_id": "PR_kwDOB7tV1c5dvpC4",
                "html_url": "https://github.com/grafana/loki/pull/11025",
                "diff_url": "https://github.com/grafana/loki/pull/11025.diff",
                "patch_url": "https://github.com/grafana/loki/pull/11025.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11025",
                "number": 11025,
                "state": "open",
                "locked": false,
                "title": "Use metrics namespace for more metrics",
                "user": {
                    "login": "MichelHollands",
                    "id": 42814411,
                    "node_id": "MDQ6VXNlcjQyODE0NDEx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/42814411?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/MichelHollands",
                    "html_url": "https://github.com/MichelHollands",
                    "followers_url": "https://api.github.com/users/MichelHollands/followers",
                    "following_url": "https://api.github.com/users/MichelHollands/following{/other_user}",
                    "gists_url": "https://api.github.com/users/MichelHollands/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/MichelHollands/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/MichelHollands/subscriptions",
                    "organizations_url": "https://api.github.com/users/MichelHollands/orgs",
                    "repos_url": "https://api.github.com/users/MichelHollands/repos",
                    "events_url": "https://api.github.com/users/MichelHollands/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/MichelHollands/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\n\r\nUse the metrics namespace setting instead of hardcoding to `cortex`. This is a follow up to (and based on) https://github.com/grafana/loki/pull/11014.\r\n\r\n**Checklist**\r\n- [x] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [X] Tests updated\r\n- [x] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "created_at": "2023-10-25T11:59:18Z",
                "updated_at": "2023-10-27T10:03:42Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "1b885a7a59acbeaf10c760b794ceda8ca369e611",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1802624314,
                        "node_id": "MDU6TGFiZWwxODAyNjI0MzE0",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/XL",
                        "name": "size/XL",
                        "color": "C32607",
                        "default": false,
                        "description": null
                    },
                    {
                        "id": 4324982691,
                        "node_id": "LA_kwDOB7tV1c8AAAABAcn_ow",
                        "url": "https://api.github.com/repos/grafana/loki/labels/type/docs",
                        "name": "type/docs",
                        "color": "1d76db",
                        "default": false,
                        "description": "Issues related to technical documentation; the Docs Squad uses this label across many repositories"
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/11025/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/11025/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11025/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/a7193a481734b4dc8b0357ba3564321a3dce2214",
                "head": {
                    "label": "grafana:use_metrics_namespace_for_more_metrics",
                    "ref": "use_metrics_namespace_for_more_metrics",
                    "sha": "a7193a481734b4dc8b0357ba3564321a3dce2214",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T10:03:31Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199898,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "557b516b665eda3eb2c37d43ba69db65f81a181e",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T10:03:31Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199898,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11025"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11025"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11025/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/a7193a481734b4dc8b0357ba3564321a3dce2214"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:03:42Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32895010237",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 42814411,
            "login": "MichelHollands",
            "display_login": "MichelHollands",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MichelHollands",
            "avatar_url": "https://avatars.githubusercontent.com/u/42814411?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701428910,
                "node_id": "PRR_kwDOB7tV1c5lab6u",
                "user": {
                    "login": "MichelHollands",
                    "id": 42814411,
                    "node_id": "MDQ6VXNlcjQyODE0NDEx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/42814411?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/MichelHollands",
                    "html_url": "https://github.com/MichelHollands",
                    "followers_url": "https://api.github.com/users/MichelHollands/followers",
                    "following_url": "https://api.github.com/users/MichelHollands/following{/other_user}",
                    "gists_url": "https://api.github.com/users/MichelHollands/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/MichelHollands/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/MichelHollands/subscriptions",
                    "organizations_url": "https://api.github.com/users/MichelHollands/orgs",
                    "repos_url": "https://api.github.com/users/MichelHollands/repos",
                    "events_url": "https://api.github.com/users/MichelHollands/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/MichelHollands/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": null,
                "commit_id": "d7e7e2e19a76fc637a14519f67afab49cd2a2425",
                "submitted_at": "2023-10-27T10:03:42Z",
                "state": "commented",
                "html_url": "https://github.com/grafana/loki/pull/11025#pullrequestreview-1701428910",
                "pull_request_url": "https://api.github.com/repos/grafana/loki/pulls/11025",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11025#pullrequestreview-1701428910"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/11025",
                "id": 1572769976,
                "node_id": "PR_kwDOB7tV1c5dvpC4",
                "html_url": "https://github.com/grafana/loki/pull/11025",
                "diff_url": "https://github.com/grafana/loki/pull/11025.diff",
                "patch_url": "https://github.com/grafana/loki/pull/11025.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/11025",
                "number": 11025,
                "state": "open",
                "locked": false,
                "title": "Use metrics namespace for more metrics",
                "user": {
                    "login": "MichelHollands",
                    "id": 42814411,
                    "node_id": "MDQ6VXNlcjQyODE0NDEx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/42814411?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/MichelHollands",
                    "html_url": "https://github.com/MichelHollands",
                    "followers_url": "https://api.github.com/users/MichelHollands/followers",
                    "following_url": "https://api.github.com/users/MichelHollands/following{/other_user}",
                    "gists_url": "https://api.github.com/users/MichelHollands/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/MichelHollands/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/MichelHollands/subscriptions",
                    "organizations_url": "https://api.github.com/users/MichelHollands/orgs",
                    "repos_url": "https://api.github.com/users/MichelHollands/repos",
                    "events_url": "https://api.github.com/users/MichelHollands/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/MichelHollands/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\n\r\nUse the metrics namespace setting instead of hardcoding to `cortex`. This is a follow up to (and based on) https://github.com/grafana/loki/pull/11014.\r\n\r\n**Checklist**\r\n- [x] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [X] Tests updated\r\n- [x] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n- [ ] If the change is deprecating or removing a configuration option, update the `deprecated-config.yaml` and `deleted-config.yaml` files respectively in the `tools/deprecated-config-checker` directory. <!-- TODO(salvacorts): Add example PR -->",
                "created_at": "2023-10-25T11:59:18Z",
                "updated_at": "2023-10-27T10:03:42Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "1b885a7a59acbeaf10c760b794ceda8ca369e611",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1802624314,
                        "node_id": "MDU6TGFiZWwxODAyNjI0MzE0",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/XL",
                        "name": "size/XL",
                        "color": "C32607",
                        "default": false,
                        "description": null
                    },
                    {
                        "id": 4324982691,
                        "node_id": "LA_kwDOB7tV1c8AAAABAcn_ow",
                        "url": "https://api.github.com/repos/grafana/loki/labels/type/docs",
                        "name": "type/docs",
                        "color": "1d76db",
                        "default": false,
                        "description": "Issues related to technical documentation; the Docs Squad uses this label across many repositories"
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/11025/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/11025/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/11025/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/a7193a481734b4dc8b0357ba3564321a3dce2214",
                "head": {
                    "label": "grafana:use_metrics_namespace_for_more_metrics",
                    "ref": "use_metrics_namespace_for_more_metrics",
                    "sha": "a7193a481734b4dc8b0357ba3564321a3dce2214",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T10:03:31Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199898,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "557b516b665eda3eb2c37d43ba69db65f81a181e",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T10:03:31Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199898,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/11025"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11025"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/11025/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/11025/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/a7193a481734b4dc8b0357ba3564321a3dce2214"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:03:43Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32895004730",
        "type": "PushEvent",
        "actor": {
            "id": 42814411,
            "login": "MichelHollands",
            "display_login": "MichelHollands",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MichelHollands",
            "avatar_url": "https://avatars.githubusercontent.com/u/42814411?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "repository_id": 129717717,
            "push_id": 15589905168,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/use_metrics_namespace_for_more_metrics",
            "head": "a7193a481734b4dc8b0357ba3564321a3dce2214",
            "before": "d7e7e2e19a76fc637a14519f67afab49cd2a2425",
            "commits": [
                {
                    "sha": "a7193a481734b4dc8b0357ba3564321a3dce2214",
                    "author": {
                        "email": "michel.hollands@gmail.com",
                        "name": "Michel Hollands"
                    },
                    "message": "Change around variable order\n\nSigned-off-by: Michel Hollands <michel.hollands@gmail.com>",
                    "distinct": true,
                    "url": "https://api.github.com/repos/grafana/loki/commits/a7193a481734b4dc8b0357ba3564321a3dce2214"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T10:03:29Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32894998172",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 7752866,
            "login": "ashwanthgoli",
            "display_login": "ashwanthgoli",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ashwanthgoli",
            "avatar_url": "https://avatars.githubusercontent.com/u/7752866?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/comments/1374350738",
                "pull_request_review_id": 1701428199,
                "id": 1374350738,
                "node_id": "PRRC_kwDOB7tV1c5R6u2S",
                "diff_hunk": "@@ -694,3 +711,24 @@ the result will be\n {level=\"info\"} {\"app\": \"other-service\", \"level\": \"info\", \"method\": \"GET\", \"path\": \"/\", \"host\": \"grafana.net\", \"status\": \"200\"}\n ```\n \n+## Pipeline Errors\n+\n+There are multiple reasons which cause pipeline processing errors, such as:\n+\n+- A numeric label filter may fail to turn a label value into a number\n+- A metric conversion for a label may fail.\n+- A log line is not a valid json document.\n+- etc...\n+\n+When those failures happen, Loki won't filter out those log lines. Instead they are passed into the next stage of the pipeline with a new system label named `__error__`. The only way to filter out errors is by using a label filter expressions. The `__error__` label can't be renamed via the language.",
                "path": "docs/sources/query/log_queries/_index.md",
                "commit_id": "6008ebd32ba50d647d61ab83ec3e2572becfa481",
                "original_commit_id": "deac14e6e140e79eb13f1eaba9e32b41ea2966fd",
                "user": {
                    "login": "ashwanthgoli",
                    "id": 7752866,
                    "node_id": "MDQ6VXNlcjc3NTI4NjY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7752866?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ashwanthgoli",
                    "html_url": "https://github.com/ashwanthgoli",
                    "followers_url": "https://api.github.com/users/ashwanthgoli/followers",
                    "following_url": "https://api.github.com/users/ashwanthgoli/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ashwanthgoli/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ashwanthgoli/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ashwanthgoli/subscriptions",
                    "organizations_url": "https://api.github.com/users/ashwanthgoli/orgs",
                    "repos_url": "https://api.github.com/users/ashwanthgoli/repos",
                    "events_url": "https://api.github.com/users/ashwanthgoli/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ashwanthgoli/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "referring to LogQL, i updated the line to make it clear.\r\n",
                "created_at": "2023-10-27T10:03:13Z",
                "updated_at": "2023-10-27T10:03:13Z",
                "html_url": "https://github.com/grafana/loki/pull/10473#discussion_r1374350738",
                "pull_request_url": "https://api.github.com/repos/grafana/loki/pulls/10473",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments/1374350738"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/10473#discussion_r1374350738"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/10473"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/grafana/loki/pulls/comments/1374350738/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": null,
                "original_line": 723,
                "side": "RIGHT",
                "in_reply_to_id": 1320223096,
                "original_position": 46,
                "position": null,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/10473",
                "id": 1504377636,
                "node_id": "PR_kwDOB7tV1c5Zqvsk",
                "html_url": "https://github.com/grafana/loki/pull/10473",
                "diff_url": "https://github.com/grafana/loki/pull/10473.diff",
                "patch_url": "https://github.com/grafana/loki/pull/10473.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/10473",
                "number": 10473,
                "state": "open",
                "locked": false,
                "title": "docs: restructure query section",
                "user": {
                    "login": "ashwanthgoli",
                    "id": 7752866,
                    "node_id": "MDQ6VXNlcjc3NTI4NjY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7752866?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ashwanthgoli",
                    "html_url": "https://github.com/ashwanthgoli",
                    "followers_url": "https://api.github.com/users/ashwanthgoli/followers",
                    "following_url": "https://api.github.com/users/ashwanthgoli/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ashwanthgoli/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ashwanthgoli/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ashwanthgoli/subscriptions",
                    "organizations_url": "https://api.github.com/users/ashwanthgoli/orgs",
                    "repos_url": "https://api.github.com/users/ashwanthgoli/repos",
                    "events_url": "https://api.github.com/users/ashwanthgoli/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ashwanthgoli/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\n\r\nQuery page starts with Binary Operators right after a short introduction about LogQL.\r\nI feel that right place for this is in metric queries page.\r\n\r\nRemaining sections from the Query page also feel out of place, moved them as follows:\r\n- place `Pipeline errors` right after `Log pipeline` section in log_queries page.\r\n- move `label_replace` to functions section in metric_queries page.\r\n- move `comments` section to log_queries page.\r\n\r\n\r\n\r\n**Which issue(s) this PR fixes**:\r\nFixes #<issue number>\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Checklist**\r\n- [ ] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n",
                "created_at": "2023-09-06T10:36:35Z",
                "updated_at": "2023-10-27T10:03:13Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "d40b706e705703e7bae78406a00fa24cbea40344",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1802624314,
                        "node_id": "MDU6TGFiZWwxODAyNjI0MzE0",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/XL",
                        "name": "size/XL",
                        "color": "C32607",
                        "default": false,
                        "description": null
                    },
                    {
                        "id": 4324982691,
                        "node_id": "LA_kwDOB7tV1c8AAAABAcn_ow",
                        "url": "https://api.github.com/repos/grafana/loki/labels/type/docs",
                        "name": "type/docs",
                        "color": "1d76db",
                        "default": false,
                        "description": "Issues related to technical documentation; the Docs Squad uses this label across many repositories"
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/10473/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/10473/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/10473/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/6008ebd32ba50d647d61ab83ec3e2572becfa481",
                "head": {
                    "label": "grafana:ashwanth/restructure-query-section",
                    "ref": "ashwanth/restructure-query-section",
                    "sha": "6008ebd32ba50d647d61ab83ec3e2572becfa481",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T10:00:55Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199898,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T10:00:55Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199898,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/10473"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/10473"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/10473"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/10473/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/10473/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/10473/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/6008ebd32ba50d647d61ab83ec3e2572becfa481"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:03:13Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    },
    {
        "id": "32894998078",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 7752866,
            "login": "ashwanthgoli",
            "display_login": "ashwanthgoli",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ashwanthgoli",
            "avatar_url": "https://avatars.githubusercontent.com/u/7752866?"
        },
        "repo": {
            "id": 129717717,
            "name": "grafana/loki",
            "url": "https://api.github.com/repos/grafana/loki"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1701428199,
                "node_id": "PRR_kwDOB7tV1c5labvn",
                "user": {
                    "login": "ashwanthgoli",
                    "id": 7752866,
                    "node_id": "MDQ6VXNlcjc3NTI4NjY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7752866?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ashwanthgoli",
                    "html_url": "https://github.com/ashwanthgoli",
                    "followers_url": "https://api.github.com/users/ashwanthgoli/followers",
                    "following_url": "https://api.github.com/users/ashwanthgoli/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ashwanthgoli/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ashwanthgoli/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ashwanthgoli/subscriptions",
                    "organizations_url": "https://api.github.com/users/ashwanthgoli/orgs",
                    "repos_url": "https://api.github.com/users/ashwanthgoli/repos",
                    "events_url": "https://api.github.com/users/ashwanthgoli/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ashwanthgoli/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": null,
                "commit_id": "deac14e6e140e79eb13f1eaba9e32b41ea2966fd",
                "submitted_at": "2023-10-27T10:03:13Z",
                "state": "commented",
                "html_url": "https://github.com/grafana/loki/pull/10473#pullrequestreview-1701428199",
                "pull_request_url": "https://api.github.com/repos/grafana/loki/pulls/10473",
                "author_association": "CONTRIBUTOR",
                "_links": {
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/10473#pullrequestreview-1701428199"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/10473"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/grafana/loki/pulls/10473",
                "id": 1504377636,
                "node_id": "PR_kwDOB7tV1c5Zqvsk",
                "html_url": "https://github.com/grafana/loki/pull/10473",
                "diff_url": "https://github.com/grafana/loki/pull/10473.diff",
                "patch_url": "https://github.com/grafana/loki/pull/10473.patch",
                "issue_url": "https://api.github.com/repos/grafana/loki/issues/10473",
                "number": 10473,
                "state": "open",
                "locked": false,
                "title": "docs: restructure query section",
                "user": {
                    "login": "ashwanthgoli",
                    "id": 7752866,
                    "node_id": "MDQ6VXNlcjc3NTI4NjY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7752866?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ashwanthgoli",
                    "html_url": "https://github.com/ashwanthgoli",
                    "followers_url": "https://api.github.com/users/ashwanthgoli/followers",
                    "following_url": "https://api.github.com/users/ashwanthgoli/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ashwanthgoli/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ashwanthgoli/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ashwanthgoli/subscriptions",
                    "organizations_url": "https://api.github.com/users/ashwanthgoli/orgs",
                    "repos_url": "https://api.github.com/users/ashwanthgoli/repos",
                    "events_url": "https://api.github.com/users/ashwanthgoli/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ashwanthgoli/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "**What this PR does / why we need it**:\r\n\r\nQuery page starts with Binary Operators right after a short introduction about LogQL.\r\nI feel that right place for this is in metric queries page.\r\n\r\nRemaining sections from the Query page also feel out of place, moved them as follows:\r\n- place `Pipeline errors` right after `Log pipeline` section in log_queries page.\r\n- move `label_replace` to functions section in metric_queries page.\r\n- move `comments` section to log_queries page.\r\n\r\n\r\n\r\n**Which issue(s) this PR fixes**:\r\nFixes #<issue number>\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Checklist**\r\n- [ ] Reviewed the [`CONTRIBUTING.md`](https://github.com/grafana/loki/blob/main/CONTRIBUTING.md) guide (**required**)\r\n- [ ] Documentation added\r\n- [ ] Tests updated\r\n- [ ] `CHANGELOG.md` updated\r\n  - [ ] If the change is worth mentioning in the release notes, add `add-to-release-notes` label\r\n- [ ] Changes that require user attention or interaction to upgrade are documented in `docs/sources/setup/upgrade/_index.md`\r\n- [ ] For Helm chart changes bump the Helm chart version in `production/helm/loki/Chart.yaml` and update `production/helm/loki/CHANGELOG.md` and `production/helm/loki/README.md`. [Example PR](https://github.com/grafana/loki/commit/d10549e3ece02120974929894ee333d07755d213)\r\n",
                "created_at": "2023-09-06T10:36:35Z",
                "updated_at": "2023-10-27T10:03:13Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "d40b706e705703e7bae78406a00fa24cbea40344",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [
                    {
                        "id": 1802624314,
                        "node_id": "MDU6TGFiZWwxODAyNjI0MzE0",
                        "url": "https://api.github.com/repos/grafana/loki/labels/size/XL",
                        "name": "size/XL",
                        "color": "C32607",
                        "default": false,
                        "description": null
                    },
                    {
                        "id": 4324982691,
                        "node_id": "LA_kwDOB7tV1c8AAAABAcn_ow",
                        "url": "https://api.github.com/repos/grafana/loki/labels/type/docs",
                        "name": "type/docs",
                        "color": "1d76db",
                        "default": false,
                        "description": "Issues related to technical documentation; the Docs Squad uses this label across many repositories"
                    }
                ],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/grafana/loki/pulls/10473/commits",
                "review_comments_url": "https://api.github.com/repos/grafana/loki/pulls/10473/comments",
                "review_comment_url": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/grafana/loki/issues/10473/comments",
                "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/6008ebd32ba50d647d61ab83ec3e2572becfa481",
                "head": {
                    "label": "grafana:ashwanth/restructure-query-section",
                    "ref": "ashwanth/restructure-query-section",
                    "sha": "6008ebd32ba50d647d61ab83ec3e2572becfa481",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T10:00:55Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199898,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "grafana:main",
                    "ref": "main",
                    "sha": "2327789b5506d0ccc00d931195da17a2d47bf236",
                    "user": {
                        "login": "grafana",
                        "id": 7195757,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/grafana",
                        "html_url": "https://github.com/grafana",
                        "followers_url": "https://api.github.com/users/grafana/followers",
                        "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                        "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                        "organizations_url": "https://api.github.com/users/grafana/orgs",
                        "repos_url": "https://api.github.com/users/grafana/repos",
                        "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/grafana/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 129717717,
                        "node_id": "MDEwOlJlcG9zaXRvcnkxMjk3MTc3MTc=",
                        "name": "loki",
                        "full_name": "grafana/loki",
                        "private": false,
                        "owner": {
                            "login": "grafana",
                            "id": 7195757,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjcxOTU3NTc=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/grafana",
                            "html_url": "https://github.com/grafana",
                            "followers_url": "https://api.github.com/users/grafana/followers",
                            "following_url": "https://api.github.com/users/grafana/following{/other_user}",
                            "gists_url": "https://api.github.com/users/grafana/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/grafana/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/grafana/subscriptions",
                            "organizations_url": "https://api.github.com/users/grafana/orgs",
                            "repos_url": "https://api.github.com/users/grafana/repos",
                            "events_url": "https://api.github.com/users/grafana/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/grafana/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/grafana/loki",
                        "description": "Like Prometheus, but for logs.",
                        "fork": false,
                        "url": "https://api.github.com/repos/grafana/loki",
                        "forks_url": "https://api.github.com/repos/grafana/loki/forks",
                        "keys_url": "https://api.github.com/repos/grafana/loki/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/grafana/loki/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/grafana/loki/teams",
                        "hooks_url": "https://api.github.com/repos/grafana/loki/hooks",
                        "issue_events_url": "https://api.github.com/repos/grafana/loki/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/grafana/loki/events",
                        "assignees_url": "https://api.github.com/repos/grafana/loki/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/grafana/loki/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/grafana/loki/tags",
                        "blobs_url": "https://api.github.com/repos/grafana/loki/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/grafana/loki/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/grafana/loki/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/grafana/loki/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/grafana/loki/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/grafana/loki/languages",
                        "stargazers_url": "https://api.github.com/repos/grafana/loki/stargazers",
                        "contributors_url": "https://api.github.com/repos/grafana/loki/contributors",
                        "subscribers_url": "https://api.github.com/repos/grafana/loki/subscribers",
                        "subscription_url": "https://api.github.com/repos/grafana/loki/subscription",
                        "commits_url": "https://api.github.com/repos/grafana/loki/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/grafana/loki/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/grafana/loki/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/grafana/loki/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/grafana/loki/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/grafana/loki/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/grafana/loki/merges",
                        "archive_url": "https://api.github.com/repos/grafana/loki/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/grafana/loki/downloads",
                        "issues_url": "https://api.github.com/repos/grafana/loki/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/grafana/loki/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/grafana/loki/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/grafana/loki/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/grafana/loki/labels{/name}",
                        "releases_url": "https://api.github.com/repos/grafana/loki/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/grafana/loki/deployments",
                        "created_at": "2018-04-16T09:22:48Z",
                        "updated_at": "2023-10-27T08:38:47Z",
                        "pushed_at": "2023-10-27T10:00:55Z",
                        "git_url": "git://github.com/grafana/loki.git",
                        "ssh_url": "git@github.com:grafana/loki.git",
                        "clone_url": "https://github.com/grafana/loki.git",
                        "svn_url": "https://github.com/grafana/loki",
                        "homepage": "https://grafana.com/loki",
                        "size": 199898,
                        "stargazers_count": 20400,
                        "watchers_count": 20400,
                        "language": "Go",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 3001,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 1262,
                        "license": {
                            "key": "agpl-3.0",
                            "name": "GNU Affero General Public License v3.0",
                            "spdx_id": "AGPL-3.0",
                            "url": "https://api.github.com/licenses/agpl-3.0",
                            "node_id": "MDc6TGljZW5zZTE="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "cloudnative",
                            "grafana",
                            "hacktoberfest",
                            "logging",
                            "loki",
                            "prometheus"
                        ],
                        "visibility": "public",
                        "forks": 3001,
                        "open_issues": 1262,
                        "watchers": 20400,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/10473"
                    },
                    "html": {
                        "href": "https://github.com/grafana/loki/pull/10473"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/10473"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/grafana/loki/issues/10473/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/10473/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/grafana/loki/pulls/10473/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/grafana/loki/statuses/6008ebd32ba50d647d61ab83ec3e2572becfa481"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T10:03:14Z",
        "org": {
            "id": 7195757,
            "login": "grafana",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/grafana",
            "avatar_url": "https://avatars.githubusercontent.com/u/7195757?"
        }
    }
]