[
    {
        "id": "32897817965",
        "type": "WatchEvent",
        "actor": {
            "id": 35604369,
            "login": "agrawalsourav98",
            "display_login": "agrawalsourav98",
            "gravatar_id": "",
            "url": "https://api.github.com/users/agrawalsourav98",
            "avatar_url": "https://avatars.githubusercontent.com/u/35604369?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T11:58:04Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32897302907",
        "type": "WatchEvent",
        "actor": {
            "id": 6171313,
            "login": "stani0502",
            "display_login": "stani0502",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stani0502",
            "avatar_url": "https://avatars.githubusercontent.com/u/6171313?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T11:36:30Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32896922430",
        "type": "CreateEvent",
        "actor": {
            "id": 101130780,
            "login": "mertalev",
            "display_login": "mertalev",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mertalev",
            "avatar_url": "https://avatars.githubusercontent.com/u/101130780?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "ref": "chore/ml-export-models",
            "ref_type": "branch",
            "master_branch": "main",
            "description": "Self-hosted photo and video backup solution directly from your mobile phone.",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-27T11:20:27Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32896750714",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 4334196,
            "login": "jrasm91",
            "display_login": "jrasm91",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jrasm91",
            "avatar_url": "https://avatars.githubusercontent.com/u/4334196?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/4659",
                "repository_url": "https://api.github.com/repos/immich-app/immich",
                "labels_url": "https://api.github.com/repos/immich-app/immich/issues/4659/labels{/name}",
                "comments_url": "https://api.github.com/repos/immich-app/immich/issues/4659/comments",
                "events_url": "https://api.github.com/repos/immich-app/immich/issues/4659/events",
                "html_url": "https://github.com/immich-app/immich/pull/4659",
                "id": 1963894161,
                "node_id": "PR_kwDOGyI-8M5d4vC6",
                "number": 4659,
                "title": "fix(mobile): sync issue due to time mismatch",
                "user": {
                    "login": "fyfrey",
                    "id": 10599762,
                    "node_id": "MDQ6VXNlcjEwNTk5NzYy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10599762?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/fyfrey",
                    "html_url": "https://github.com/fyfrey",
                    "followers_url": "https://api.github.com/users/fyfrey/followers",
                    "following_url": "https://api.github.com/users/fyfrey/following{/other_user}",
                    "gists_url": "https://api.github.com/users/fyfrey/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/fyfrey/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/fyfrey/subscriptions",
                    "organizations_url": "https://api.github.com/users/fyfrey/orgs",
                    "repos_url": "https://api.github.com/users/fyfrey/repos",
                    "events_url": "https://api.github.com/users/fyfrey/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/fyfrey/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 5562511555,
                        "node_id": "LA_kwDOGyI-8M8AAAABS40www",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/%F0%9F%93%B1mobile",
                        "name": "\ud83d\udcf1mobile",
                        "color": "D4C5F9",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 5562513270,
                        "node_id": "LA_kwDOGyI-8M8AAAABS403dg",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/%F0%9F%97%84%EF%B8%8Fserver",
                        "name": "\ud83d\uddc4\ufe0fserver",
                        "color": "C5DEF5",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 7,
                "created_at": "2023-10-26T16:07:13Z",
                "updated_at": "2023-10-27T11:13:22Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/immich-app/immich/pulls/4659",
                    "html_url": "https://github.com/immich-app/immich/pull/4659",
                    "diff_url": "https://github.com/immich-app/immich/pull/4659.diff",
                    "patch_url": "https://github.com/immich-app/immich/pull/4659.patch",
                    "merged_at": null
                },
                "body": "Currently, the app can get sync issues because of a time mismatch between server and client. This can both occur due to timezone changes or simply wrong clocks.\r\n\r\nWith this PR, the client retrieves the time for the next sync request from the server, thus solving the issue.",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/4659/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/immich-app/immich/issues/4659/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782733309",
                "html_url": "https://github.com/immich-app/immich/pull/4659#issuecomment-1782733309",
                "issue_url": "https://api.github.com/repos/immich-app/immich/issues/4659",
                "id": 1782733309,
                "node_id": "IC_kwDOGyI-8M5qQln9",
                "user": {
                    "login": "jrasm91",
                    "id": 4334196,
                    "node_id": "MDQ6VXNlcjQzMzQxOTY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4334196?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jrasm91",
                    "html_url": "https://github.com/jrasm91",
                    "followers_url": "https://api.github.com/users/jrasm91/followers",
                    "following_url": "https://api.github.com/users/jrasm91/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jrasm91/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jrasm91/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jrasm91/subscriptions",
                    "organizations_url": "https://api.github.com/users/jrasm91/orgs",
                    "repos_url": "https://api.github.com/users/jrasm91/repos",
                    "events_url": "https://api.github.com/users/jrasm91/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jrasm91/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:13:22Z",
                "updated_at": "2023-10-27T11:13:22Z",
                "author_association": "COLLABORATOR",
                "body": "Right if local time is the same it is never an issue. It should not be a requirement that the client, server, and database are on the same timezone though. I'm guessing this can be reproduced by having the client and server on different timezones.",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782733309/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:13:23Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32896633911",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 4334196,
            "login": "jrasm91",
            "display_login": "jrasm91",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jrasm91",
            "avatar_url": "https://avatars.githubusercontent.com/u/4334196?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/4655",
                "repository_url": "https://api.github.com/repos/immich-app/immich",
                "labels_url": "https://api.github.com/repos/immich-app/immich/issues/4655/labels{/name}",
                "comments_url": "https://api.github.com/repos/immich-app/immich/issues/4655/comments",
                "events_url": "https://api.github.com/repos/immich-app/immich/issues/4655/events",
                "html_url": "https://github.com/immich-app/immich/pull/4655",
                "id": 1963166776,
                "node_id": "PR_kwDOGyI-8M5d2OG9",
                "number": 4655,
                "title": "feat(server,web,mobile): Add optional password option for share links.",
                "user": {
                    "login": "jarvis2f",
                    "id": 137974272,
                    "node_id": "U_kgDOCDlSAA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/137974272?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jarvis2f",
                    "html_url": "https://github.com/jarvis2f",
                    "followers_url": "https://api.github.com/users/jarvis2f/followers",
                    "following_url": "https://api.github.com/users/jarvis2f/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jarvis2f/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jarvis2f/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jarvis2f/subscriptions",
                    "organizations_url": "https://api.github.com/users/jarvis2f/orgs",
                    "repos_url": "https://api.github.com/users/jarvis2f/repos",
                    "events_url": "https://api.github.com/users/jarvis2f/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jarvis2f/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 13,
                "created_at": "2023-10-26T10:07:44Z",
                "updated_at": "2023-10-27T11:08:32Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/immich-app/immich/pulls/4655",
                    "html_url": "https://github.com/immich-app/immich/pull/4655",
                    "diff_url": "https://github.com/immich-app/immich/pull/4655.diff",
                    "patch_url": "https://github.com/immich-app/immich/pull/4655.patch",
                    "merged_at": null
                },
                "body": "## Introduction\r\n\r\nThis Pull Request aims to introduce password protection for shared links. In this Pull Request, I have implemented the following functionalities:\r\n\r\n- An option to use a password when creating shared links in both web and mobile applications.\r\n- A prompt for users to enter the password when attempting to access a password-protected shared link through the web application.\r\n\r\n## Testing\r\n\r\nI have added new test cases to ensure the correct functioning of these changes. I have manually tested these changes in both locally environments, everything is running well.\r\n\r\n## Screenshots\r\n\r\n<img width=\"539\" alt=\"image\" src=\"https://github.com/immich-app/immich/assets/137974272/566d70dc-e246-4413-882c-ad9d269d2a18\">\r\n<img width=\"1497\" alt=\"image\" src=\"https://github.com/immich-app/immich/assets/137974272/60881441-9e44-47fe-8941-bb983bdf1d7a\">\r\n<img width=\"369\" alt=\"image\" src=\"https://github.com/immich-app/immich/assets/137974272/2d314294-296c-4181-ba9b-a297d158122a\">\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/4655/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/immich-app/immich/issues/4655/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782727359",
                "html_url": "https://github.com/immich-app/immich/pull/4655#issuecomment-1782727359",
                "issue_url": "https://api.github.com/repos/immich-app/immich/issues/4655",
                "id": 1782727359,
                "node_id": "IC_kwDOGyI-8M5qQkK_",
                "user": {
                    "login": "jrasm91",
                    "id": 4334196,
                    "node_id": "MDQ6VXNlcjQzMzQxOTY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4334196?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jrasm91",
                    "html_url": "https://github.com/jrasm91",
                    "followers_url": "https://api.github.com/users/jrasm91/followers",
                    "following_url": "https://api.github.com/users/jrasm91/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jrasm91/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jrasm91/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jrasm91/subscriptions",
                    "organizations_url": "https://api.github.com/users/jrasm91/orgs",
                    "repos_url": "https://api.github.com/users/jrasm91/repos",
                    "events_url": "https://api.github.com/users/jrasm91/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jrasm91/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:08:32Z",
                "updated_at": "2023-10-27T11:08:32Z",
                "author_association": "COLLABORATOR",
                "body": "It looks like a whitespace issue. I would probably recommend rebasing, switching the changes into a single commit, undoing the edit in the first place and then force pushing.",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782727359/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:08:32Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32896488956",
        "type": "IssuesEvent",
        "actor": {
            "id": 4334196,
            "login": "jrasm91",
            "display_login": "jrasm91",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jrasm91",
            "avatar_url": "https://avatars.githubusercontent.com/u/4334196?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/4666",
                "repository_url": "https://api.github.com/repos/immich-app/immich",
                "labels_url": "https://api.github.com/repos/immich-app/immich/issues/4666/labels{/name}",
                "comments_url": "https://api.github.com/repos/immich-app/immich/issues/4666/comments",
                "events_url": "https://api.github.com/repos/immich-app/immich/issues/4666/events",
                "html_url": "https://github.com/immich-app/immich/issues/4666",
                "id": 1964661966,
                "node_id": "I_kwDOGyI-8M51GlzO",
                "number": 4666,
                "title": "[BUG] failed to download ViT-B-32 ",
                "user": {
                    "login": "t3dium",
                    "id": 83690012,
                    "node_id": "MDQ6VXNlcjgzNjkwMDEy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/83690012?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/t3dium",
                    "html_url": "https://github.com/t3dium",
                    "followers_url": "https://api.github.com/users/t3dium/followers",
                    "following_url": "https://api.github.com/users/t3dium/following{/other_user}",
                    "gists_url": "https://api.github.com/users/t3dium/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/t3dium/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/t3dium/subscriptions",
                    "organizations_url": "https://api.github.com/users/t3dium/orgs",
                    "repos_url": "https://api.github.com/users/t3dium/repos",
                    "events_url": "https://api.github.com/users/t3dium/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/t3dium/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3795217315,
                        "node_id": "LA_kwDOGyI-8M7iNmuj",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 4333905427,
                        "node_id": "LA_kwDOGyI-8M8AAAABAlImEw",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/need%20triage",
                        "name": "need triage",
                        "color": "FBCA04",
                        "default": false,
                        "description": "Bug that need triage from maintainer"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-27T02:40:20Z",
                "updated_at": "2023-10-27T11:02:35Z",
                "closed_at": "2023-10-27T11:02:35Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### The bug\n\nThe VIT-B-32 model fails to download in immich, leading to encoding clips failing. Logs are shown below.\r\n\r\nImmich's machine learning container:\r\n\r\n```\r\nActions\r\n\r\n      \r\n\r\n    raw_response = await run_endpoint_function(\r\n\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/fastapi/routing.py\", line 163, in run_endpoint_function\r\n\r\n    return await dependant.call(**values)\r\n\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/usr/src/app/main.py\", line 75, in predict\r\n\r\n    model = await load(await app.state.model_cache.get(model_name, model_type, **kwargs))\r\n\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/usr/src/app/main.py\", line 101, in load\r\n\r\n    await loop.run_in_executor(app.state.thread_pool, _load)\r\n\r\n  File \"/usr/local/lib/python3.11/concurrent/futures/thread.py\", line 58, in run\r\n\r\n    result = self.fn(*self.args, **self.kwargs)\r\n\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/usr/src/app/main.py\", line 94, in _load\r\n\r\n    model.load()\r\n\r\n  File \"/usr/src/app/models/base.py\", line 63, in load\r\n\r\n    self.download()\r\n\r\n  File \"/usr/src/app/models/base.py\", line 58, in download\r\n\r\n    self._download()\r\n\r\n  File \"/usr/src/app/models/clip.py\", line 43, in _download\r\n\r\n    self._download_model(*models[0])\r\n\r\n  File \"/usr/src/app/models/clip.py\", line 101, in _download_model\r\n\r\n    download_model(\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/clip_server/model/pretrained_models.py\", line 239, in download_model\r\n\r\n    raise RuntimeError(\r\n\r\nRuntimeError: Failed to download https://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d53657276696365/onnx/ViT-B-32/textual.onnx within retry limit 3\r\n\r\n[10/27/23 00:43:56] INFO     Downloading clip model 'ViT-B-32::openai'.This may \r\n\r\n                             take a while.                                      \r\n\r\nFailed to download \r\n\r\nhttps://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d536572\r\n\r\n76696365/onnx/ViT-B-32/textual.onnx with <HTTPError 403: 'Forbidden'> at the 0th\r\n\r\nattempt\r\n\r\nFailed to download \r\n\r\nhttps://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d536572\r\n\r\n76696365/onnx/ViT-B-32/textual.onnx with <HTTPError 403: 'Forbidden'> at the 1th\r\n\r\nattempt\r\n\r\nFailed to download \r\n\r\nhttps://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d536572\r\n\r\n76696365/onnx/ViT-B-32/textual.onnx with <HTTPError 403: 'Forbidden'> at the 2th\r\n\r\nattempt\r\n\r\n  textual.onnx 0.0% \u2022 0/100 bytes \u2022 ? \u2022 -:--:--\r\n\r\n                                               \r\n\r\nException in ASGI application\r\n\r\nTraceback (most recent call last):\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 435, in run_asgi\r\n\r\n    result = await app(  # type: ignore[func-returns-value]\r\n\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py\", line 78, in __call__\r\n\r\n    return await self.app(scope, receive, send)\r\n\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/fastapi/applications.py\", line 276, in __call__\r\n\r\n    await super().__call__(scope, receive, send)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/applications.py\", line 122, in __call__\r\n\r\n    await self.middleware_stack(scope, receive, send)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 184, in __call__\r\n\r\n    raise exc\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 162, in __call__\r\n\r\n    await self.app(scope, receive, _send)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\r\n\r\n    raise exc\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\r\n\r\n    await self.app(scope, receive, sender)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 21, in __call__\r\n\r\n    raise e\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\r\n\r\n    await self.app(scope, receive, send)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\r\n\r\n    await route.handle(scope, receive, send)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\r\n\r\n    await self.app(scope, receive, send)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\r\n\r\n    response = await func(request)\r\n\r\n               ^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/fastapi/routing.py\", line 237, in app\r\n\r\n    raw_response = await run_endpoint_function(\r\n\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/fastapi/routing.py\", line 163, in run_endpoint_function\r\n\r\n    return await dependant.call(**values)\r\n\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/usr/src/app/main.py\", line 75, in predict\r\n\r\n    model = await load(await app.state.model_cache.get(model_name, model_type, **kwargs))\r\n\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/usr/src/app/main.py\", line 101, in load\r\n\r\n    await loop.run_in_executor(app.state.thread_pool, _load)\r\n\r\n  File \"/usr/local/lib/python3.11/concurrent/futures/thread.py\", line 58, in run\r\n\r\n    result = self.fn(*self.args, **self.kwargs)\r\n\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/usr/src/app/main.py\", line 94, in _load\r\n\r\n    model.load()\r\n\r\n  File \"/usr/src/app/models/base.py\", line 63, in load\r\n\r\n    self.download()\r\n\r\n  File \"/usr/src/app/models/base.py\", line 58, in download\r\n\r\n    self._download()\r\n\r\n  File \"/usr/src/app/models/clip.py\", line 43, in _download\r\n\r\n    self._download_model(*models[0])\r\n\r\n  File \"/usr/src/app/models/clip.py\", line 101, in _download_model\r\n\r\n    download_model(\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/clip_server/model/pretrained_models.py\", line 239, in download_model\r\n\r\n    raise RuntimeError(\r\n\r\nRuntimeError: Failed to download https://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d53657276696365/onnx/ViT-B-32/textual.onnx within retry limit 3\r\n```\r\nAlso I think it would be best if there's a limit on how many times the download link is queried per a given time period, rather than infinitely trying every few seconds. Otherwise it's going to look malicious on amazon's end if this is occurring on every new immich user's device. \n\n### The OS that Immich Server is running on\n\nDietpi (debian based)\n\n### Version of Immich Server\n\nv1.82.1\n\n### Version of Immich Mobile App\n\nn/a\n\n### Platform with the issue\n\n- [X] Server\n- [ ] Web\n- [ ] Mobile\n\n### Your docker-compose.yml content\n\n```YAML\nI followed the default config https://github.com/immich-app/immich/releases/latest/download/docker-compose.yml\n```\n\n\n### Your .env content\n\n```Shell\nhttps://github.com/immich-app/immich/releases/latest/download/example.env\n```\n\n\n### Reproduction steps\n\n```bash\n1. Started the immich stack\r\n2. Uploaded photos\r\n3. Tried searching for images\n```\n\n\n### Additional information\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/4666/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/immich-app/immich/issues/4666/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:02:36Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32895675863",
        "type": "WatchEvent",
        "actor": {
            "id": 1773222,
            "login": "nerocide",
            "display_login": "nerocide",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nerocide",
            "avatar_url": "https://avatars.githubusercontent.com/u/1773222?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T10:28:45Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32894747795",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 51091213,
            "login": "FelixBuehler",
            "display_login": "FelixBuehler",
            "gravatar_id": "",
            "url": "https://api.github.com/users/FelixBuehler",
            "avatar_url": "https://avatars.githubusercontent.com/u/51091213?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/4117",
                "repository_url": "https://api.github.com/repos/immich-app/immich",
                "labels_url": "https://api.github.com/repos/immich-app/immich/issues/4117/labels{/name}",
                "comments_url": "https://api.github.com/repos/immich-app/immich/issues/4117/comments",
                "events_url": "https://api.github.com/repos/immich-app/immich/issues/4117/events",
                "html_url": "https://github.com/immich-app/immich/issues/4117",
                "id": 1899687244,
                "node_id": "I_kwDOGyI-8M5xOu1M",
                "number": 4117,
                "title": "[BUG] Search for anything ==> Immich fails to download textual.onnx",
                "user": {
                    "login": "dankasak",
                    "id": 7410307,
                    "node_id": "MDQ6VXNlcjc0MTAzMDc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7410307?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dankasak",
                    "html_url": "https://github.com/dankasak",
                    "followers_url": "https://api.github.com/users/dankasak/followers",
                    "following_url": "https://api.github.com/users/dankasak/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dankasak/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dankasak/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dankasak/subscriptions",
                    "organizations_url": "https://api.github.com/users/dankasak/orgs",
                    "repos_url": "https://api.github.com/users/dankasak/repos",
                    "events_url": "https://api.github.com/users/dankasak/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dankasak/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3795217315,
                        "node_id": "LA_kwDOGyI-8M7iNmuj",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 4333905427,
                        "node_id": "LA_kwDOGyI-8M8AAAABAlImEw",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/need%20triage",
                        "name": "need triage",
                        "color": "FBCA04",
                        "default": false,
                        "description": "Bug that need triage from maintainer"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 41,
                "created_at": "2023-09-17T07:22:13Z",
                "updated_at": "2023-10-27T09:53:45Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### The bug\n\nWhen I search for anything in immich, I get generic errors in the UI. In docker logs, I can see that something is trying to download Downloading clip model 'ViT-B-32::openai' ... and \"This may take a while\". However it fails within about 3 seconds. I've downloaded this on the host using curl. Can I persist this somewhere for whatever needs it ... and if so, where? Why is it failing so quickly?\r\n\r\nThis seems to be triggered from:\r\nhttps://github.com/jina-ai/clip-as-service/blob/main/server/clip_server/model/clip_onnx.py\r\n\r\n```\r\nc69e23fa6733 [hooks.server.ts]:handleError Not found: /_app/immutable/nodes/0.c95dfcd6.js\r\nc69e23fa6733 [hooks.server.ts]:handleError Not found: /_app/immutable/chunks/menu-option.36f2860d.js\r\nc69e23fa6733 [hooks.server.ts]:handleError Not found: /_app/immutable/chunks/image-thumbnail.ef5e539c.js\r\nc69e23fa6733 [hooks.server.ts]:handleError Not found: /_app/immutable/chunks/download-action.de99beb0.js\r\nc69e23fa6733 [hooks.server.ts]:handleError Not found: /_app/immutable/chunks/thumbnail.5d0111e5.js\r\n1058d5367490 I20230914 00:44:31.263882 353 raft_server.cpp:546] Term: 8, last_index index: 53064, committed_index: 53064, known_applied_index: 53064, applying_index: 0, queued_writes: 0, pending_queue_size: 0, local_sequence: 848797\r\n1058d5367490 I20230914 00:44:31.263913 442 raft_server.h:60] Peer refresh succeeded!\r\n279bec116ed3 [09/14/23 00:44:33] INFO Downloading clip model 'ViT-B-32::openai'.This may\r\n279bec116ed3 take a while.\r\n279bec116ed3 Failed to download\r\n279bec116ed3 https://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d536572\r\n279bec116ed3 76696365/onnx/ViT-B-32/textual.onnx with <HTTPError 416: 'Requested Range Not\r\n279bec116ed3 Satisfiable'> at the 0th attempt\r\n279bec116ed3 Failed to download\r\n279bec116ed3 https://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d536572\r\n279bec116ed3 76696365/onnx/ViT-B-32/textual.onnx with <HTTPError 416: 'Requested Range Not\r\n279bec116ed3 Satisfiable'> at the 1th attempt\r\nc69e23fa6733 {\r\n279bec116ed3 Failed to download\r\nf9ab2bb52a73 [Nest] 2 - 09/14/2023, 12:44:39 AM ERROR [ExceptionsHandler] Request for clip failed with status 500: Internal Server Error\r\n279bec116ed3 https://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d536572\r\nc69e23fa6733 status: 500,\r\nf9ab2bb52a73 Error: Request for clip failed with status 500: Internal Server Error\r\n279bec116ed3 76696365/onnx/ViT-B-32/textual.onnx with <HTTPError 416: 'Requested Range Not\r\nc69e23fa6733 url: 'GET /search?q=tree&clip=true',\r\n279bec116ed3 Satisfiable'> at the 2th attempt\r\nc69e23fa6733 response: { statusCode: 500, message: 'Internal server error' }\r\nf9ab2bb52a73 at [MachineLearningRepository.post](https://machinelearningrepository.post/) (/usr/src/app/dist/infra/repositories/machine-learning.repository.js:29:19)\r\n279bec116ed3 textual.onnx 0.0% \u2022 0.0/254.1 MB \u2022 ? \u2022 0:00:00\r\nc69e23fa6733 }\r\nf9ab2bb52a73 at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n279bec116ed3\r\nc69e23fa6733 [hooks.server.ts]:handleError Internal server error\r\nf9ab2bb52a73 at async SearchService.search (/usr/src/app/dist/domain/search/search.service.js:114:35)\r\n279bec116ed3 Exception in ASGI application\r\nf9ab2bb52a73 at async /usr/src/app/node_modules/@nestjs/core/router/router-execution-context.js:46:28\r\n279bec116ed3 Traceback (most recent call last):\r\nf9ab2bb52a73 at async /usr/src/app/node_modules/@nestjs/core/router/router-proxy.js:9:17\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 435, in run_asgi\r\n279bec116ed3 result = await app( # type: ignore[func-returns-value]\r\n279bec116ed3 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py\", line 78, in __call__\r\n279bec116ed3 return await [self.app](https://self.app/)(scope, receive, send)\r\n279bec116ed3 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/fastapi/applications.py\", line 276, in __call__\r\n279bec116ed3 await super().__call__(scope, receive, send)\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/starlette/applications.py\", line 122, in __call__\r\n279bec116ed3 await self.middleware_stack(scope, receive, send)\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 184, in __call__\r\n279bec116ed3 raise exc\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 162, in __call__\r\n279bec116ed3 await [self.app](https://self.app/)(scope, receive, _send)\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\r\n279bec116ed3 raise exc\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\r\n279bec116ed3 await [self.app](https://self.app/)(scope, receive, sender)\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 21, in __call__\r\n279bec116ed3 raise e\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\r\n279bec116ed3 await [self.app](https://self.app/)(scope, receive, send)\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\r\n279bec116ed3 await route.handle(scope, receive, send)\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\r\n279bec116ed3 await [self.app](https://self.app/)(scope, receive, send)\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\r\n279bec116ed3 response = await func(request)\r\n279bec116ed3 ^^^^^^^^^^^^^^^^^^^\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/fastapi/routing.py\", line 237, in app\r\n279bec116ed3 raw_response = await run_endpoint_function(\r\n279bec116ed3 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/fastapi/routing.py\", line 163, in run_endpoint_function\r\n279bec116ed3 return await [dependant.call](https://dependant.call/)(**values)\r\n279bec116ed3 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n279bec116ed3 File \"/usr/src/app/main.py\", line 75, in predict\r\n279bec116ed3 model = await load(await app.state.model_cache.get(model_name, model_type, **kwargs))\r\n279bec116ed3 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n279bec116ed3 File \"/usr/src/app/main.py\", line 101, in load\r\n279bec116ed3 await loop.run_in_executor(app.state.thread_pool, _load)\r\n279bec116ed3 File \"/usr/local/lib/python3.11/concurrent/futures/thread.py\", line 58, in run\r\n279bec116ed3 result = self.fn(*self.args, **self.kwargs)\r\n279bec116ed3 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n279bec116ed3 File \"/usr/src/app/main.py\", line 94, in _load\r\n279bec116ed3 model.load()\r\n279bec116ed3 File \"/usr/src/app/models/base.py\", line 63, in load\r\n279bec116ed3 [self.download](https://self.download/)()\r\n279bec116ed3 File \"/usr/src/app/models/base.py\", line 58, in download\r\n279bec116ed3 self._download()\r\n279bec116ed3 File \"/usr/src/app/models/clip.py\", line 51, in _download\r\n279bec116ed3 self._download_model(*models[0])\r\n279bec116ed3 File \"/usr/src/app/models/clip.py\", line 123, in _download_model\r\n279bec116ed3 download_model(\r\n279bec116ed3 File \"/opt/venv/lib/python3.11/site-packages/clip_server/model/pretrained_models.py\", line 239, in download_model\r\n279bec116ed3 raise RuntimeError(\r\n279bec116ed3 RuntimeError: Failed to download https://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d53657276696365/onnx/ViT-B-32/textual.onnx within retry limit 3\r\n279bec116ed3 [09/14/23 00:44:39] INFO Downloading clip model 'ViT-B-32::openai'.This may\r\n279bec116ed3 take a while.\r\n1058d5367490 I20230914 00:44:41.235440 354 batched_indexer.cpp:284] Running GC for aborted requests, req map size: 0\r\n1058d5367490 I20230914 00:44:41.264710 353 raft_server.cpp:546] Term: 8, last_index index: 53064, committed_index: 53064, known_applied_index: 53064, applying_index: 0, queued_writes: 0, pending_queue_size: 0, local_sequence: 848797\r\n1058d5367490 I20230914 00:44:41.264742 442 raft_server.h:60] Peer refresh succeeded!\r\n279bec116ed3 Failed to download\r\n279bec116ed3 https://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d536572\r\n279bec116ed3 76696365/onnx/ViT-B-32/textual.onnx with <HTTPError 416: 'Requested Range Not\r\n279bec116ed3 Satisfiable'> at the 0th attempt\r\n279bec116ed3 Failed to download\r\n279bec116ed3 https://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d536572\r\n279bec116ed3 76696365/onnx/ViT-B-32/textual.onnx with <HTTPError 416: 'Requested Range Not\r\n279bec116ed3 Satisfiable'> at the 1th attempt\r\n```\n\n### The OS that Immich Server is running on\n\nDocker\n\n### Version of Immich Server\n\nv1.78.0\n\n### Version of Immich Mobile App\n\nv1.78.0\n\n### Platform with the issue\n\n- [X] Server\n- [ ] Web\n- [ ] Mobile\n\n### Your docker-compose.yml content\n\n```YAML\nversion: \"3.8\"\r\n\r\nservices:\r\n  immich-server:\r\n    container_name: immich_server\r\n    image: ghcr.io/immich-app/immich-server:${IMMICH_VERSION:-release}\r\n    command: [ \"start.sh\", \"immich\" ]\r\n    volumes:\r\n      - ${UPLOAD_LOCATION}:/usr/src/app/upload\r\n      - ${PHOTOPRISM_LOCATION}:/photoprism:ro\r\n    env_file:\r\n      - .env\r\n    depends_on:\r\n      - redis\r\n#      - database\r\n      - typesense\r\n    restart: always\r\n\r\n  immich-microservices:\r\n    container_name: immich_microservices\r\n    image: ghcr.io/immich-app/immich-server:${IMMICH_VERSION:-release}\r\n    extends:\r\n      file: hwaccel.yml\r\n      service: hwaccel\r\n    command: [ \"start.sh\", \"microservices\" ]\r\n    volumes:\r\n      - ${UPLOAD_LOCATION}:/usr/src/app/upload\r\n      - ${PHOTOPRISM_LOCATION}:/photoprism:ro\r\n    env_file:\r\n      - .env\r\n    depends_on:\r\n      - redis\r\n#      - database\r\n      - typesense\r\n    restart: always\r\n\r\n  immich-machine-learning:\r\n    container_name: immich_machine_learning\r\n    image: ghcr.io/immich-app/immich-machine-learning:${IMMICH_VERSION:-release}\r\n    volumes:\r\n      - ${MODEL_CACHE_LOCATION}:/cache\r\n    env_file:\r\n      - .env\r\n    restart: always\r\n\r\n  immich-web:\r\n    container_name: immich_web\r\n    image: ghcr.io/immich-app/immich-web:${IMMICH_VERSION:-release}\r\n    env_file:\r\n      - .env\r\n    restart: always\r\n\r\n  typesense:\r\n    container_name: immich_typesense\r\n    image: typesense/typesense:0.24.1@sha256:9bcff2b829f12074426ca044b56160ca9d777a0c488303469143dd9f8259d4dd\r\n    environment:\r\n      - TYPESENSE_API_KEY=${TYPESENSE_API_KEY}\r\n      - TYPESENSE_DATA_DIR=/data\r\n    volumes:\r\n      - ${TYPESENSE_LOCATION}:/data\r\n    restart: always\r\n\r\n  redis:\r\n    container_name: immich_redis\r\n    image: redis:6.2-alpine@sha256:70a7a5b641117670beae0d80658430853896b5ef269ccf00d1827427e3263fa3\r\n    restart: always\r\n\r\n#  database:\r\n#    container_name: immich_postgres\r\n#    image: postgres:14-alpine@sha256:28407a9961e76f2d285dc6991e8e48893503cc3836a4755bbc2d40bcc272a441\r\n#    env_file:\r\n#      - .env\r\n#    environment:\r\n#      POSTGRES_PASSWORD: ${DB_PASSWORD}\r\n#      POSTGRES_USER: ${DB_USERNAME}\r\n#      POSTGRES_DB: ${DB_DATABASE_NAME}\r\n#    volumes:\r\n#      - ${PG_LOCATION}:/var/lib/postgresql/data\r\n#    restart: always\r\n\r\n  immich-proxy:\r\n    container_name: immich_proxy\r\n    image: ghcr.io/immich-app/immich-proxy:${IMMICH_VERSION:-release}\r\n    environment:\r\n      # Make sure these values get passed through from the env file\r\n      - IMMICH_SERVER_URL\r\n      - IMMICH_WEB_URL\r\n    ports:\r\n      - 2283:8080\r\n    depends_on:\r\n      - immich-server\r\n      - immich-web\r\n    restart: always\r\n\r\nvolumes:\r\n  pgdata:\r\n  model-cache:\r\n  tsdata:\n```\n\n\n### Your .env content\n\n```Shell\n# You can find documentation for all the supported env variables at https://immich.app/docs/install/environment-variables\r\n\r\n# The location where your uploaded files are stored\r\nUPLOAD_LOCATION=/mnt/array0/immich/uploads\r\nPG_LOCATION=/mnt/array0/immich/postgres\r\nMODEL_CACHE_LOCATION=/mnt/array0/immich/model-cache\r\nTYPESENSE_LOCATION=/mnt/array0/immich/typesense\r\n\r\nPHOTOPRISM_LOCATION=/mnt/array0/photoprism/originals\r\n\r\n# The Immich version to use. You can pin this to a specific version like \"v1.71.0\"\r\nIMMICH_VERSION=release\r\n\r\n# Connection secrets for postgres and typesense. You should change these to random passwords\r\nTYPESENSE_API_KEY=blah-bliggedy-blah\r\nDB_PASSWORD=********\r\n\r\n# The values below this line do not need to be changed\r\n###################################################################################\r\nDB_HOSTNAME=192.168.1.128\r\nDB_USERNAME=immich\r\nDB_DATABASE_NAME=immich\r\n\r\nREDIS_HOSTNAME=immich_redis\n```\n\n\n### Reproduction steps\n\n```bash\n1.search for anything in immich\n```\n\n\n### Additional information\n\nA search in the UI will trigger a download of https://github.com/jina-ai/clip-as-service/blob/main/server/clip_server/model/clip_onnx.py which will fail almost immediately",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/4117/reactions",
                    "total_count": 13,
                    "+1": 9,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 4
                },
                "timeline_url": "https://api.github.com/repos/immich-app/immich/issues/4117/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782631234",
                "html_url": "https://github.com/immich-app/immich/issues/4117#issuecomment-1782631234",
                "issue_url": "https://api.github.com/repos/immich-app/immich/issues/4117",
                "id": 1782631234,
                "node_id": "IC_kwDOGyI-8M5qQMtC",
                "user": {
                    "login": "FelixBuehler",
                    "id": 51091213,
                    "node_id": "MDQ6VXNlcjUxMDkxMjEz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/51091213?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/FelixBuehler",
                    "html_url": "https://github.com/FelixBuehler",
                    "followers_url": "https://api.github.com/users/FelixBuehler/followers",
                    "following_url": "https://api.github.com/users/FelixBuehler/following{/other_user}",
                    "gists_url": "https://api.github.com/users/FelixBuehler/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/FelixBuehler/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/FelixBuehler/subscriptions",
                    "organizations_url": "https://api.github.com/users/FelixBuehler/orgs",
                    "repos_url": "https://api.github.com/users/FelixBuehler/repos",
                    "events_url": "https://api.github.com/users/FelixBuehler/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/FelixBuehler/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T09:53:45Z",
                "updated_at": "2023-10-27T09:53:45Z",
                "author_association": "NONE",
                "body": "> [dylangovender](/dylangovender)\r\nthanks for that! am i right in assuming that i need to re-run \"ENCODE CLIP\" and \"TAG OBJECTS\" in the jobs page?",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782631234/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T09:53:46Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32894326958",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 25386629,
            "login": "tdopierre",
            "display_login": "tdopierre",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tdopierre",
            "avatar_url": "https://avatars.githubusercontent.com/u/25386629?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/4666",
                "repository_url": "https://api.github.com/repos/immich-app/immich",
                "labels_url": "https://api.github.com/repos/immich-app/immich/issues/4666/labels{/name}",
                "comments_url": "https://api.github.com/repos/immich-app/immich/issues/4666/comments",
                "events_url": "https://api.github.com/repos/immich-app/immich/issues/4666/events",
                "html_url": "https://github.com/immich-app/immich/issues/4666",
                "id": 1964661966,
                "node_id": "I_kwDOGyI-8M51GlzO",
                "number": 4666,
                "title": "[BUG] failed to download ViT-B-32 ",
                "user": {
                    "login": "t3dium",
                    "id": 83690012,
                    "node_id": "MDQ6VXNlcjgzNjkwMDEy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/83690012?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/t3dium",
                    "html_url": "https://github.com/t3dium",
                    "followers_url": "https://api.github.com/users/t3dium/followers",
                    "following_url": "https://api.github.com/users/t3dium/following{/other_user}",
                    "gists_url": "https://api.github.com/users/t3dium/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/t3dium/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/t3dium/subscriptions",
                    "organizations_url": "https://api.github.com/users/t3dium/orgs",
                    "repos_url": "https://api.github.com/users/t3dium/repos",
                    "events_url": "https://api.github.com/users/t3dium/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/t3dium/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3795217315,
                        "node_id": "LA_kwDOGyI-8M7iNmuj",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 4333905427,
                        "node_id": "LA_kwDOGyI-8M8AAAABAlImEw",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/need%20triage",
                        "name": "need triage",
                        "color": "FBCA04",
                        "default": false,
                        "description": "Bug that need triage from maintainer"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-27T02:40:20Z",
                "updated_at": "2023-10-27T09:37:46Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### The bug\n\nThe VIT-B-32 model fails to download in immich, leading to encoding clips failing. Logs are shown below.\r\n\r\nImmich's machine learning container:\r\n\r\n```\r\nActions\r\n\r\n      \r\n\r\n    raw_response = await run_endpoint_function(\r\n\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/fastapi/routing.py\", line 163, in run_endpoint_function\r\n\r\n    return await dependant.call(**values)\r\n\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/usr/src/app/main.py\", line 75, in predict\r\n\r\n    model = await load(await app.state.model_cache.get(model_name, model_type, **kwargs))\r\n\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/usr/src/app/main.py\", line 101, in load\r\n\r\n    await loop.run_in_executor(app.state.thread_pool, _load)\r\n\r\n  File \"/usr/local/lib/python3.11/concurrent/futures/thread.py\", line 58, in run\r\n\r\n    result = self.fn(*self.args, **self.kwargs)\r\n\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/usr/src/app/main.py\", line 94, in _load\r\n\r\n    model.load()\r\n\r\n  File \"/usr/src/app/models/base.py\", line 63, in load\r\n\r\n    self.download()\r\n\r\n  File \"/usr/src/app/models/base.py\", line 58, in download\r\n\r\n    self._download()\r\n\r\n  File \"/usr/src/app/models/clip.py\", line 43, in _download\r\n\r\n    self._download_model(*models[0])\r\n\r\n  File \"/usr/src/app/models/clip.py\", line 101, in _download_model\r\n\r\n    download_model(\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/clip_server/model/pretrained_models.py\", line 239, in download_model\r\n\r\n    raise RuntimeError(\r\n\r\nRuntimeError: Failed to download https://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d53657276696365/onnx/ViT-B-32/textual.onnx within retry limit 3\r\n\r\n[10/27/23 00:43:56] INFO     Downloading clip model 'ViT-B-32::openai'.This may \r\n\r\n                             take a while.                                      \r\n\r\nFailed to download \r\n\r\nhttps://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d536572\r\n\r\n76696365/onnx/ViT-B-32/textual.onnx with <HTTPError 403: 'Forbidden'> at the 0th\r\n\r\nattempt\r\n\r\nFailed to download \r\n\r\nhttps://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d536572\r\n\r\n76696365/onnx/ViT-B-32/textual.onnx with <HTTPError 403: 'Forbidden'> at the 1th\r\n\r\nattempt\r\n\r\nFailed to download \r\n\r\nhttps://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d536572\r\n\r\n76696365/onnx/ViT-B-32/textual.onnx with <HTTPError 403: 'Forbidden'> at the 2th\r\n\r\nattempt\r\n\r\n  textual.onnx 0.0% \u2022 0/100 bytes \u2022 ? \u2022 -:--:--\r\n\r\n                                               \r\n\r\nException in ASGI application\r\n\r\nTraceback (most recent call last):\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 435, in run_asgi\r\n\r\n    result = await app(  # type: ignore[func-returns-value]\r\n\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py\", line 78, in __call__\r\n\r\n    return await self.app(scope, receive, send)\r\n\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/fastapi/applications.py\", line 276, in __call__\r\n\r\n    await super().__call__(scope, receive, send)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/applications.py\", line 122, in __call__\r\n\r\n    await self.middleware_stack(scope, receive, send)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 184, in __call__\r\n\r\n    raise exc\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 162, in __call__\r\n\r\n    await self.app(scope, receive, _send)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\r\n\r\n    raise exc\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\r\n\r\n    await self.app(scope, receive, sender)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 21, in __call__\r\n\r\n    raise e\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\r\n\r\n    await self.app(scope, receive, send)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\r\n\r\n    await route.handle(scope, receive, send)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\r\n\r\n    await self.app(scope, receive, send)\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\r\n\r\n    response = await func(request)\r\n\r\n               ^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/fastapi/routing.py\", line 237, in app\r\n\r\n    raw_response = await run_endpoint_function(\r\n\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/fastapi/routing.py\", line 163, in run_endpoint_function\r\n\r\n    return await dependant.call(**values)\r\n\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/usr/src/app/main.py\", line 75, in predict\r\n\r\n    model = await load(await app.state.model_cache.get(model_name, model_type, **kwargs))\r\n\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/usr/src/app/main.py\", line 101, in load\r\n\r\n    await loop.run_in_executor(app.state.thread_pool, _load)\r\n\r\n  File \"/usr/local/lib/python3.11/concurrent/futures/thread.py\", line 58, in run\r\n\r\n    result = self.fn(*self.args, **self.kwargs)\r\n\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n  File \"/usr/src/app/main.py\", line 94, in _load\r\n\r\n    model.load()\r\n\r\n  File \"/usr/src/app/models/base.py\", line 63, in load\r\n\r\n    self.download()\r\n\r\n  File \"/usr/src/app/models/base.py\", line 58, in download\r\n\r\n    self._download()\r\n\r\n  File \"/usr/src/app/models/clip.py\", line 43, in _download\r\n\r\n    self._download_model(*models[0])\r\n\r\n  File \"/usr/src/app/models/clip.py\", line 101, in _download_model\r\n\r\n    download_model(\r\n\r\n  File \"/opt/venv/lib/python3.11/site-packages/clip_server/model/pretrained_models.py\", line 239, in download_model\r\n\r\n    raise RuntimeError(\r\n\r\nRuntimeError: Failed to download https://clip-as-service.s3.us-east-2.amazonaws.com/models-436c69702d61732d53657276696365/onnx/ViT-B-32/textual.onnx within retry limit 3\r\n```\r\nAlso I think it would be best if there's a limit on how many times the download link is queried per a given time period, rather than infinitely trying every few seconds. Otherwise it's going to look malicious on amazon's end if this is occurring on every new immich user's device. \n\n### The OS that Immich Server is running on\n\nDietpi (debian based)\n\n### Version of Immich Server\n\nv1.82.1\n\n### Version of Immich Mobile App\n\nn/a\n\n### Platform with the issue\n\n- [X] Server\n- [ ] Web\n- [ ] Mobile\n\n### Your docker-compose.yml content\n\n```YAML\nI followed the default config https://github.com/immich-app/immich/releases/latest/download/docker-compose.yml\n```\n\n\n### Your .env content\n\n```Shell\nhttps://github.com/immich-app/immich/releases/latest/download/example.env\n```\n\n\n### Reproduction steps\n\n```bash\n1. Started the immich stack\r\n2. Uploaded photos\r\n3. Tried searching for images\n```\n\n\n### Additional information\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/4666/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/immich-app/immich/issues/4666/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782609133",
                "html_url": "https://github.com/immich-app/immich/issues/4666#issuecomment-1782609133",
                "issue_url": "https://api.github.com/repos/immich-app/immich/issues/4666",
                "id": 1782609133,
                "node_id": "IC_kwDOGyI-8M5qQHTt",
                "user": {
                    "login": "tdopierre",
                    "id": 25386629,
                    "node_id": "MDQ6VXNlcjI1Mzg2NjI5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/25386629?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/tdopierre",
                    "html_url": "https://github.com/tdopierre",
                    "followers_url": "https://api.github.com/users/tdopierre/followers",
                    "following_url": "https://api.github.com/users/tdopierre/following{/other_user}",
                    "gists_url": "https://api.github.com/users/tdopierre/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/tdopierre/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/tdopierre/subscriptions",
                    "organizations_url": "https://api.github.com/users/tdopierre/orgs",
                    "repos_url": "https://api.github.com/users/tdopierre/repos",
                    "events_url": "https://api.github.com/users/tdopierre/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/tdopierre/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T09:37:46Z",
                "updated_at": "2023-10-27T09:37:46Z",
                "author_association": "NONE",
                "body": "This is known issue, please see https://github.com/immich-app/immich/issues/4117#issuecomment-1772790612 ",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782609133/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T09:37:47Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32894319032",
        "type": "PushEvent",
        "actor": {
            "id": 10599762,
            "login": "fyfrey",
            "display_login": "fyfrey",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fyfrey",
            "avatar_url": "https://avatars.githubusercontent.com/u/10599762?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "repository_id": 455229168,
            "push_id": 15589573290,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/dev/hwaccel-rkmpp",
            "head": "2ccb7a3d592521ddf89f6b1b952c3022a6030220",
            "before": "d486f2a4a3fe587ae8057151cf89639e8b101b60",
            "commits": [
                {
                    "sha": "2ccb7a3d592521ddf89f6b1b952c3022a6030220",
                    "author": {
                        "email": "zody22@gmail.com",
                        "name": "Fynn Petersen-Frey"
                    },
                    "message": "review feedback",
                    "distinct": true,
                    "url": "https://api.github.com/repos/immich-app/immich/commits/2ccb7a3d592521ddf89f6b1b952c3022a6030220"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T09:37:29Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32893534763",
        "type": "WatchEvent",
        "actor": {
            "id": 34552981,
            "login": "tRuNKator",
            "display_login": "tRuNKator",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tRuNKator",
            "avatar_url": "https://avatars.githubusercontent.com/u/34552981?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T09:08:04Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32893353913",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 137974272,
            "login": "jarvis2f",
            "display_login": "jarvis2f",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jarvis2f",
            "avatar_url": "https://avatars.githubusercontent.com/u/137974272?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/4655",
                "repository_url": "https://api.github.com/repos/immich-app/immich",
                "labels_url": "https://api.github.com/repos/immich-app/immich/issues/4655/labels{/name}",
                "comments_url": "https://api.github.com/repos/immich-app/immich/issues/4655/comments",
                "events_url": "https://api.github.com/repos/immich-app/immich/issues/4655/events",
                "html_url": "https://github.com/immich-app/immich/pull/4655",
                "id": 1963166776,
                "node_id": "PR_kwDOGyI-8M5d2OG9",
                "number": 4655,
                "title": "feat(server,web,mobile): Add optional password option for share links.",
                "user": {
                    "login": "jarvis2f",
                    "id": 137974272,
                    "node_id": "U_kgDOCDlSAA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/137974272?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jarvis2f",
                    "html_url": "https://github.com/jarvis2f",
                    "followers_url": "https://api.github.com/users/jarvis2f/followers",
                    "following_url": "https://api.github.com/users/jarvis2f/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jarvis2f/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jarvis2f/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jarvis2f/subscriptions",
                    "organizations_url": "https://api.github.com/users/jarvis2f/orgs",
                    "repos_url": "https://api.github.com/users/jarvis2f/repos",
                    "events_url": "https://api.github.com/users/jarvis2f/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jarvis2f/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 12,
                "created_at": "2023-10-26T10:07:44Z",
                "updated_at": "2023-10-27T09:01:12Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/immich-app/immich/pulls/4655",
                    "html_url": "https://github.com/immich-app/immich/pull/4655",
                    "diff_url": "https://github.com/immich-app/immich/pull/4655.diff",
                    "patch_url": "https://github.com/immich-app/immich/pull/4655.patch",
                    "merged_at": null
                },
                "body": "## Introduction\r\n\r\nThis Pull Request aims to introduce password protection for shared links. In this Pull Request, I have implemented the following functionalities:\r\n\r\n- An option to use a password when creating shared links in both web and mobile applications.\r\n- A prompt for users to enter the password when attempting to access a password-protected shared link through the web application.\r\n\r\n## Testing\r\n\r\nI have added new test cases to ensure the correct functioning of these changes. I have manually tested these changes in both locally environments, everything is running well.\r\n\r\n## Screenshots\r\n\r\n<img width=\"539\" alt=\"image\" src=\"https://github.com/immich-app/immich/assets/137974272/566d70dc-e246-4413-882c-ad9d269d2a18\">\r\n<img width=\"1497\" alt=\"image\" src=\"https://github.com/immich-app/immich/assets/137974272/60881441-9e44-47fe-8941-bb983bdf1d7a\">\r\n<img width=\"369\" alt=\"image\" src=\"https://github.com/immich-app/immich/assets/137974272/2d314294-296c-4181-ba9b-a297d158122a\">\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/4655/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/immich-app/immich/issues/4655/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782557177",
                "html_url": "https://github.com/immich-app/immich/pull/4655#issuecomment-1782557177",
                "issue_url": "https://api.github.com/repos/immich-app/immich/issues/4655",
                "id": 1782557177,
                "node_id": "IC_kwDOGyI-8M5qP6n5",
                "user": {
                    "login": "jarvis2f",
                    "id": 137974272,
                    "node_id": "U_kgDOCDlSAA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/137974272?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jarvis2f",
                    "html_url": "https://github.com/jarvis2f",
                    "followers_url": "https://api.github.com/users/jarvis2f/followers",
                    "following_url": "https://api.github.com/users/jarvis2f/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jarvis2f/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jarvis2f/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jarvis2f/subscriptions",
                    "organizations_url": "https://api.github.com/users/jarvis2f/orgs",
                    "repos_url": "https://api.github.com/users/jarvis2f/repos",
                    "events_url": "https://api.github.com/users/jarvis2f/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jarvis2f/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T09:01:12Z",
                "updated_at": "2023-10-27T09:01:12Z",
                "author_association": "NONE",
                "body": "> Apologies for the nit, but can you also remove the additional new line that got added to the language files? This would bring down the number of files updated in the change-set to half \ud83d\ude05\r\n\r\nWhat should I do? I didn't add additional new line,I just deleted them.",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782557177/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T09:01:13Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32893152616",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 10599762,
            "login": "fyfrey",
            "display_login": "fyfrey",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fyfrey",
            "avatar_url": "https://avatars.githubusercontent.com/u/10599762?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/4659",
                "repository_url": "https://api.github.com/repos/immich-app/immich",
                "labels_url": "https://api.github.com/repos/immich-app/immich/issues/4659/labels{/name}",
                "comments_url": "https://api.github.com/repos/immich-app/immich/issues/4659/comments",
                "events_url": "https://api.github.com/repos/immich-app/immich/issues/4659/events",
                "html_url": "https://github.com/immich-app/immich/pull/4659",
                "id": 1963894161,
                "node_id": "PR_kwDOGyI-8M5d4vC6",
                "number": 4659,
                "title": "fix(mobile): sync issue due to time mismatch",
                "user": {
                    "login": "fyfrey",
                    "id": 10599762,
                    "node_id": "MDQ6VXNlcjEwNTk5NzYy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10599762?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/fyfrey",
                    "html_url": "https://github.com/fyfrey",
                    "followers_url": "https://api.github.com/users/fyfrey/followers",
                    "following_url": "https://api.github.com/users/fyfrey/following{/other_user}",
                    "gists_url": "https://api.github.com/users/fyfrey/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/fyfrey/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/fyfrey/subscriptions",
                    "organizations_url": "https://api.github.com/users/fyfrey/orgs",
                    "repos_url": "https://api.github.com/users/fyfrey/repos",
                    "events_url": "https://api.github.com/users/fyfrey/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/fyfrey/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 5562511555,
                        "node_id": "LA_kwDOGyI-8M8AAAABS40www",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/%F0%9F%93%B1mobile",
                        "name": "\ud83d\udcf1mobile",
                        "color": "D4C5F9",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 5562513270,
                        "node_id": "LA_kwDOGyI-8M8AAAABS403dg",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/%F0%9F%97%84%EF%B8%8Fserver",
                        "name": "\ud83d\uddc4\ufe0fserver",
                        "color": "C5DEF5",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 6,
                "created_at": "2023-10-26T16:07:13Z",
                "updated_at": "2023-10-27T08:53:46Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/immich-app/immich/pulls/4659",
                    "html_url": "https://github.com/immich-app/immich/pull/4659",
                    "diff_url": "https://github.com/immich-app/immich/pull/4659.diff",
                    "patch_url": "https://github.com/immich-app/immich/pull/4659.patch",
                    "merged_at": null
                },
                "body": "Currently, the app can get sync issues because of a time mismatch between server and client. This can both occur due to timezone changes or simply wrong clocks.\r\n\r\nWith this PR, the client retrieves the time for the next sync request from the server, thus solving the issue.",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/4659/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/immich-app/immich/issues/4659/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782546765",
                "html_url": "https://github.com/immich-app/immich/pull/4659#issuecomment-1782546765",
                "issue_url": "https://api.github.com/repos/immich-app/immich/issues/4659",
                "id": 1782546765,
                "node_id": "IC_kwDOGyI-8M5qP4FN",
                "user": {
                    "login": "fyfrey",
                    "id": 10599762,
                    "node_id": "MDQ6VXNlcjEwNTk5NzYy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10599762?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/fyfrey",
                    "html_url": "https://github.com/fyfrey",
                    "followers_url": "https://api.github.com/users/fyfrey/followers",
                    "following_url": "https://api.github.com/users/fyfrey/following{/other_user}",
                    "gists_url": "https://api.github.com/users/fyfrey/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/fyfrey/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/fyfrey/subscriptions",
                    "organizations_url": "https://api.github.com/users/fyfrey/orgs",
                    "repos_url": "https://api.github.com/users/fyfrey/repos",
                    "events_url": "https://api.github.com/users/fyfrey/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/fyfrey/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T08:53:45Z",
                "updated_at": "2023-10-27T08:53:45Z",
                "author_association": "CONTRIBUTOR",
                "body": "We also mount `/etc/localtime:/etc/localtime:ro` for server and microservices, but not for the database container. Maybe this also leads to issues?",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782546765/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T08:53:46Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32893080174",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 139912620,
            "login": "shenlong-tanwen",
            "display_login": "shenlong-tanwen",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shenlong-tanwen",
            "avatar_url": "https://avatars.githubusercontent.com/u/139912620?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/4655",
                "repository_url": "https://api.github.com/repos/immich-app/immich",
                "labels_url": "https://api.github.com/repos/immich-app/immich/issues/4655/labels{/name}",
                "comments_url": "https://api.github.com/repos/immich-app/immich/issues/4655/comments",
                "events_url": "https://api.github.com/repos/immich-app/immich/issues/4655/events",
                "html_url": "https://github.com/immich-app/immich/pull/4655",
                "id": 1963166776,
                "node_id": "PR_kwDOGyI-8M5d2OG9",
                "number": 4655,
                "title": "feat(server,web,mobile): Add optional password option for share links.",
                "user": {
                    "login": "jarvis2f",
                    "id": 137974272,
                    "node_id": "U_kgDOCDlSAA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/137974272?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jarvis2f",
                    "html_url": "https://github.com/jarvis2f",
                    "followers_url": "https://api.github.com/users/jarvis2f/followers",
                    "following_url": "https://api.github.com/users/jarvis2f/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jarvis2f/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jarvis2f/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jarvis2f/subscriptions",
                    "organizations_url": "https://api.github.com/users/jarvis2f/orgs",
                    "repos_url": "https://api.github.com/users/jarvis2f/repos",
                    "events_url": "https://api.github.com/users/jarvis2f/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jarvis2f/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 11,
                "created_at": "2023-10-26T10:07:44Z",
                "updated_at": "2023-10-27T08:51:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/immich-app/immich/pulls/4655",
                    "html_url": "https://github.com/immich-app/immich/pull/4655",
                    "diff_url": "https://github.com/immich-app/immich/pull/4655.diff",
                    "patch_url": "https://github.com/immich-app/immich/pull/4655.patch",
                    "merged_at": null
                },
                "body": "## Introduction\r\n\r\nThis Pull Request aims to introduce password protection for shared links. In this Pull Request, I have implemented the following functionalities:\r\n\r\n- An option to use a password when creating shared links in both web and mobile applications.\r\n- A prompt for users to enter the password when attempting to access a password-protected shared link through the web application.\r\n\r\n## Testing\r\n\r\nI have added new test cases to ensure the correct functioning of these changes. I have manually tested these changes in both locally environments, everything is running well.\r\n\r\n## Screenshots\r\n\r\n<img width=\"539\" alt=\"image\" src=\"https://github.com/immich-app/immich/assets/137974272/566d70dc-e246-4413-882c-ad9d269d2a18\">\r\n<img width=\"1497\" alt=\"image\" src=\"https://github.com/immich-app/immich/assets/137974272/60881441-9e44-47fe-8941-bb983bdf1d7a\">\r\n<img width=\"369\" alt=\"image\" src=\"https://github.com/immich-app/immich/assets/137974272/2d314294-296c-4181-ba9b-a297d158122a\">\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/4655/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/immich-app/immich/issues/4655/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782543009",
                "html_url": "https://github.com/immich-app/immich/pull/4655#issuecomment-1782543009",
                "issue_url": "https://api.github.com/repos/immich-app/immich/issues/4655",
                "id": 1782543009,
                "node_id": "IC_kwDOGyI-8M5qP3Kh",
                "user": {
                    "login": "shenlong-tanwen",
                    "id": 139912620,
                    "node_id": "U_kgDOCFblrA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/139912620?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/shenlong-tanwen",
                    "html_url": "https://github.com/shenlong-tanwen",
                    "followers_url": "https://api.github.com/users/shenlong-tanwen/followers",
                    "following_url": "https://api.github.com/users/shenlong-tanwen/following{/other_user}",
                    "gists_url": "https://api.github.com/users/shenlong-tanwen/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/shenlong-tanwen/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/shenlong-tanwen/subscriptions",
                    "organizations_url": "https://api.github.com/users/shenlong-tanwen/orgs",
                    "repos_url": "https://api.github.com/users/shenlong-tanwen/repos",
                    "events_url": "https://api.github.com/users/shenlong-tanwen/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/shenlong-tanwen/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T08:51:04Z",
                "updated_at": "2023-10-27T08:51:04Z",
                "author_association": "MEMBER",
                "body": "Apologies for the nit, but can you also remove the additional new line that got added to the language files? This would bring down the number of files updated in the change-set to half \ud83d\ude05 ",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782543009/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T08:51:05Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32892744975",
        "type": "WatchEvent",
        "actor": {
            "id": 62204325,
            "login": "129duckflew",
            "display_login": "129duckflew",
            "gravatar_id": "",
            "url": "https://api.github.com/users/129duckflew",
            "avatar_url": "https://avatars.githubusercontent.com/u/62204325?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T08:38:08Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32891626304",
        "type": "WatchEvent",
        "actor": {
            "id": 7540590,
            "login": "cooladam201212",
            "display_login": "cooladam201212",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cooladam201212",
            "avatar_url": "https://avatars.githubusercontent.com/u/7540590?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T07:54:02Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32891615837",
        "type": "WatchEvent",
        "actor": {
            "id": 9526631,
            "login": "CrowMash",
            "display_login": "CrowMash",
            "gravatar_id": "",
            "url": "https://api.github.com/users/CrowMash",
            "avatar_url": "https://avatars.githubusercontent.com/u/9526631?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T07:53:36Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32891613552",
        "type": "WatchEvent",
        "actor": {
            "id": 32475719,
            "login": "daimiaopeng",
            "display_login": "daimiaopeng",
            "gravatar_id": "",
            "url": "https://api.github.com/users/daimiaopeng",
            "avatar_url": "https://avatars.githubusercontent.com/u/32475719?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T07:53:31Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32891312425",
        "type": "WatchEvent",
        "actor": {
            "id": 126962716,
            "login": "Prolonz",
            "display_login": "Prolonz",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Prolonz",
            "avatar_url": "https://avatars.githubusercontent.com/u/126962716?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T07:40:54Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32891194838",
        "type": "WatchEvent",
        "actor": {
            "id": 423462,
            "login": "pmaedel",
            "display_login": "pmaedel",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pmaedel",
            "avatar_url": "https://avatars.githubusercontent.com/u/423462?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T07:36:01Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32889699303",
        "type": "WatchEvent",
        "actor": {
            "id": 13214840,
            "login": "zhcsyncer",
            "display_login": "zhcsyncer",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zhcsyncer",
            "avatar_url": "https://avatars.githubusercontent.com/u/13214840?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T06:25:23Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32888830681",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 49411532,
            "login": "mike-lloyd03",
            "display_login": "mike-lloyd03",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mike-lloyd03",
            "avatar_url": "https://avatars.githubusercontent.com/u/49411532?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/2677",
                "repository_url": "https://api.github.com/repos/immich-app/immich",
                "labels_url": "https://api.github.com/repos/immich-app/immich/issues/2677/labels{/name}",
                "comments_url": "https://api.github.com/repos/immich-app/immich/issues/2677/comments",
                "events_url": "https://api.github.com/repos/immich-app/immich/issues/2677/events",
                "html_url": "https://github.com/immich-app/immich/issues/2677",
                "id": 1744299481,
                "node_id": "I_kwDOGyI-8M5n9-XZ",
                "number": 2677,
                "title": "[BUG] iOS app forever loading backup page",
                "user": {
                    "login": "Harris-KA",
                    "id": 98909780,
                    "node_id": "U_kgDOBeU-VA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/98909780?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Harris-KA",
                    "html_url": "https://github.com/Harris-KA",
                    "followers_url": "https://api.github.com/users/Harris-KA/followers",
                    "following_url": "https://api.github.com/users/Harris-KA/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Harris-KA/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Harris-KA/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Harris-KA/subscriptions",
                    "organizations_url": "https://api.github.com/users/Harris-KA/orgs",
                    "repos_url": "https://api.github.com/users/Harris-KA/repos",
                    "events_url": "https://api.github.com/users/Harris-KA/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Harris-KA/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3795217315,
                        "node_id": "LA_kwDOGyI-8M7iNmuj",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 4333905427,
                        "node_id": "LA_kwDOGyI-8M8AAAABAlImEw",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/need%20triage",
                        "name": "need triage",
                        "color": "FBCA04",
                        "default": false,
                        "description": "Bug that need triage from maintainer"
                    },
                    {
                        "id": 5562511555,
                        "node_id": "LA_kwDOGyI-8M8AAAABS40www",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/%F0%9F%93%B1mobile",
                        "name": "\ud83d\udcf1mobile",
                        "color": "D4C5F9",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 5562546943,
                        "node_id": "LA_kwDOGyI-8M8AAAABS426_w",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/platform:ios",
                        "name": "platform:ios",
                        "color": "F9D0C4",
                        "default": false,
                        "description": "iOS platform"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 18,
                "created_at": "2023-06-06T17:35:35Z",
                "updated_at": "2023-10-27T05:31:57Z",
                "closed_at": "2023-10-11T16:09:31Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### The bug\n\nWhen I try to open the select folders menu on the ios app to backup they just will not load, I only have this problem on an iphone 13 pro, samsung phones are working fine. The phone has around 10,000 photos but another with more uploaded fine. iCloud storage optimization is off and not sure what to do. Some of the photos are uploaded to icloud does that mean that it won't load?\r\n\r\nLog: \r\n[Immich_log_2023-06-06T18_24_29.606833.csv](https://github.com/immich-app/immich/files/11667539/Immich_log_2023-06-06T18_24_29.606833.csv)\r\n\n\n### The OS that Immich Server is running on\n\nDocker in unraid\n\n### Version of Immich Server\n\nv1.60.0\n\n### Version of Immich Mobile App\n\nv1.60.0 build 100\n\n### Platform with the issue\n\n- [ ] Server\n- [ ] Web\n- [X] Mobile\n\n### Your docker-compose.yml content\n\n```YAML\nversion: \"3.8\"\r\n\r\nservices:\r\n  immich-server:\r\n    container_name: immich_server\r\n    image: ghcr.io/immich-app/immich-server:release\r\n    command: [\"start-server.sh\"]\r\n    volumes:\r\n      - ${UPLOAD_LOCATION}:/usr/src/app/upload\r\n    env_file:\r\n      - .env\r\n    depends_on:\r\n      - redis\r\n      - database\r\n      - typesense\r\n    restart: always\r\n\r\n  immich-microservices:\r\n    container_name: immich_microservices\r\n    image: ghcr.io/immich-app/immich-server:release\r\n    command: [\"start-microservices.sh\"]\r\n    volumes:\r\n      - ${UPLOAD_LOCATION}:/usr/src/app/upload\r\n    env_file:\r\n      - .env\r\n    depends_on:\r\n      - redis\r\n      - database\r\n      - typesense\r\n    restart: always\r\n\r\n  immich-machine-learning:\r\n    container_name: immich_machine_learning\r\n    image: ghcr.io/immich-app/immich-machine-learning:release\r\n    volumes:\r\n      - ${UPLOAD_LOCATION}:/usr/src/app/upload\r\n      - model-cache:/cache\r\n    env_file:\r\n      - .env\r\n    restart: always\r\n\r\n  immich-web:\r\n    container_name: immich_web\r\n    image: ghcr.io/immich-app/immich-web:release\r\n    env_file:\r\n      - .env\r\n    restart: always\r\n\r\n  typesense:\r\n    container_name: immich_typesense\r\n    image: typesense/typesense:0.24.0\r\n    environment:\r\n      - TYPESENSE_API_KEY=${TYPESENSE_API_KEY}\r\n      - TYPESENSE_DATA_DIR=/data\r\n    logging:\r\n      driver: none\r\n    volumes:\r\n      - tsdata:/data\r\n    restart: always\r\n\r\n  redis:\r\n    container_name: immich_redis\r\n    image: redis:6.2\r\n    restart: always\r\n\r\n  database:\r\n    container_name: immich_postgres\r\n    image: postgres:14\r\n    env_file:\r\n      - .env\r\n    environment:\r\n      POSTGRES_PASSWORD: ${DB_PASSWORD}\r\n      POSTGRES_USER: ${DB_USERNAME}\r\n      POSTGRES_DB: ${DB_DATABASE_NAME}\r\n      PG_DATA: /var/lib/postgresql/data\r\n    volumes:\r\n      - pgdata:/var/lib/postgresql/data\r\n    restart: always\r\n\r\n  immich-proxy:\r\n    container_name: immich_proxy\r\n    image: ghcr.io/immich-app/immich-proxy:release\r\n    environment:\r\n      # Make sure these values get passed through from the env file\r\n      - IMMICH_SERVER_URL\r\n      - IMMICH_WEB_URL\r\n    ports:\r\n      - 2283:8080\r\n    depends_on:\r\n      - immich-server\r\n    restart: always\r\n\r\nvolumes:\r\n  pgdata:\r\n  model-cache:\r\n  tsdata:\n```\n\n\n### Your .env content\n\n```Shell\n###################################################################################\r\n# Database\r\n###################################################################################\r\n\r\n# NOTE: The following four database variables support Docker secrets by adding a *_FILE suffix to the variable name\r\n# See the docker-compose documentation on secrets for additional details: https://docs.docker.com/compose/compose-file/compose-file-v3/#secrets\r\nDB_HOSTNAME=immich_postgres\r\nDB_USERNAME=postgres\r\nDB_PASSWORD=postgres\r\nDB_DATABASE_NAME=immich\r\n\r\n# Optional Database settings:\r\n# DB_PORT=5432\r\n\r\n###################################################################################\r\n# Redis\r\n###################################################################################\r\n\r\nREDIS_HOSTNAME=immich_redis\r\n\r\n# REDIS_URL will be used to pass custom options to ioredis.\r\n# Example for Sentinel\r\n# {\"sentinels\":[{\"host\":\"redis-sentinel-node-0\",\"port\":26379},{\"host\":\"redis-sentinel-node-1\",\"port\":26379},{\"host\":\"redis-sentinel-node-2\",\"port\":26379}],\"name\":\"redis-sentinel\"}\r\n# REDIS_URL=ioredis://eyJzZW50aW5lbHMiOlt7Imhvc3QiOiJyZWRpcy1zZW50aW5lbDEiLCJwb3J0IjoyNjM3OX0seyJob3N0IjoicmVkaXMtc2VudGluZWwyIiwicG9ydCI6MjYzNzl9XSwibmFtZSI6Im15bWFzdGVyIn0=\r\n\r\n# Optional Redis settings:\r\n\r\n# Note: these parameters are not automatically passed to the Redis Container\r\n# to do so, please edit the docker-compose.yml file as well. Redis is not configured\r\n# via environment variables, only redis.conf or the command line\r\n\r\n# REDIS_PORT=6379\r\n# REDIS_DBINDEX=0\r\n# REDIS_USERNAME=\r\n# REDIS_PASSWORD=\r\n# REDIS_SOCKET=\r\n\r\n###################################################################################\r\n# Upload File Location\r\n#\r\n# This is the location where uploaded files are stored.\r\n###################################################################################\r\n\r\nUPLOAD_LOCATION=/mnt/user/phoneupload\r\n\r\n\r\n###################################################################################\r\n# Typesense\r\n###################################################################################\r\nTYPESENSE_API_KEY=some-random-text\r\n# TYPESENSE_ENABLED=false\r\n# TYPESENSE_URL uses base64 encoding for the nodes json.\r\n# Example JSON that was used:\r\n# [\r\n#      { 'host': 'typesense-1.example.net', 'port': '443', 'protocol': 'https' },\r\n#      { 'host': 'typesense-2.example.net', 'port': '443', 'protocol': 'https' },\r\n#      { 'host': 'typesense-3.example.net', 'port': '443', 'protocol': 'https' },\r\n#  ]\r\n# TYPESENSE_URL=ha://WwogICAgeyAnaG9zdCc6ICd0eXBlc2Vuc2UtMS5leGFtcGxlLm5ldCcsICdwb3J0JzogJzQ0MycsICdwcm90b2NvbCc6ICdodHRwcycgfSwKICAgIHsgJ2hvc3QnOiAndHlwZXNlbnNlLTIuZXhhbXBsZS5uZXQnLCAncG9ydCc6ICc0NDMnLCAncHJvdG9jb2wnOiAnaHR0cHMnIH0sCiAgICB7ICdob3N0JzogJ3R5cGVzZW5zZS0zLmV4YW1wbGUubmV0JywgJ3BvcnQnOiAnNDQzJywgJ3Byb3RvY29sJzogJ2h0dHBzJyB9LApd\r\n\r\n###################################################################################\r\n# Reverse Geocoding\r\n#\r\n# Reverse geocoding is done locally which has a small impact on memory usage\r\n# This memory usage can be altered by changing the REVERSE_GEOCODING_PRECISION variable\r\n# This ranges from 0-3 with 3 being the most precise\r\n# 3 - Cities > 500 population: ~200MB RAM\r\n# 2 - Cities > 1000 population: ~150MB RAM\r\n# 1 - Cities > 5000 population: ~80MB RAM\r\n# 0 - Cities > 15000 population: ~40MB RAM\r\n####################################################################################\r\n\r\n# DISABLE_REVERSE_GEOCODING=false\r\n# REVERSE_GEOCODING_PRECISION=3\r\n\r\n####################################################################################\r\n# WEB - Optional\r\n#\r\n# Custom message on the login page, should be written in HTML form.\r\n# For example:\r\n# PUBLIC_LOGIN_PAGE_MESSAGE=\"This is a demo instance of Immich.<br><br>Email: <i>demo@demo.de</i><br>Password: <i>demo</i>\"\r\n####################################################################################\r\n\r\nPUBLIC_LOGIN_PAGE_MESSAGE=\r\n\r\n####################################################################################\r\n# Alternative Service Addresses - Optional\r\n#\r\n# This is an advanced feature for users who may be running their immich services on different hosts.\r\n# It will not change which address or port that services bind to within their containers, but it will change where other services look for their peers.\r\n# Note: immich-microservices is bound to 3002, but no references are made\r\n####################################################################################\r\n\r\nIMMICH_WEB_URL=http://immich-web:3000\r\nIMMICH_SERVER_URL=http://immich-server:3001\r\nIMMICH_MACHINE_LEARNING_URL=http://immich-machine-learning:3003\r\n\r\n####################################################################################\r\n# Alternative API's External Address - Optional\r\n#\r\n# This is an advanced feature used to control the public server endpoint returned to clients during Well-known discovery.\r\n# You should only use this if you want mobile apps to access the immich API over a custom URL. Do not include trailing slash.\r\n# NOTE: At this time, the web app will not be affected by this setting and will continue to use the relative path: /api\r\n# Examples: http://localhost:3001, http://immich-api.example.com, etc\r\n####################################################################################\r\n\r\n#IMMICH_API_URL_EXTERNAL=http://localhost:3001\n```\n\n\n### Reproduction steps\n\n```bash\n1. Open backup menu\r\n2. Select photos menu\r\n3. Doesn't load\n```\n\n\n### Additional information\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/2677/reactions",
                    "total_count": 3,
                    "+1": 3,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/immich-app/immich/issues/2677/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            },
            "comment": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782320658",
                "html_url": "https://github.com/immich-app/immich/issues/2677#issuecomment-1782320658",
                "issue_url": "https://api.github.com/repos/immich-app/immich/issues/2677",
                "id": 1782320658,
                "node_id": "IC_kwDOGyI-8M5qPA4S",
                "user": {
                    "login": "mike-lloyd03",
                    "id": 49411532,
                    "node_id": "MDQ6VXNlcjQ5NDExNTMy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/49411532?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mike-lloyd03",
                    "html_url": "https://github.com/mike-lloyd03",
                    "followers_url": "https://api.github.com/users/mike-lloyd03/followers",
                    "following_url": "https://api.github.com/users/mike-lloyd03/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mike-lloyd03/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mike-lloyd03/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mike-lloyd03/subscriptions",
                    "organizations_url": "https://api.github.com/users/mike-lloyd03/orgs",
                    "repos_url": "https://api.github.com/users/mike-lloyd03/repos",
                    "events_url": "https://api.github.com/users/mike-lloyd03/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mike-lloyd03/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T05:31:57Z",
                "updated_at": "2023-10-27T05:31:57Z",
                "author_association": "NONE",
                "body": "I'm still having this issue on 1.82.0 build.121.",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782320658/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T05:31:58Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32888766906",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 137974272,
            "login": "jarvis2f",
            "display_login": "jarvis2f",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jarvis2f",
            "avatar_url": "https://avatars.githubusercontent.com/u/137974272?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/4655",
                "repository_url": "https://api.github.com/repos/immich-app/immich",
                "labels_url": "https://api.github.com/repos/immich-app/immich/issues/4655/labels{/name}",
                "comments_url": "https://api.github.com/repos/immich-app/immich/issues/4655/comments",
                "events_url": "https://api.github.com/repos/immich-app/immich/issues/4655/events",
                "html_url": "https://github.com/immich-app/immich/pull/4655",
                "id": 1963166776,
                "node_id": "PR_kwDOGyI-8M5d2OG9",
                "number": 4655,
                "title": "feat(server,web,mobile): Add optional password option for share links.",
                "user": {
                    "login": "jarvis2f",
                    "id": 137974272,
                    "node_id": "U_kgDOCDlSAA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/137974272?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jarvis2f",
                    "html_url": "https://github.com/jarvis2f",
                    "followers_url": "https://api.github.com/users/jarvis2f/followers",
                    "following_url": "https://api.github.com/users/jarvis2f/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jarvis2f/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jarvis2f/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jarvis2f/subscriptions",
                    "organizations_url": "https://api.github.com/users/jarvis2f/orgs",
                    "repos_url": "https://api.github.com/users/jarvis2f/repos",
                    "events_url": "https://api.github.com/users/jarvis2f/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jarvis2f/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 10,
                "created_at": "2023-10-26T10:07:44Z",
                "updated_at": "2023-10-27T05:27:31Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/immich-app/immich/pulls/4655",
                    "html_url": "https://github.com/immich-app/immich/pull/4655",
                    "diff_url": "https://github.com/immich-app/immich/pull/4655.diff",
                    "patch_url": "https://github.com/immich-app/immich/pull/4655.patch",
                    "merged_at": null
                },
                "body": "## Introduction\r\n\r\nThis Pull Request aims to introduce password protection for shared links. In this Pull Request, I have implemented the following functionalities:\r\n\r\n- An option to use a password when creating shared links in both web and mobile applications.\r\n- A prompt for users to enter the password when attempting to access a password-protected shared link through the web application.\r\n\r\n## Testing\r\n\r\nI have added new test cases to ensure the correct functioning of these changes. I have manually tested these changes in both locally environments, everything is running well.\r\n\r\n## Screenshots\r\n\r\n<img width=\"539\" alt=\"image\" src=\"https://github.com/immich-app/immich/assets/137974272/566d70dc-e246-4413-882c-ad9d269d2a18\">\r\n<img width=\"1497\" alt=\"image\" src=\"https://github.com/immich-app/immich/assets/137974272/60881441-9e44-47fe-8941-bb983bdf1d7a\">\r\n<img width=\"369\" alt=\"image\" src=\"https://github.com/immich-app/immich/assets/137974272/2d314294-296c-4181-ba9b-a297d158122a\">\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/4655/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/immich-app/immich/issues/4655/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782316954",
                "html_url": "https://github.com/immich-app/immich/pull/4655#issuecomment-1782316954",
                "issue_url": "https://api.github.com/repos/immich-app/immich/issues/4655",
                "id": 1782316954,
                "node_id": "IC_kwDOGyI-8M5qO_-a",
                "user": {
                    "login": "jarvis2f",
                    "id": 137974272,
                    "node_id": "U_kgDOCDlSAA",
                    "avatar_url": "https://avatars.githubusercontent.com/u/137974272?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jarvis2f",
                    "html_url": "https://github.com/jarvis2f",
                    "followers_url": "https://api.github.com/users/jarvis2f/followers",
                    "following_url": "https://api.github.com/users/jarvis2f/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jarvis2f/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jarvis2f/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jarvis2f/subscriptions",
                    "organizations_url": "https://api.github.com/users/jarvis2f/orgs",
                    "repos_url": "https://api.github.com/users/jarvis2f/repos",
                    "events_url": "https://api.github.com/users/jarvis2f/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jarvis2f/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T05:27:31Z",
                "updated_at": "2023-10-27T05:27:31Z",
                "author_association": "NONE",
                "body": "> Code looks good from my side. Do you have to type in the password every time you refresh the page? Do we want to do anything about that?\r\n\r\nShould we store the successfully verified password in local storage, take it out from local storage when refreshing the page, and then verify it again.",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782316954/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T05:27:31Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32888211079",
        "type": "PushEvent",
        "actor": {
            "id": 27055614,
            "login": "alextran1502",
            "display_login": "alextran1502",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alextran1502",
            "avatar_url": "https://avatars.githubusercontent.com/u/27055614?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "repository_id": 455229168,
            "push_id": 15586542828,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/deb/stacked-asset-on-web",
            "head": "7a1aea3f6136d86cf2bcc0129dd31661a6b1b627",
            "before": "07dae88cd0c779395292664fa9829387f36ac642",
            "commits": [
                {
                    "sha": "7a1aea3f6136d86cf2bcc0129dd31661a6b1b627",
                    "author": {
                        "email": "alex.tran1502@gmail.com",
                        "name": "Alex Tran"
                    },
                    "message": "remove white space",
                    "distinct": true,
                    "url": "https://api.github.com/repos/immich-app/immich/commits/7a1aea3f6136d86cf2bcc0129dd31661a6b1b627"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T04:49:11Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32888112225",
        "type": "PushEvent",
        "actor": {
            "id": 27055614,
            "login": "alextran1502",
            "display_login": "alextran1502",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alextran1502",
            "avatar_url": "https://avatars.githubusercontent.com/u/27055614?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "repository_id": 455229168,
            "push_id": 15586491006,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/deb/stacked-asset-on-web",
            "head": "07dae88cd0c779395292664fa9829387f36ac642",
            "before": "6058d8d88b3e22b8160fb16c9fa202d62c19dc4e",
            "commits": [
                {
                    "sha": "07dae88cd0c779395292664fa9829387f36ac642",
                    "author": {
                        "email": "alex.tran1502@gmail.com",
                        "name": "Alex Tran"
                    },
                    "message": "better UI",
                    "distinct": true,
                    "url": "https://api.github.com/repos/immich-app/immich/commits/07dae88cd0c779395292664fa9829387f36ac642"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T04:41:21Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32888080122",
        "type": "WatchEvent",
        "actor": {
            "id": 60557,
            "login": "bsherman",
            "display_login": "bsherman",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bsherman",
            "avatar_url": "https://avatars.githubusercontent.com/u/60557?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T04:38:51Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32888007724",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 27055614,
            "login": "alextran1502",
            "display_login": "alextran1502",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alextran1502",
            "avatar_url": "https://avatars.githubusercontent.com/u/27055614?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/4654",
                "repository_url": "https://api.github.com/repos/immich-app/immich",
                "labels_url": "https://api.github.com/repos/immich-app/immich/issues/4654/labels{/name}",
                "comments_url": "https://api.github.com/repos/immich-app/immich/issues/4654/comments",
                "events_url": "https://api.github.com/repos/immich-app/immich/issues/4654/events",
                "html_url": "https://github.com/immich-app/immich/issues/4654",
                "id": 1963166280,
                "node_id": "I_kwDOGyI-8M51A4pI",
                "number": 4654,
                "title": "[BUG] Cannot backup any photo or video on Android",
                "user": {
                    "login": "zhyfzy",
                    "id": 11473794,
                    "node_id": "MDQ6VXNlcjExNDczNzk0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/11473794?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/zhyfzy",
                    "html_url": "https://github.com/zhyfzy",
                    "followers_url": "https://api.github.com/users/zhyfzy/followers",
                    "following_url": "https://api.github.com/users/zhyfzy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/zhyfzy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/zhyfzy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/zhyfzy/subscriptions",
                    "organizations_url": "https://api.github.com/users/zhyfzy/orgs",
                    "repos_url": "https://api.github.com/users/zhyfzy/repos",
                    "events_url": "https://api.github.com/users/zhyfzy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/zhyfzy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3795217315,
                        "node_id": "LA_kwDOGyI-8M7iNmuj",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 4333905427,
                        "node_id": "LA_kwDOGyI-8M8AAAABAlImEw",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/need%20triage",
                        "name": "need triage",
                        "color": "FBCA04",
                        "default": false,
                        "description": "Bug that need triage from maintainer"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2023-10-26T10:07:26Z",
                "updated_at": "2023-10-27T04:33:09Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### The bug\n\nIt is normal to upload photos and videos through the webpage, but on my Android device, It can only detect the number of total assets, but does nothing after I touch the 'start backup' button. Neither the foreground nor the background is work. \r\n\r\n\r\nThere is an error log in the Android app\r\n\r\n```\r\nMessage:\r\nCatch all error: PlatformException(Request for permission failed., User denied permission., null, null) - PlatformException(Request for permission failed., User denied permission., null, null)\r\n\r\nFROM:\r\nImmichErrorLogger\r\n\r\nSTACK TRACES:\r\n#0      StandardMethodCodec.decodeEnvelope (package:flutter/src/services/message_codecs.dart:652)\r\n#1      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:310)\r\n<asynchronous suspension>\r\n#2      AssetEntity._getFile (package:photo_manager/src/types/entity.dart:712)\r\n<asynchronous suspension>\r\n#3      HashService._hashAssets (package:immich_mobile/shared/services/hash.service.dart:59)\r\n<asynchronous suspension>\r\n#4      SyncService._addAlbumFromDevice (package:immich_mobile/shared/services/sync.service.dart:620)\r\n<asynchronous suspension>\r\n#5      diffSortedLists (package:immich_mobile/utils/diff.dart:30)\r\n<asynchronous suspension>\r\n#6      SyncService._syncLocalAlbumAssetsToDb (package:immich_mobile/shared/services/sync.service.dart:437)\r\n<asynchronous suspension>\r\n#7      AlbumService.refreshDeviceAlbums (package:immich_mobile/modules/album/services/album.service.dart:114)\r\n<asynchronous suspension>\r\n#8      AssetNotifier.getAllAsset (package:immich_mobile/shared/providers/asset.provider.dart:53)\r\n<asynchronous suspension>\r\n```\r\n\r\nAnd anthor log:\r\n\r\n```\r\nMESSAGE: \r\nMedia location permission is not granted. Cannot access original assets for backup.\r\n\r\nFROM:\r\nBackupService\r\n```\r\n\r\nBut I have already granted all permissions in the apps setting (Xiaomi 13). It keeps generating logs like this and no files are uploaded.\n\n### The OS that Immich Server is running on\n\nUbuntu 22.04\n\n### Version of Immich Server\n\n1.82.1\n\n### Version of Immich Mobile App\n\n1.82.1  build.2106\n\n### Platform with the issue\n\n- [X] Server\n- [ ] Web\n- [X] Mobile\n\n### Your docker-compose.yml content\n\n```YAML\nversion: \"3.8\"\r\n\r\nservices:\r\n  immich-server:\r\n    container_name: immich_server\r\n    image: ghcr.io/immich-app/immich-server:${IMMICH_VERSION:-release}\r\n    command: [\"start.sh\", \"immich\"]\r\n    volumes:\r\n      - ${UPLOAD_LOCATION}:/usr/src/app/upload\r\n      - /etc/localtime:/etc/localtime:ro\r\n    env_file:\r\n      - .env\r\n    depends_on:\r\n      - redis\r\n      - database\r\n      - typesense\r\n    restart: always\r\n\r\n  immich-microservices:\r\n    container_name: immich_microservices\r\n    image: ghcr.io/immich-app/immich-server:${IMMICH_VERSION:-release}\r\n      # extends:\r\n      #file: hwaccel.yml\r\n      #service: hwaccel\r\n    command: [\"start.sh\", \"microservices\"]\r\n    volumes:\r\n      - ${UPLOAD_LOCATION}:/usr/src/app/upload\r\n      - /etc/localtime:/etc/localtime:ro\r\n    env_file:\r\n      - .env\r\n    depends_on:\r\n      - redis\r\n      - database\r\n      - typesense\r\n    restart: always\r\n\r\n  immich-machine-learning:\r\n    container_name: immich_machine_learning\r\n    image: ghcr.io/immich-app/immich-machine-learning:${IMMICH_VERSION:-release}\r\n    volumes:\r\n      - model-cache:/cache\r\n    env_file:\r\n      - .env\r\n    restart: always\r\n\r\n  immich-web:\r\n    container_name: immich_web\r\n    image: ghcr.io/immich-app/immich-web:${IMMICH_VERSION:-release}\r\n    env_file:\r\n      - .env\r\n    restart: always\r\n\r\n  typesense:\r\n    container_name: immich_typesense\r\n    image: typesense/typesense:0.24.1@sha256:9bcff2b829f12074426ca044b56160ca9d777a0c488303469143dd9f8259d4dd\r\n    environment:\r\n      - TYPESENSE_API_KEY=${TYPESENSE_API_KEY}\r\n      - TYPESENSE_DATA_DIR=/data\r\n      # remove this to get debug messages\r\n      - GLOG_minloglevel=1\r\n    volumes:\r\n      - tsdata:/data\r\n    restart: always\r\n\r\n  redis:\r\n    container_name: immich_redis\r\n    image: redis:6.2-alpine@sha256:70a7a5b641117670beae0d80658430853896b5ef269ccf00d1827427e3263fa3\r\n    restart: always\r\n\r\n  database:\r\n    container_name: immich_postgres\r\n    image: postgres:14-alpine@sha256:28407a9961e76f2d285dc6991e8e48893503cc3836a4755bbc2d40bcc272a441\r\n    env_file:\r\n      - .env\r\n    environment:\r\n      POSTGRES_PASSWORD: ${DB_PASSWORD}\r\n      POSTGRES_USER: ${DB_USERNAME}\r\n      POSTGRES_DB: ${DB_DATABASE_NAME}\r\n    volumes:\r\n      - pgdata:/var/lib/postgresql/data\r\n    restart: always\r\n\r\n  immich-proxy:\r\n    container_name: immich_proxy\r\n    image: ghcr.io/immich-app/immich-proxy:${IMMICH_VERSION:-release}\r\n    environment:\r\n      # Make sure these values get passed through from the env file\r\n      - IMMICH_SERVER_URL\r\n      - IMMICH_WEB_URL\r\n    ports:\r\n      - 2283:8080\r\n    depends_on:\r\n      - immich-server\r\n      - immich-web\r\n    restart: always\r\n\r\nvolumes:\r\n  pgdata:\r\n  model-cache:\r\n  tsdata:\n```\n\n\n### Your .env content\n\n```Shell\n# You can find documentation for all the supported env variables at https://immich.app/docs/install/environment-variables\r\n\r\n# The location where your uploaded files are stored\r\nUPLOAD_LOCATION=/media/terra/immich\r\n\r\n# The Immich version to use. You can pin this to a specific version like \"v1.71.0\"\r\nIMMICH_VERSION=release\r\n\r\nLOG_LEVEL=verbose\r\n\r\n# Connection secrets for postgres and typesense. You should change these to random passwords\r\nTYPESENSE_API_KEY=some-random-text\r\nDB_PASSWORD=postgres\r\n\r\n# The values below this line do not need to be changed\r\n###################################################################################\r\nDB_HOSTNAME=immich_postgres\r\nDB_USERNAME=postgres\r\nDB_DATABASE_NAME=immich\r\n\r\nREDIS_HOSTNAME=immich_redis\n```\n\n\n### Reproduction steps\n\n```bash\n1. Deploying immich through docker-compose and conducting init settings\r\n2. Open the Android app and login \r\n3. Touch the 'start backup' button in the android app, but nothing happened.\r\n...\n```\n\n\n### Additional information\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/4654/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/immich-app/immich/issues/4654/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782275996",
                "html_url": "https://github.com/immich-app/immich/issues/4654#issuecomment-1782275996",
                "issue_url": "https://api.github.com/repos/immich-app/immich/issues/4654",
                "id": 1782275996,
                "node_id": "IC_kwDOGyI-8M5qO1-c",
                "user": {
                    "login": "alextran1502",
                    "id": 27055614,
                    "node_id": "MDQ6VXNlcjI3MDU1NjE0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/27055614?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alextran1502",
                    "html_url": "https://github.com/alextran1502",
                    "followers_url": "https://api.github.com/users/alextran1502/followers",
                    "following_url": "https://api.github.com/users/alextran1502/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alextran1502/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alextran1502/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alextran1502/subscriptions",
                    "organizations_url": "https://api.github.com/users/alextran1502/orgs",
                    "repos_url": "https://api.github.com/users/alextran1502/repos",
                    "events_url": "https://api.github.com/users/alextran1502/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alextran1502/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T04:33:09Z",
                "updated_at": "2023-10-27T04:33:09Z",
                "author_association": "COLLABORATOR",
                "body": "Thank you, I will try to create the same Android version on an emulator to see if I can reproduce this issue",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782275996/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T04:33:10Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32887975933",
        "type": "PushEvent",
        "actor": {
            "id": 27055614,
            "login": "alextran1502",
            "display_login": "alextran1502",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alextran1502",
            "avatar_url": "https://avatars.githubusercontent.com/u/27055614?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "repository_id": 455229168,
            "push_id": 15586416608,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/deb/stacked-asset-on-web",
            "head": "6058d8d88b3e22b8160fb16c9fa202d62c19dc4e",
            "before": "ac273151a3195ee08076c574a4edfec44d9ad614",
            "commits": [
                {
                    "sha": "6058d8d88b3e22b8160fb16c9fa202d62c19dc4e",
                    "author": {
                        "email": "alex.tran1502@gmail.com",
                        "name": "Alex Tran"
                    },
                    "message": "better UI",
                    "distinct": true,
                    "url": "https://api.github.com/repos/immich-app/immich/commits/6058d8d88b3e22b8160fb16c9fa202d62c19dc4e"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-27T04:30:42Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32887911486",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 11473794,
            "login": "zhyfzy",
            "display_login": "zhyfzy",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zhyfzy",
            "avatar_url": "https://avatars.githubusercontent.com/u/11473794?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/4654",
                "repository_url": "https://api.github.com/repos/immich-app/immich",
                "labels_url": "https://api.github.com/repos/immich-app/immich/issues/4654/labels{/name}",
                "comments_url": "https://api.github.com/repos/immich-app/immich/issues/4654/comments",
                "events_url": "https://api.github.com/repos/immich-app/immich/issues/4654/events",
                "html_url": "https://github.com/immich-app/immich/issues/4654",
                "id": 1963166280,
                "node_id": "I_kwDOGyI-8M51A4pI",
                "number": 4654,
                "title": "[BUG] Cannot backup any photo or video on Android",
                "user": {
                    "login": "zhyfzy",
                    "id": 11473794,
                    "node_id": "MDQ6VXNlcjExNDczNzk0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/11473794?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/zhyfzy",
                    "html_url": "https://github.com/zhyfzy",
                    "followers_url": "https://api.github.com/users/zhyfzy/followers",
                    "following_url": "https://api.github.com/users/zhyfzy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/zhyfzy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/zhyfzy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/zhyfzy/subscriptions",
                    "organizations_url": "https://api.github.com/users/zhyfzy/orgs",
                    "repos_url": "https://api.github.com/users/zhyfzy/repos",
                    "events_url": "https://api.github.com/users/zhyfzy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/zhyfzy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3795217315,
                        "node_id": "LA_kwDOGyI-8M7iNmuj",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 4333905427,
                        "node_id": "LA_kwDOGyI-8M8AAAABAlImEw",
                        "url": "https://api.github.com/repos/immich-app/immich/labels/need%20triage",
                        "name": "need triage",
                        "color": "FBCA04",
                        "default": false,
                        "description": "Bug that need triage from maintainer"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2023-10-26T10:07:26Z",
                "updated_at": "2023-10-27T04:25:27Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### The bug\n\nIt is normal to upload photos and videos through the webpage, but on my Android device, It can only detect the number of total assets, but does nothing after I touch the 'start backup' button. Neither the foreground nor the background is work. \r\n\r\n\r\nThere is an error log in the Android app\r\n\r\n```\r\nMessage:\r\nCatch all error: PlatformException(Request for permission failed., User denied permission., null, null) - PlatformException(Request for permission failed., User denied permission., null, null)\r\n\r\nFROM:\r\nImmichErrorLogger\r\n\r\nSTACK TRACES:\r\n#0      StandardMethodCodec.decodeEnvelope (package:flutter/src/services/message_codecs.dart:652)\r\n#1      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:310)\r\n<asynchronous suspension>\r\n#2      AssetEntity._getFile (package:photo_manager/src/types/entity.dart:712)\r\n<asynchronous suspension>\r\n#3      HashService._hashAssets (package:immich_mobile/shared/services/hash.service.dart:59)\r\n<asynchronous suspension>\r\n#4      SyncService._addAlbumFromDevice (package:immich_mobile/shared/services/sync.service.dart:620)\r\n<asynchronous suspension>\r\n#5      diffSortedLists (package:immich_mobile/utils/diff.dart:30)\r\n<asynchronous suspension>\r\n#6      SyncService._syncLocalAlbumAssetsToDb (package:immich_mobile/shared/services/sync.service.dart:437)\r\n<asynchronous suspension>\r\n#7      AlbumService.refreshDeviceAlbums (package:immich_mobile/modules/album/services/album.service.dart:114)\r\n<asynchronous suspension>\r\n#8      AssetNotifier.getAllAsset (package:immich_mobile/shared/providers/asset.provider.dart:53)\r\n<asynchronous suspension>\r\n```\r\n\r\nAnd anthor log:\r\n\r\n```\r\nMESSAGE: \r\nMedia location permission is not granted. Cannot access original assets for backup.\r\n\r\nFROM:\r\nBackupService\r\n```\r\n\r\nBut I have already granted all permissions in the apps setting (Xiaomi 13). It keeps generating logs like this and no files are uploaded.\n\n### The OS that Immich Server is running on\n\nUbuntu 22.04\n\n### Version of Immich Server\n\n1.82.1\n\n### Version of Immich Mobile App\n\n1.82.1  build.2106\n\n### Platform with the issue\n\n- [X] Server\n- [ ] Web\n- [X] Mobile\n\n### Your docker-compose.yml content\n\n```YAML\nversion: \"3.8\"\r\n\r\nservices:\r\n  immich-server:\r\n    container_name: immich_server\r\n    image: ghcr.io/immich-app/immich-server:${IMMICH_VERSION:-release}\r\n    command: [\"start.sh\", \"immich\"]\r\n    volumes:\r\n      - ${UPLOAD_LOCATION}:/usr/src/app/upload\r\n      - /etc/localtime:/etc/localtime:ro\r\n    env_file:\r\n      - .env\r\n    depends_on:\r\n      - redis\r\n      - database\r\n      - typesense\r\n    restart: always\r\n\r\n  immich-microservices:\r\n    container_name: immich_microservices\r\n    image: ghcr.io/immich-app/immich-server:${IMMICH_VERSION:-release}\r\n      # extends:\r\n      #file: hwaccel.yml\r\n      #service: hwaccel\r\n    command: [\"start.sh\", \"microservices\"]\r\n    volumes:\r\n      - ${UPLOAD_LOCATION}:/usr/src/app/upload\r\n      - /etc/localtime:/etc/localtime:ro\r\n    env_file:\r\n      - .env\r\n    depends_on:\r\n      - redis\r\n      - database\r\n      - typesense\r\n    restart: always\r\n\r\n  immich-machine-learning:\r\n    container_name: immich_machine_learning\r\n    image: ghcr.io/immich-app/immich-machine-learning:${IMMICH_VERSION:-release}\r\n    volumes:\r\n      - model-cache:/cache\r\n    env_file:\r\n      - .env\r\n    restart: always\r\n\r\n  immich-web:\r\n    container_name: immich_web\r\n    image: ghcr.io/immich-app/immich-web:${IMMICH_VERSION:-release}\r\n    env_file:\r\n      - .env\r\n    restart: always\r\n\r\n  typesense:\r\n    container_name: immich_typesense\r\n    image: typesense/typesense:0.24.1@sha256:9bcff2b829f12074426ca044b56160ca9d777a0c488303469143dd9f8259d4dd\r\n    environment:\r\n      - TYPESENSE_API_KEY=${TYPESENSE_API_KEY}\r\n      - TYPESENSE_DATA_DIR=/data\r\n      # remove this to get debug messages\r\n      - GLOG_minloglevel=1\r\n    volumes:\r\n      - tsdata:/data\r\n    restart: always\r\n\r\n  redis:\r\n    container_name: immich_redis\r\n    image: redis:6.2-alpine@sha256:70a7a5b641117670beae0d80658430853896b5ef269ccf00d1827427e3263fa3\r\n    restart: always\r\n\r\n  database:\r\n    container_name: immich_postgres\r\n    image: postgres:14-alpine@sha256:28407a9961e76f2d285dc6991e8e48893503cc3836a4755bbc2d40bcc272a441\r\n    env_file:\r\n      - .env\r\n    environment:\r\n      POSTGRES_PASSWORD: ${DB_PASSWORD}\r\n      POSTGRES_USER: ${DB_USERNAME}\r\n      POSTGRES_DB: ${DB_DATABASE_NAME}\r\n    volumes:\r\n      - pgdata:/var/lib/postgresql/data\r\n    restart: always\r\n\r\n  immich-proxy:\r\n    container_name: immich_proxy\r\n    image: ghcr.io/immich-app/immich-proxy:${IMMICH_VERSION:-release}\r\n    environment:\r\n      # Make sure these values get passed through from the env file\r\n      - IMMICH_SERVER_URL\r\n      - IMMICH_WEB_URL\r\n    ports:\r\n      - 2283:8080\r\n    depends_on:\r\n      - immich-server\r\n      - immich-web\r\n    restart: always\r\n\r\nvolumes:\r\n  pgdata:\r\n  model-cache:\r\n  tsdata:\n```\n\n\n### Your .env content\n\n```Shell\n# You can find documentation for all the supported env variables at https://immich.app/docs/install/environment-variables\r\n\r\n# The location where your uploaded files are stored\r\nUPLOAD_LOCATION=/media/terra/immich\r\n\r\n# The Immich version to use. You can pin this to a specific version like \"v1.71.0\"\r\nIMMICH_VERSION=release\r\n\r\nLOG_LEVEL=verbose\r\n\r\n# Connection secrets for postgres and typesense. You should change these to random passwords\r\nTYPESENSE_API_KEY=some-random-text\r\nDB_PASSWORD=postgres\r\n\r\n# The values below this line do not need to be changed\r\n###################################################################################\r\nDB_HOSTNAME=immich_postgres\r\nDB_USERNAME=postgres\r\nDB_DATABASE_NAME=immich\r\n\r\nREDIS_HOSTNAME=immich_redis\n```\n\n\n### Reproduction steps\n\n```bash\n1. Deploying immich through docker-compose and conducting init settings\r\n2. Open the Android app and login \r\n3. Touch the 'start backup' button in the android app, but nothing happened.\r\n...\n```\n\n\n### Additional information\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/4654/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/immich-app/immich/issues/4654/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782270804",
                "html_url": "https://github.com/immich-app/immich/issues/4654#issuecomment-1782270804",
                "issue_url": "https://api.github.com/repos/immich-app/immich/issues/4654",
                "id": 1782270804,
                "node_id": "IC_kwDOGyI-8M5qO0tU",
                "user": {
                    "login": "zhyfzy",
                    "id": 11473794,
                    "node_id": "MDQ6VXNlcjExNDczNzk0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/11473794?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/zhyfzy",
                    "html_url": "https://github.com/zhyfzy",
                    "followers_url": "https://api.github.com/users/zhyfzy/followers",
                    "following_url": "https://api.github.com/users/zhyfzy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/zhyfzy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/zhyfzy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/zhyfzy/subscriptions",
                    "organizations_url": "https://api.github.com/users/zhyfzy/orgs",
                    "repos_url": "https://api.github.com/users/zhyfzy/repos",
                    "events_url": "https://api.github.com/users/zhyfzy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/zhyfzy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T04:25:27Z",
                "updated_at": "2023-10-27T04:25:27Z",
                "author_association": "NONE",
                "body": "> Do you mind reinstalling the app and try again for the permission?\n\nyes\uff0ci have reinstalled both the Android app and docker containers\uff0cbut this problem still exists",
                "reactions": {
                    "url": "https://api.github.com/repos/immich-app/immich/issues/comments/1782270804/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T04:25:28Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    },
    {
        "id": "32887696445",
        "type": "WatchEvent",
        "actor": {
            "id": 32587011,
            "login": "dugufck666",
            "display_login": "dugufck666",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dugufck666",
            "avatar_url": "https://avatars.githubusercontent.com/u/32587011?"
        },
        "repo": {
            "id": 455229168,
            "name": "immich-app/immich",
            "url": "https://api.github.com/repos/immich-app/immich"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T04:08:20Z",
        "org": {
            "id": 109746326,
            "login": "immich-app",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/immich-app",
            "avatar_url": "https://avatars.githubusercontent.com/u/109746326?"
        }
    }
]