[
    {
        "id": "32897184459",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 14188887,
            "login": "mateusdeap",
            "display_login": "mateusdeap",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mateusdeap",
            "avatar_url": "https://avatars.githubusercontent.com/u/14188887?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1128",
                "id": 1954974629,
                "node_id": "I_kwDOG6K31s50houl",
                "number": 1128,
                "title": "Semantic highlighting marking a class usage as a constant",
                "user": {
                    "login": "dgmora",
                    "id": 3609616,
                    "node_id": "MDQ6VXNlcjM2MDk2MTY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3609616?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dgmora",
                    "html_url": "https://github.com/dgmora",
                    "followers_url": "https://api.github.com/users/dgmora/followers",
                    "following_url": "https://api.github.com/users/dgmora/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dgmora/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dgmora/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dgmora/subscriptions",
                    "organizations_url": "https://api.github.com/users/dgmora/orgs",
                    "repos_url": "https://api.github.com/users/dgmora/repos",
                    "events_url": "https://api.github.com/users/dgmora/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dgmora/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 5756683398,
                        "node_id": "LA_kwDOG6K31s8AAAABVyAEhg",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/pinned",
                        "name": "pinned",
                        "color": "5319e7",
                        "default": false,
                        "description": "This issue or pull request is pinned and won't be marked as stale"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 9,
                "created_at": "2023-10-20T20:29:20Z",
                "updated_at": "2023-10-27T11:31:29Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Ruby version\r\n\r\n3.2.2\r\n\r\n### Code snippet\r\n\r\nThis may not be the most lightweight way to reproduce it, but it's visible.\r\n<details><summary>Dockerfile</summary>\r\n\r\n```Dockerfile\r\n# Use Alpine as the base image\r\nFROM alpine:latest\r\n\r\n# Set the working directory\r\nWORKDIR /root\r\n\r\n# Install necessary packages\r\nRUN apk add --no-cache \\\r\n  git \\\r\n  curl \\\r\n  build-base \\\r\n  zlib-dev \\\r\n  openssl-dev \\\r\n  readline-dev \\\r\n  linux-headers \\\r\n  libffi-dev \\\r\n  cmake \\\r\n  automake \\\r\n  autoconf \\\r\n  libtool \\\r\n  pkgconf \\\r\n  gettext-tiny-dev \\\r\n  ruby \\\r\n  ruby-dev \\\r\n  bash \\\r\n  yaml-dev\r\n\r\n# Clone and build Neovim from source\r\nRUN git clone https://github.com/neovim/neovim.git && \\\r\n  cd neovim && \\\r\n  make CMAKE_BUILD_TYPE=Release && \\\r\n  make install\r\n\r\n# Clone the LazyVim starter repository\r\nRUN git clone https://github.com/LazyVim/starter ~/.config/nvim\r\n\r\n# Copy the content of custom_plugins.lua from an external file\r\nCOPY custom_plugins.lua /root/.config/nvim/lua/plugins/custom_plugins.lua\r\n\r\n# Create example.rb inline\r\nRUN echo -e \"class Foo\\n  def self.bar\\n    Foo.new # `Foo` should be the same color in both lines\\n  end\\nend\" > ~/example.rb\r\n\r\n# Create Gemfile inline\r\nRUN echo \"source 'https://rubygems.org'\" > ~/Gemfile\r\n\r\n# Install bundler and gems specified in the Gemfile\r\nRUN gem install bundler && \\\r\n  bundle install\r\n\r\n# Start Neovim headlessly and install plugins\r\nRUN nvim -es -u ~/.config/nvim/init.lua -i NONE -c \"Lazy\" -c \"qa\"\r\n\r\n# Start a shell when the Docker container is run\r\nCMD [\"sh\"]\r\n```\r\n\r\n</details>\r\n\r\n\r\n\r\n\r\n```lua\r\n-- store this in the same folder of the Dockerfile as `custom_plugins.lua`\r\nreturn {\r\n    {\r\n        \"williamboman/mason.nvim\",\r\n        opts = function(_, opts)\r\n            vim.list_extend(opts.ensure_installed, {\r\n                \"ruby-lsp\",\r\n            })\r\n        end,\r\n    },\r\n    {\r\n        \"neovim/nvim-lspconfig\",\r\n        opts = {\r\n            servers = {\r\n                ruby_ls = {},\r\n            },\r\n        },\r\n    },\r\n}\r\n```\r\n\r\nRun:\r\n```bash\r\ndocker build -t example .\r\ndocker run -ti example\r\n# inside\r\nnvim example.rb\r\n```\r\n\r\nWait a bit and you'll see some notifications like `installing ruby_ls`, `ruby_ls installed`, and some seconds later the server will be started automatically. At that point you'll see the color of the second `Foo` change.\r\n\r\n### Description\r\n\r\nI wanted to replace solargraph with `ruby_ls` with neovim (and LazyVim). When switching I noticed that the highlighting was different. I've noticed that this is most probably because `ruby_ls` semantic highlighting.\r\n\r\nI'm using https://github.com/maxmx03/solarized.nvim with `neo` theme, although I can reproduce it with other themes.\r\nAfter using `:Inspect`, i've noticed the following\r\n\r\n<img width=\"829\" alt=\"Screenshot 2023-10-20 at 20 30 14\" src=\"https://github.com/Shopify/ruby-lsp/assets/3609616/b79efb49-b757-43f6-a236-930295a4bcee\">\r\n\r\n`Foo` here is highlighted as a a namespace / constant, where on declaration it's as a class:\r\n\r\n<img width=\"821\" alt=\"Screenshot 2023-10-20 at 20 36 11\" src=\"https://github.com/Shopify/ruby-lsp/assets/3609616/d1619d05-207d-4c90-b2c4-7de91a13db70\">\r\n\r\n\r\n\r\n### Expected output\r\n\r\nI would expect that in both cases `Foo` is the same color (orange, as a `Type`) ",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1782756762",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1128#issuecomment-1782756762",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128",
                "id": 1782756762,
                "node_id": "IC_kwDOG6K31s5qQrWa",
                "user": {
                    "login": "mateusdeap",
                    "id": 14188887,
                    "node_id": "MDQ6VXNlcjE0MTg4ODg3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/14188887?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mateusdeap",
                    "html_url": "https://github.com/mateusdeap",
                    "followers_url": "https://api.github.com/users/mateusdeap/followers",
                    "following_url": "https://api.github.com/users/mateusdeap/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mateusdeap/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mateusdeap/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mateusdeap/subscriptions",
                    "organizations_url": "https://api.github.com/users/mateusdeap/orgs",
                    "repos_url": "https://api.github.com/users/mateusdeap/repos",
                    "events_url": "https://api.github.com/users/mateusdeap/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mateusdeap/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T11:31:28Z",
                "updated_at": "2023-10-27T11:31:28Z",
                "author_association": "CONTRIBUTOR",
                "body": "@vinistock One last question: once I add the index to the semantic highlighting request, should we expect any difference in the expected JSON? I ask because I was finally able to kind of understand how this should work and I just wanted to help myself out by adjusting the expectations so as to catch this.\r\n\r\nI'm assuming there should be a specific response the server has to generate in order for the client to properly color the tokens. Any advice on where I can see an example among the json expectations we have in the project? Or in the LSP spec?",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1782756762/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T11:31:29Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32883063730",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 543751,
            "login": "ansonhoyt",
            "display_login": "ansonhoyt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ansonhoyt",
            "avatar_url": "https://avatars.githubusercontent.com/u/543751?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141",
                "id": 1961451158,
                "node_id": "I_kwDOG6K31s506V6W",
                "number": 1141,
                "title": "Format on save is not working.",
                "user": {
                    "login": "thibgn",
                    "id": 56600224,
                    "node_id": "MDQ6VXNlcjU2NjAwMjI0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/56600224?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/thibgn",
                    "html_url": "https://github.com/thibgn",
                    "followers_url": "https://api.github.com/users/thibgn/followers",
                    "following_url": "https://api.github.com/users/thibgn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/thibgn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/thibgn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/thibgn/subscriptions",
                    "organizations_url": "https://api.github.com/users/thibgn/orgs",
                    "repos_url": "https://api.github.com/users/thibgn/repos",
                    "events_url": "https://api.github.com/users/thibgn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/thibgn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 12,
                "created_at": "2023-10-25T08:23:54Z",
                "updated_at": "2023-10-26T22:11:18Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Operating System\r\n\r\nMac OS 13.0\r\n\r\n### Ruby version\r\n\r\n3.2.2\r\n\r\n### Project has a bundle\r\n\r\n- [X] Has bundle\r\n\r\n### Ruby version manager being used\r\n\r\nrbenv\r\n\r\n### Description\r\n\r\nI'm having a few issues with Ruby LSP that I can't seem to fix.\r\n\r\nFirst, the indexing is stuck at 0%. \r\nNo matter how long I wait, the settings I use, I never see anything else than `Ruby LSP: indexing files: 0% completed`\r\n\r\nBut the main issue is the **formatting that doesn't work on save** (it _kinda_ works when I format manually, but it only fixes indentation).\r\n\r\nI obviously checked my VSCode configuration and nothing should prevent the format on save (it's working for other languages).\r\n\r\nHere's the relevant settings I use for ruby : \r\n```json\r\n  \"rubyLsp.rubyVersionManager\": \"rbenv\",\r\n  \"[ruby]\": {\r\n\t\"editor.defaultFormatter\": \"Shopify.ruby-lsp\",\r\n\t\"editor.formatOnSave\": true,\r\n\t\"editor.formatOnType\": true,\r\n\t\"editor.tabSize\": 2,\r\n\t\"editor.insertSpaces\": true,\r\n\t\"files.trimTrailingWhitespace\": true,\r\n\t\"files.insertFinalNewline\": true,\r\n\t\"files.trimFinalNewlines\": true,\r\n\t\"editor.rulers\": [120],\r\n\t\"editor.semanticHighlighting.enabled\": true\r\n  },\r\n```\r\n\r\nI noticed I had both `rvm` & `rbenv` installed so I removed rvm and made sure rbenv was [properly configured](https://github.com/rbenv/rbenv#basic-git-checkout).\r\nI also made sure `$SHELL` was available : i'm using `zsh` so its value is `/bin/zsh`\r\n\r\nI also removed everything ruby or rails related in my VScode extensions.\r\n\r\nHere's the logs from Ruby LSP : \r\n```\r\nRuby LSP> Skipping custom bundle setup since /Users/thib/code/myproject/api/.ruby-lsp/Gemfile.lock already exists and is up to date\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nThe Gemfile's dependencies are satisfied\r\nStarting Ruby LSP...\r\n```\r\n\r\nAlso, in the Output tab, `Window` is logging the following which may be related ? \r\n\r\n```\r\n2023-10-25 10:01:00.488 [error] [Extension Host] Received response message without id: Error is: \r\n{\r\n    \"code\": -32603,\r\n    \"message\": \"#<NoMethodError: undefined method `dependencies' for nil:NilClass>\",\r\n    \"data\": {\r\n        \"errorClass\": \"NoMethodError\",\r\n        \"errorMessage\": \"undefined method `dependencies' for nil:NilClass\",\r\n        \"backtrace\": \"~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:197:in `block in initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:21:in `initialize'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `new'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `configuration'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:248:in `block in collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `downto'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:222:in `add_class_entry'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:25:in `visit_class_node'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:2876:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:14835:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:12985:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/index.rb:184:in `index_single'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:198:in `block in did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:172:in `run'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:26:in `execute'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:135:in `block (2 levels) in new_worker'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `loop'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `block in new_worker'\"\r\n    }\r\n}\r\n```\r\n\r\nThat's about it, let me know if I can provide anything else :)",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781960766",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141#issuecomment-1781960766",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "id": 1781960766,
                "node_id": "IC_kwDOG6K31s5qNpA-",
                "user": {
                    "login": "ansonhoyt",
                    "id": 543751,
                    "node_id": "MDQ6VXNlcjU0Mzc1MQ==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/543751?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ansonhoyt",
                    "html_url": "https://github.com/ansonhoyt",
                    "followers_url": "https://api.github.com/users/ansonhoyt/followers",
                    "following_url": "https://api.github.com/users/ansonhoyt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ansonhoyt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ansonhoyt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ansonhoyt/subscriptions",
                    "organizations_url": "https://api.github.com/users/ansonhoyt/orgs",
                    "repos_url": "https://api.github.com/users/ansonhoyt/repos",
                    "events_url": "https://api.github.com/users/ansonhoyt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ansonhoyt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T22:11:18Z",
                "updated_at": "2023-10-26T22:11:18Z",
                "author_association": "NONE",
                "body": "Ok, so I tried to list more than just the first one...\r\n\r\n```diff\r\n# /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb\r\n+        warn(\"HACK> #{dependency.inspect}\") if dependency.to_spec.nil?\r\n+        dependency&.to_spec&.dependencies.then{Array(_1)}.each do |transitive_dependency|\r\n-        dependency.to_spec.dependencies.each do |transitive_dependency|\r\n```\r\n\r\nWhich worked...and let Ruby LSP finish loading \ud83d\ude04 \r\n\r\n```txt\r\nRuby LSP> Command: (bundle check || bundle install) 1>&2\r\nResolving dependencies...\r\nThe Gemfile's dependencies are satisfied\r\nHACK> <Gem::Dependency type=:runtime name=\"activemodel\" requirements=\">= 6.0.0\">\r\nHACK> <Gem::Dependency type=:runtime name=\"actionview\" requirements=\">= 6.0.0\">\r\nHACK> <Gem::Dependency type=:runtime name=\"activerecord\" requirements=\">= 4.2\">\r\nStarting Ruby LSP...\r\nRuby LSP is ready\r\n```\r\n\r\nI have no idea what that means \ud83e\udd37 but you probably do! \ud83d\udc4d ",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781960766/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T22:11:19Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32882255268",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 543751,
            "login": "ansonhoyt",
            "display_login": "ansonhoyt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ansonhoyt",
            "avatar_url": "https://avatars.githubusercontent.com/u/543751?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141",
                "id": 1961451158,
                "node_id": "I_kwDOG6K31s506V6W",
                "number": 1141,
                "title": "Format on save is not working.",
                "user": {
                    "login": "thibgn",
                    "id": 56600224,
                    "node_id": "MDQ6VXNlcjU2NjAwMjI0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/56600224?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/thibgn",
                    "html_url": "https://github.com/thibgn",
                    "followers_url": "https://api.github.com/users/thibgn/followers",
                    "following_url": "https://api.github.com/users/thibgn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/thibgn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/thibgn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/thibgn/subscriptions",
                    "organizations_url": "https://api.github.com/users/thibgn/orgs",
                    "repos_url": "https://api.github.com/users/thibgn/repos",
                    "events_url": "https://api.github.com/users/thibgn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/thibgn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 11,
                "created_at": "2023-10-25T08:23:54Z",
                "updated_at": "2023-10-26T21:24:16Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Operating System\r\n\r\nMac OS 13.0\r\n\r\n### Ruby version\r\n\r\n3.2.2\r\n\r\n### Project has a bundle\r\n\r\n- [X] Has bundle\r\n\r\n### Ruby version manager being used\r\n\r\nrbenv\r\n\r\n### Description\r\n\r\nI'm having a few issues with Ruby LSP that I can't seem to fix.\r\n\r\nFirst, the indexing is stuck at 0%. \r\nNo matter how long I wait, the settings I use, I never see anything else than `Ruby LSP: indexing files: 0% completed`\r\n\r\nBut the main issue is the **formatting that doesn't work on save** (it _kinda_ works when I format manually, but it only fixes indentation).\r\n\r\nI obviously checked my VSCode configuration and nothing should prevent the format on save (it's working for other languages).\r\n\r\nHere's the relevant settings I use for ruby : \r\n```json\r\n  \"rubyLsp.rubyVersionManager\": \"rbenv\",\r\n  \"[ruby]\": {\r\n\t\"editor.defaultFormatter\": \"Shopify.ruby-lsp\",\r\n\t\"editor.formatOnSave\": true,\r\n\t\"editor.formatOnType\": true,\r\n\t\"editor.tabSize\": 2,\r\n\t\"editor.insertSpaces\": true,\r\n\t\"files.trimTrailingWhitespace\": true,\r\n\t\"files.insertFinalNewline\": true,\r\n\t\"files.trimFinalNewlines\": true,\r\n\t\"editor.rulers\": [120],\r\n\t\"editor.semanticHighlighting.enabled\": true\r\n  },\r\n```\r\n\r\nI noticed I had both `rvm` & `rbenv` installed so I removed rvm and made sure rbenv was [properly configured](https://github.com/rbenv/rbenv#basic-git-checkout).\r\nI also made sure `$SHELL` was available : i'm using `zsh` so its value is `/bin/zsh`\r\n\r\nI also removed everything ruby or rails related in my VScode extensions.\r\n\r\nHere's the logs from Ruby LSP : \r\n```\r\nRuby LSP> Skipping custom bundle setup since /Users/thib/code/myproject/api/.ruby-lsp/Gemfile.lock already exists and is up to date\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nThe Gemfile's dependencies are satisfied\r\nStarting Ruby LSP...\r\n```\r\n\r\nAlso, in the Output tab, `Window` is logging the following which may be related ? \r\n\r\n```\r\n2023-10-25 10:01:00.488 [error] [Extension Host] Received response message without id: Error is: \r\n{\r\n    \"code\": -32603,\r\n    \"message\": \"#<NoMethodError: undefined method `dependencies' for nil:NilClass>\",\r\n    \"data\": {\r\n        \"errorClass\": \"NoMethodError\",\r\n        \"errorMessage\": \"undefined method `dependencies' for nil:NilClass\",\r\n        \"backtrace\": \"~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:197:in `block in initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:21:in `initialize'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `new'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `configuration'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:248:in `block in collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `downto'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:222:in `add_class_entry'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:25:in `visit_class_node'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:2876:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:14835:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:12985:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/index.rb:184:in `index_single'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:198:in `block in did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:172:in `run'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:26:in `execute'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:135:in `block (2 levels) in new_worker'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `loop'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `block in new_worker'\"\r\n    }\r\n}\r\n```\r\n\r\nThat's about it, let me know if I can provide anything else :)",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781915489",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141#issuecomment-1781915489",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "id": 1781915489,
                "node_id": "IC_kwDOG6K31s5qNd9h",
                "user": {
                    "login": "ansonhoyt",
                    "id": 543751,
                    "node_id": "MDQ6VXNlcjU0Mzc1MQ==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/543751?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ansonhoyt",
                    "html_url": "https://github.com/ansonhoyt",
                    "followers_url": "https://api.github.com/users/ansonhoyt/followers",
                    "following_url": "https://api.github.com/users/ansonhoyt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ansonhoyt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ansonhoyt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ansonhoyt/subscriptions",
                    "organizations_url": "https://api.github.com/users/ansonhoyt/orgs",
                    "repos_url": "https://api.github.com/users/ansonhoyt/repos",
                    "events_url": "https://api.github.com/users/ansonhoyt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ansonhoyt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T21:24:16Z",
                "updated_at": "2023-10-26T21:24:16Z",
                "author_association": "NONE",
                "body": "With a little `puts` debugging, I found the nil `to_spec`:\r\n\r\n```diff\r\n# /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb\r\n+       warn(\"HACK> #{dependency}\") if dependency.to_spec.nil?\r\n        dependency.to_spec.dependencies.each do |transitive_dependency|\r\n```\r\n\r\nGives:\r\n\r\n```txt\r\nRuby LSP> Command: (bundle check || bundle install) 1>&2\r\nThe Gemfile's dependencies are satisfied\r\nHACK> activemodel (>= 6.0.0)\r\n/Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:202:in `block in initial_excluded_gems': undefined method `dependencies' for nil:NilClass (NoMethodError)\r\n\r\n        dependency.to_spec.dependencies.each do |transitive_dependency|\r\n                          ^^^^^^^^^^^^^\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781915489/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T21:24:16Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32881545250",
        "type": "PullRequestEvent",
        "actor": {
            "id": 88650843,
            "login": "haiderashfaq",
            "display_login": "haiderashfaq",
            "gravatar_id": "",
            "url": "https://api.github.com/users/haiderashfaq",
            "avatar_url": "https://avatars.githubusercontent.com/u/88650843?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "opened",
            "number": 1147,
            "pull_request": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1147",
                "id": 1575564522,
                "node_id": "PR_kwDOG6K31s5d6TTq",
                "html_url": "https://github.com/Shopify/ruby-lsp/pull/1147",
                "diff_url": "https://github.com/Shopify/ruby-lsp/pull/1147.diff",
                "patch_url": "https://github.com/Shopify/ruby-lsp/pull/1147.patch",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1147",
                "number": 1147,
                "state": "open",
                "locked": false,
                "title": "added ruby-lsp version to start up message",
                "user": {
                    "login": "haiderashfaq",
                    "id": 88650843,
                    "node_id": "MDQ6VXNlcjg4NjUwODQz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/88650843?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/haiderashfaq",
                    "html_url": "https://github.com/haiderashfaq",
                    "followers_url": "https://api.github.com/users/haiderashfaq/followers",
                    "following_url": "https://api.github.com/users/haiderashfaq/following{/other_user}",
                    "gists_url": "https://api.github.com/users/haiderashfaq/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/haiderashfaq/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/haiderashfaq/subscriptions",
                    "organizations_url": "https://api.github.com/users/haiderashfaq/orgs",
                    "repos_url": "https://api.github.com/users/haiderashfaq/repos",
                    "events_url": "https://api.github.com/users/haiderashfaq/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/haiderashfaq/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "closes #1146 \r\n\r\nAdded `VERSION` to start up messages",
                "created_at": "2023-10-26T20:49:23Z",
                "updated_at": "2023-10-26T20:49:24Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": null,
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "andyw8",
                        "id": 13400,
                        "node_id": "MDQ6VXNlcjEzNDAw",
                        "avatar_url": "https://avatars.githubusercontent.com/u/13400?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/andyw8",
                        "html_url": "https://github.com/andyw8",
                        "followers_url": "https://api.github.com/users/andyw8/followers",
                        "following_url": "https://api.github.com/users/andyw8/following{/other_user}",
                        "gists_url": "https://api.github.com/users/andyw8/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/andyw8/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/andyw8/subscriptions",
                        "organizations_url": "https://api.github.com/users/andyw8/orgs",
                        "repos_url": "https://api.github.com/users/andyw8/repos",
                        "events_url": "https://api.github.com/users/andyw8/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/andyw8/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "Morriar",
                        "id": 583144,
                        "node_id": "MDQ6VXNlcjU4MzE0NA==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/583144?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/Morriar",
                        "html_url": "https://github.com/Morriar",
                        "followers_url": "https://api.github.com/users/Morriar/followers",
                        "following_url": "https://api.github.com/users/Morriar/following{/other_user}",
                        "gists_url": "https://api.github.com/users/Morriar/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/Morriar/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/Morriar/subscriptions",
                        "organizations_url": "https://api.github.com/users/Morriar/orgs",
                        "repos_url": "https://api.github.com/users/Morriar/repos",
                        "events_url": "https://api.github.com/users/Morriar/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/Morriar/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [
                    {
                        "name": "ruby-dev-exp",
                        "id": 5870638,
                        "node_id": "T_kwDNH5XOAFmULg",
                        "slug": "ruby-dev-exp",
                        "description": "",
                        "privacy": "closed",
                        "notification_setting": "notifications_enabled",
                        "url": "https://api.github.com/organizations/8085/team/5870638",
                        "html_url": "https://github.com/orgs/Shopify/teams/ruby-dev-exp",
                        "members_url": "https://api.github.com/organizations/8085/team/5870638/members{/member}",
                        "repositories_url": "https://api.github.com/organizations/8085/team/5870638/repos",
                        "permission": "pull",
                        "parent": null
                    }
                ],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1147/commits",
                "review_comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1147/comments",
                "review_comment_url": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1147/comments",
                "statuses_url": "https://api.github.com/repos/Shopify/ruby-lsp/statuses/f3ce666320e61e87688234ec04383bb1cc9099c3",
                "head": {
                    "label": "haiderashfaq:gem_version_in_startup_msg",
                    "ref": "gem_version_in_startup_msg",
                    "sha": "f3ce666320e61e87688234ec04383bb1cc9099c3",
                    "user": {
                        "login": "haiderashfaq",
                        "id": 88650843,
                        "node_id": "MDQ6VXNlcjg4NjUwODQz",
                        "avatar_url": "https://avatars.githubusercontent.com/u/88650843?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/haiderashfaq",
                        "html_url": "https://github.com/haiderashfaq",
                        "followers_url": "https://api.github.com/users/haiderashfaq/followers",
                        "following_url": "https://api.github.com/users/haiderashfaq/following{/other_user}",
                        "gists_url": "https://api.github.com/users/haiderashfaq/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/haiderashfaq/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/haiderashfaq/subscriptions",
                        "organizations_url": "https://api.github.com/users/haiderashfaq/orgs",
                        "repos_url": "https://api.github.com/users/haiderashfaq/repos",
                        "events_url": "https://api.github.com/users/haiderashfaq/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/haiderashfaq/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 708095346,
                        "node_id": "R_kgDOKjStcg",
                        "name": "ruby-lsp",
                        "full_name": "haiderashfaq/ruby-lsp",
                        "private": false,
                        "owner": {
                            "login": "haiderashfaq",
                            "id": 88650843,
                            "node_id": "MDQ6VXNlcjg4NjUwODQz",
                            "avatar_url": "https://avatars.githubusercontent.com/u/88650843?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/haiderashfaq",
                            "html_url": "https://github.com/haiderashfaq",
                            "followers_url": "https://api.github.com/users/haiderashfaq/followers",
                            "following_url": "https://api.github.com/users/haiderashfaq/following{/other_user}",
                            "gists_url": "https://api.github.com/users/haiderashfaq/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/haiderashfaq/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/haiderashfaq/subscriptions",
                            "organizations_url": "https://api.github.com/users/haiderashfaq/orgs",
                            "repos_url": "https://api.github.com/users/haiderashfaq/repos",
                            "events_url": "https://api.github.com/users/haiderashfaq/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/haiderashfaq/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/haiderashfaq/ruby-lsp",
                        "description": "An opinionated language server for Ruby",
                        "fork": true,
                        "url": "https://api.github.com/repos/haiderashfaq/ruby-lsp",
                        "forks_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/forks",
                        "keys_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/teams",
                        "hooks_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/hooks",
                        "issue_events_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/events",
                        "assignees_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/tags",
                        "blobs_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/languages",
                        "stargazers_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/stargazers",
                        "contributors_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/contributors",
                        "subscribers_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/subscribers",
                        "subscription_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/subscription",
                        "commits_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/merges",
                        "archive_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/downloads",
                        "issues_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/labels{/name}",
                        "releases_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/haiderashfaq/ruby-lsp/deployments",
                        "created_at": "2023-10-21T14:09:13Z",
                        "updated_at": "2023-10-21T14:14:01Z",
                        "pushed_at": "2023-10-26T20:47:51Z",
                        "git_url": "git://github.com/haiderashfaq/ruby-lsp.git",
                        "ssh_url": "git@github.com:haiderashfaq/ruby-lsp.git",
                        "clone_url": "https://github.com/haiderashfaq/ruby-lsp.git",
                        "svn_url": "https://github.com/haiderashfaq/ruby-lsp",
                        "homepage": "https://shopify.github.io/ruby-lsp/",
                        "size": 11344,
                        "stargazers_count": 0,
                        "watchers_count": 0,
                        "language": "Ruby",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 0,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "Shopify:main",
                    "ref": "main",
                    "sha": "6e78c904ab0533106af1522dbbdbcd8a7bacde66",
                    "user": {
                        "login": "Shopify",
                        "id": 8085,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjgwODU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/8085?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/Shopify",
                        "html_url": "https://github.com/Shopify",
                        "followers_url": "https://api.github.com/users/Shopify/followers",
                        "following_url": "https://api.github.com/users/Shopify/following{/other_user}",
                        "gists_url": "https://api.github.com/users/Shopify/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/Shopify/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/Shopify/subscriptions",
                        "organizations_url": "https://api.github.com/users/Shopify/orgs",
                        "repos_url": "https://api.github.com/users/Shopify/repos",
                        "events_url": "https://api.github.com/users/Shopify/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/Shopify/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 463648726,
                        "node_id": "R_kgDOG6K31g",
                        "name": "ruby-lsp",
                        "full_name": "Shopify/ruby-lsp",
                        "private": false,
                        "owner": {
                            "login": "Shopify",
                            "id": 8085,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjgwODU=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/8085?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/Shopify",
                            "html_url": "https://github.com/Shopify",
                            "followers_url": "https://api.github.com/users/Shopify/followers",
                            "following_url": "https://api.github.com/users/Shopify/following{/other_user}",
                            "gists_url": "https://api.github.com/users/Shopify/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/Shopify/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/Shopify/subscriptions",
                            "organizations_url": "https://api.github.com/users/Shopify/orgs",
                            "repos_url": "https://api.github.com/users/Shopify/repos",
                            "events_url": "https://api.github.com/users/Shopify/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/Shopify/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/Shopify/ruby-lsp",
                        "description": "An opinionated language server for Ruby",
                        "fork": false,
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp",
                        "forks_url": "https://api.github.com/repos/Shopify/ruby-lsp/forks",
                        "keys_url": "https://api.github.com/repos/Shopify/ruby-lsp/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/Shopify/ruby-lsp/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/Shopify/ruby-lsp/teams",
                        "hooks_url": "https://api.github.com/repos/Shopify/ruby-lsp/hooks",
                        "issue_events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/events",
                        "assignees_url": "https://api.github.com/repos/Shopify/ruby-lsp/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/Shopify/ruby-lsp/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/Shopify/ruby-lsp/tags",
                        "blobs_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/Shopify/ruby-lsp/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/Shopify/ruby-lsp/languages",
                        "stargazers_url": "https://api.github.com/repos/Shopify/ruby-lsp/stargazers",
                        "contributors_url": "https://api.github.com/repos/Shopify/ruby-lsp/contributors",
                        "subscribers_url": "https://api.github.com/repos/Shopify/ruby-lsp/subscribers",
                        "subscription_url": "https://api.github.com/repos/Shopify/ruby-lsp/subscription",
                        "commits_url": "https://api.github.com/repos/Shopify/ruby-lsp/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/Shopify/ruby-lsp/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/Shopify/ruby-lsp/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/Shopify/ruby-lsp/merges",
                        "archive_url": "https://api.github.com/repos/Shopify/ruby-lsp/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/Shopify/ruby-lsp/downloads",
                        "issues_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/Shopify/ruby-lsp/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/Shopify/ruby-lsp/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/Shopify/ruby-lsp/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/labels{/name}",
                        "releases_url": "https://api.github.com/repos/Shopify/ruby-lsp/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/Shopify/ruby-lsp/deployments",
                        "created_at": "2022-02-25T19:13:56Z",
                        "updated_at": "2023-10-26T19:58:19Z",
                        "pushed_at": "2023-10-26T20:49:23Z",
                        "git_url": "git://github.com/Shopify/ruby-lsp.git",
                        "ssh_url": "git@github.com:Shopify/ruby-lsp.git",
                        "clone_url": "https://github.com/Shopify/ruby-lsp.git",
                        "svn_url": "https://github.com/Shopify/ruby-lsp",
                        "homepage": "https://shopify.github.io/ruby-lsp/",
                        "size": 12468,
                        "stargazers_count": 1051,
                        "watchers_count": 1051,
                        "language": "Ruby",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 75,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 59,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "lsp",
                            "ruby"
                        ],
                        "visibility": "public",
                        "forks": 75,
                        "open_issues": 59,
                        "watchers": 1051,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1147"
                    },
                    "html": {
                        "href": "https://github.com/Shopify/ruby-lsp/pull/1147"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1147"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1147/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1147/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1147/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/statuses/f3ce666320e61e87688234ec04383bb1cc9099c3"
                    }
                },
                "author_association": "NONE",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": true,
                "commits": 1,
                "additions": 1,
                "deletions": 1,
                "changed_files": 1
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:49:24Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32881235696",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 543751,
            "login": "ansonhoyt",
            "display_login": "ansonhoyt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ansonhoyt",
            "avatar_url": "https://avatars.githubusercontent.com/u/543751?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141",
                "id": 1961451158,
                "node_id": "I_kwDOG6K31s506V6W",
                "number": 1141,
                "title": "Format on save is not working.",
                "user": {
                    "login": "thibgn",
                    "id": 56600224,
                    "node_id": "MDQ6VXNlcjU2NjAwMjI0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/56600224?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/thibgn",
                    "html_url": "https://github.com/thibgn",
                    "followers_url": "https://api.github.com/users/thibgn/followers",
                    "following_url": "https://api.github.com/users/thibgn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/thibgn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/thibgn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/thibgn/subscriptions",
                    "organizations_url": "https://api.github.com/users/thibgn/orgs",
                    "repos_url": "https://api.github.com/users/thibgn/repos",
                    "events_url": "https://api.github.com/users/thibgn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/thibgn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 10,
                "created_at": "2023-10-25T08:23:54Z",
                "updated_at": "2023-10-26T20:34:41Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Operating System\r\n\r\nMac OS 13.0\r\n\r\n### Ruby version\r\n\r\n3.2.2\r\n\r\n### Project has a bundle\r\n\r\n- [X] Has bundle\r\n\r\n### Ruby version manager being used\r\n\r\nrbenv\r\n\r\n### Description\r\n\r\nI'm having a few issues with Ruby LSP that I can't seem to fix.\r\n\r\nFirst, the indexing is stuck at 0%. \r\nNo matter how long I wait, the settings I use, I never see anything else than `Ruby LSP: indexing files: 0% completed`\r\n\r\nBut the main issue is the **formatting that doesn't work on save** (it _kinda_ works when I format manually, but it only fixes indentation).\r\n\r\nI obviously checked my VSCode configuration and nothing should prevent the format on save (it's working for other languages).\r\n\r\nHere's the relevant settings I use for ruby : \r\n```json\r\n  \"rubyLsp.rubyVersionManager\": \"rbenv\",\r\n  \"[ruby]\": {\r\n\t\"editor.defaultFormatter\": \"Shopify.ruby-lsp\",\r\n\t\"editor.formatOnSave\": true,\r\n\t\"editor.formatOnType\": true,\r\n\t\"editor.tabSize\": 2,\r\n\t\"editor.insertSpaces\": true,\r\n\t\"files.trimTrailingWhitespace\": true,\r\n\t\"files.insertFinalNewline\": true,\r\n\t\"files.trimFinalNewlines\": true,\r\n\t\"editor.rulers\": [120],\r\n\t\"editor.semanticHighlighting.enabled\": true\r\n  },\r\n```\r\n\r\nI noticed I had both `rvm` & `rbenv` installed so I removed rvm and made sure rbenv was [properly configured](https://github.com/rbenv/rbenv#basic-git-checkout).\r\nI also made sure `$SHELL` was available : i'm using `zsh` so its value is `/bin/zsh`\r\n\r\nI also removed everything ruby or rails related in my VScode extensions.\r\n\r\nHere's the logs from Ruby LSP : \r\n```\r\nRuby LSP> Skipping custom bundle setup since /Users/thib/code/myproject/api/.ruby-lsp/Gemfile.lock already exists and is up to date\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nThe Gemfile's dependencies are satisfied\r\nStarting Ruby LSP...\r\n```\r\n\r\nAlso, in the Output tab, `Window` is logging the following which may be related ? \r\n\r\n```\r\n2023-10-25 10:01:00.488 [error] [Extension Host] Received response message without id: Error is: \r\n{\r\n    \"code\": -32603,\r\n    \"message\": \"#<NoMethodError: undefined method `dependencies' for nil:NilClass>\",\r\n    \"data\": {\r\n        \"errorClass\": \"NoMethodError\",\r\n        \"errorMessage\": \"undefined method `dependencies' for nil:NilClass\",\r\n        \"backtrace\": \"~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:197:in `block in initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:21:in `initialize'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `new'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `configuration'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:248:in `block in collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `downto'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:222:in `add_class_entry'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:25:in `visit_class_node'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:2876:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:14835:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:12985:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/index.rb:184:in `index_single'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:198:in `block in did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:172:in `run'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:26:in `execute'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:135:in `block (2 levels) in new_worker'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `loop'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `block in new_worker'\"\r\n    }\r\n}\r\n```\r\n\r\nThat's about it, let me know if I can provide anything else :)",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781858220",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141#issuecomment-1781858220",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "id": 1781858220,
                "node_id": "IC_kwDOG6K31s5qNP-s",
                "user": {
                    "login": "ansonhoyt",
                    "id": 543751,
                    "node_id": "MDQ6VXNlcjU0Mzc1MQ==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/543751?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ansonhoyt",
                    "html_url": "https://github.com/ansonhoyt",
                    "followers_url": "https://api.github.com/users/ansonhoyt/followers",
                    "following_url": "https://api.github.com/users/ansonhoyt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ansonhoyt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ansonhoyt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ansonhoyt/subscriptions",
                    "organizations_url": "https://api.github.com/users/ansonhoyt/orgs",
                    "repos_url": "https://api.github.com/users/ansonhoyt/repos",
                    "events_url": "https://api.github.com/users/ansonhoyt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ansonhoyt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T20:34:41Z",
                "updated_at": "2023-10-26T20:34:41Z",
                "author_association": "NONE",
                "body": "Running your checks https://github.com/Shopify/ruby-lsp/issues/1141#issuecomment-1779296146 in irb, I have one pre-release dependency and `rubocop-rails` 2.21.2.\r\n\r\n```ruby\r\n# Print the name of all dependencies where `to_spec` returns `nil`\r\nputs dependencies.select { |d| d.to_spec.nil? }.map(&:name)\r\n# nil\r\n\r\nputs dependencies.select { |d| d.to_spec.version.prerelease? }\r\n# rails (~> 7.1.0.beta1)\r\n\r\nputs Gem::Specification.find_by_name('rails').version\r\n# 7.1.0.rc2\r\n\r\nputs Gem::Specification.find_by_name('rubocop-rails').version\r\n# 2.21.2\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781858220/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:34:41Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32881187913",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 56600224,
            "login": "thibgn",
            "display_login": "thibgn",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thibgn",
            "avatar_url": "https://avatars.githubusercontent.com/u/56600224?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141",
                "id": 1961451158,
                "node_id": "I_kwDOG6K31s506V6W",
                "number": 1141,
                "title": "Format on save is not working.",
                "user": {
                    "login": "thibgn",
                    "id": 56600224,
                    "node_id": "MDQ6VXNlcjU2NjAwMjI0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/56600224?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/thibgn",
                    "html_url": "https://github.com/thibgn",
                    "followers_url": "https://api.github.com/users/thibgn/followers",
                    "following_url": "https://api.github.com/users/thibgn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/thibgn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/thibgn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/thibgn/subscriptions",
                    "organizations_url": "https://api.github.com/users/thibgn/orgs",
                    "repos_url": "https://api.github.com/users/thibgn/repos",
                    "events_url": "https://api.github.com/users/thibgn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/thibgn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 9,
                "created_at": "2023-10-25T08:23:54Z",
                "updated_at": "2023-10-26T20:32:22Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Operating System\r\n\r\nMac OS 13.0\r\n\r\n### Ruby version\r\n\r\n3.2.2\r\n\r\n### Project has a bundle\r\n\r\n- [X] Has bundle\r\n\r\n### Ruby version manager being used\r\n\r\nrbenv\r\n\r\n### Description\r\n\r\nI'm having a few issues with Ruby LSP that I can't seem to fix.\r\n\r\nFirst, the indexing is stuck at 0%. \r\nNo matter how long I wait, the settings I use, I never see anything else than `Ruby LSP: indexing files: 0% completed`\r\n\r\nBut the main issue is the **formatting that doesn't work on save** (it _kinda_ works when I format manually, but it only fixes indentation).\r\n\r\nI obviously checked my VSCode configuration and nothing should prevent the format on save (it's working for other languages).\r\n\r\nHere's the relevant settings I use for ruby : \r\n```json\r\n  \"rubyLsp.rubyVersionManager\": \"rbenv\",\r\n  \"[ruby]\": {\r\n\t\"editor.defaultFormatter\": \"Shopify.ruby-lsp\",\r\n\t\"editor.formatOnSave\": true,\r\n\t\"editor.formatOnType\": true,\r\n\t\"editor.tabSize\": 2,\r\n\t\"editor.insertSpaces\": true,\r\n\t\"files.trimTrailingWhitespace\": true,\r\n\t\"files.insertFinalNewline\": true,\r\n\t\"files.trimFinalNewlines\": true,\r\n\t\"editor.rulers\": [120],\r\n\t\"editor.semanticHighlighting.enabled\": true\r\n  },\r\n```\r\n\r\nI noticed I had both `rvm` & `rbenv` installed so I removed rvm and made sure rbenv was [properly configured](https://github.com/rbenv/rbenv#basic-git-checkout).\r\nI also made sure `$SHELL` was available : i'm using `zsh` so its value is `/bin/zsh`\r\n\r\nI also removed everything ruby or rails related in my VScode extensions.\r\n\r\nHere's the logs from Ruby LSP : \r\n```\r\nRuby LSP> Skipping custom bundle setup since /Users/thib/code/myproject/api/.ruby-lsp/Gemfile.lock already exists and is up to date\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nThe Gemfile's dependencies are satisfied\r\nStarting Ruby LSP...\r\n```\r\n\r\nAlso, in the Output tab, `Window` is logging the following which may be related ? \r\n\r\n```\r\n2023-10-25 10:01:00.488 [error] [Extension Host] Received response message without id: Error is: \r\n{\r\n    \"code\": -32603,\r\n    \"message\": \"#<NoMethodError: undefined method `dependencies' for nil:NilClass>\",\r\n    \"data\": {\r\n        \"errorClass\": \"NoMethodError\",\r\n        \"errorMessage\": \"undefined method `dependencies' for nil:NilClass\",\r\n        \"backtrace\": \"~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:197:in `block in initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:21:in `initialize'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `new'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `configuration'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:248:in `block in collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `downto'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:222:in `add_class_entry'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:25:in `visit_class_node'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:2876:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:14835:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:12985:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/index.rb:184:in `index_single'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:198:in `block in did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:172:in `run'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:26:in `execute'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:135:in `block (2 levels) in new_worker'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `loop'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `block in new_worker'\"\r\n    }\r\n}\r\n```\r\n\r\nThat's about it, let me know if I can provide anything else :)",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781855651",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141#issuecomment-1781855651",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "id": 1781855651,
                "node_id": "IC_kwDOG6K31s5qNPWj",
                "user": {
                    "login": "thibgn",
                    "id": 56600224,
                    "node_id": "MDQ6VXNlcjU2NjAwMjI0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/56600224?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/thibgn",
                    "html_url": "https://github.com/thibgn",
                    "followers_url": "https://api.github.com/users/thibgn/followers",
                    "following_url": "https://api.github.com/users/thibgn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/thibgn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/thibgn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/thibgn/subscriptions",
                    "organizations_url": "https://api.github.com/users/thibgn/orgs",
                    "repos_url": "https://api.github.com/users/thibgn/repos",
                    "events_url": "https://api.github.com/users/thibgn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/thibgn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T20:32:22Z",
                "updated_at": "2023-10-26T20:32:22Z",
                "author_association": "NONE",
                "body": ">  Can you share which version of `rubocop-rails` your project is locked to? And what is your Gemfile requirement constraints? Is it a prerelease version by any chance?\r\n\r\nIn my Gemfile.lock I found `rubocop-rails (2.21.2)`.\r\nIn my Gemfile I only have `gem 'rubocop-rails', require: false`.\r\n\r\nI'm not sure about the prerelease, does the above information clears that up ?",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781855651/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:32:22Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32880916579",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 18742907,
            "login": "vinistock",
            "display_login": "vinistock",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vinistock",
            "avatar_url": "https://avatars.githubusercontent.com/u/18742907?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1131",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1131/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1131/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1131/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/pull/1131",
                "id": 1955512000,
                "node_id": "PR_kwDOG6K31s5dckHY",
                "number": 1131,
                "title": "replaced occurrences of node.slice with node.full_name",
                "user": {
                    "login": "haiderashfaq",
                    "id": 88650843,
                    "node_id": "MDQ6VXNlcjg4NjUwODQz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/88650843?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/haiderashfaq",
                    "html_url": "https://github.com/haiderashfaq",
                    "followers_url": "https://api.github.com/users/haiderashfaq/followers",
                    "following_url": "https://api.github.com/users/haiderashfaq/following{/other_user}",
                    "gists_url": "https://api.github.com/users/haiderashfaq/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/haiderashfaq/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/haiderashfaq/subscriptions",
                    "organizations_url": "https://api.github.com/users/haiderashfaq/orgs",
                    "repos_url": "https://api.github.com/users/haiderashfaq/repos",
                    "events_url": "https://api.github.com/users/haiderashfaq/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/haiderashfaq/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 8,
                "created_at": "2023-10-21T14:18:44Z",
                "updated_at": "2023-10-26T20:19:51Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1131",
                    "html_url": "https://github.com/Shopify/ruby-lsp/pull/1131",
                    "diff_url": "https://github.com/Shopify/ruby-lsp/pull/1131.diff",
                    "patch_url": "https://github.com/Shopify/ruby-lsp/pull/1131.patch",
                    "merged_at": null
                },
                "body": "Resolves #1130 \r\n\r\nreplaced occurrences of `node.slice` with `node.full_name`",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1131/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1131/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781840355",
                "html_url": "https://github.com/Shopify/ruby-lsp/pull/1131#issuecomment-1781840355",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1131",
                "id": 1781840355,
                "node_id": "IC_kwDOG6K31s5qNLnj",
                "user": {
                    "login": "vinistock",
                    "id": 18742907,
                    "node_id": "MDQ6VXNlcjE4NzQyOTA3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/18742907?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/vinistock",
                    "html_url": "https://github.com/vinistock",
                    "followers_url": "https://api.github.com/users/vinistock/followers",
                    "following_url": "https://api.github.com/users/vinistock/following{/other_user}",
                    "gists_url": "https://api.github.com/users/vinistock/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/vinistock/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/vinistock/subscriptions",
                    "organizations_url": "https://api.github.com/users/vinistock/orgs",
                    "repos_url": "https://api.github.com/users/vinistock/repos",
                    "events_url": "https://api.github.com/users/vinistock/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/vinistock/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T20:19:50Z",
                "updated_at": "2023-10-26T20:19:50Z",
                "author_association": "MEMBER",
                "body": "Thank you for reporting that Prism is broken on those scenarios. I created https://github.com/ruby/prism/pull/1742 to address it, so that we can then move forward with this PR.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781840355/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:19:51Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32880682732",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 18742907,
            "login": "vinistock",
            "display_login": "vinistock",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vinistock",
            "avatar_url": "https://avatars.githubusercontent.com/u/18742907?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1143",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1143/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1143/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1143/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1143",
                "id": 1962313212,
                "node_id": "I_kwDOG6K31s509oX8",
                "number": 1143,
                "title": "still not working on window with ruby installed with msys2",
                "user": {
                    "login": "ugur-kurnaz",
                    "id": 79141250,
                    "node_id": "MDQ6VXNlcjc5MTQxMjUw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/79141250?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ugur-kurnaz",
                    "html_url": "https://github.com/ugur-kurnaz",
                    "followers_url": "https://api.github.com/users/ugur-kurnaz/followers",
                    "following_url": "https://api.github.com/users/ugur-kurnaz/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ugur-kurnaz/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ugur-kurnaz/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ugur-kurnaz/subscriptions",
                    "organizations_url": "https://api.github.com/users/ugur-kurnaz/orgs",
                    "repos_url": "https://api.github.com/users/ugur-kurnaz/repos",
                    "events_url": "https://api.github.com/users/ugur-kurnaz/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ugur-kurnaz/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2023-10-25T22:04:09Z",
                "updated_at": "2023-10-26T20:09:25Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Ruby version\n\nruby 3.1.3p185 (2022-11-24 revision 1a6b16756e) [x64-mingw-ucrt]\n\n### Code snippet\n\nany rb file, the lsp server just doesn't work\n\n### Description\n\nRuby LSP> Trying to activate Ruby environment with command: ruby -rjson -e \"printf(%{RUBY_ENV_ACTIVATE%sRUBY_ENV_ACTIVATE}, JSON.dump(ENV.to_h))\" inside directory: d:\\projets\\logic_games\r\nRuby LSP> Skipping lockfile copies because there's no top level bundle\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nCould not find gem 'debug'.\r\nC:/etc/msys64/ucrt64/lib/ruby/3.1.0/uri/generic.rb:760:in `check_path': bad component(expected absolute path component): d:/projets/logic_games (URI::InvalidComponentError)\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/3.1.0/uri/generic.rb:806:in `path='\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/3.1.0/uri/generic.rb:192:in `initialize'\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/3.1.0/uri/generic.rb:136:in `new'\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/3.1.0/uri/generic.rb:136:in `build'\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/gems/3.1.0/gems/ruby-lsp-0.8.0/lib/core_ext/uri.rb:18:in `from_path'\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/gems/3.1.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/gems/3.1.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/gems/3.1.0/gems/ruby-lsp-0.8.0/lib/ruby_lsp/utils.rb:9:in `<module:RubyLsp>'\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/gems/3.1.0/gems/ruby-lsp-0.8.0/lib/ruby_lsp/utils.rb:4:in `<top (required)>'\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/gems/3.1.0/gems/ruby-lsp-0.8.0/lib/ruby_lsp/internal.rb:14:in `require'\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/gems/3.1.0/gems/ruby-lsp-0.8.0/lib/ruby_lsp/internal.rb:14:in `<top (required)>'\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/gems/3.1.0/gems/ruby-lsp-0.8.0/exe/ruby-lsp:39:in `require_relative'\r\n\tfrom C:/etc/msys64/ucrt64/lib/ruby/gems/3.1.0/gems/ruby-lsp-0.8.0/exe/ruby-lsp:39:in `<top (required)>'\r\n\tfrom C:/etc/msys64/ucrt64/bin/ruby-lsp:32:in `load'\r\n\tfrom C:/etc/msys64/ucrt64/bin/ruby-lsp:32:in `<main>'\r\n[Error - 11:56:43 PM] Server initialization failed.\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n[Info  - 11:56:43 PM] Connection to server got closed. Server will restart.\r\ntrue\r\n[Error - 11:56:43 PM] Ruby LSP client: couldn't create connection to server.\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n[Error - 11:56:43 PM] Server process exited with code 1.\r\n\r\n...\r\n\r\n[Error - 11:57:09 PM] The Ruby LSP server crashed 5 times in the last 3 minutes. The server will not be restarted. See the output for more information.\n\n### Expected output\n\ndon't know, it's been a while I'm trying to use this. But actually, I'm not sure what to except from a \"had never worked\" extension.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1143/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1143/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781827107",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1143#issuecomment-1781827107",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1143",
                "id": 1781827107,
                "node_id": "IC_kwDOG6K31s5qNIYj",
                "user": {
                    "login": "vinistock",
                    "id": 18742907,
                    "node_id": "MDQ6VXNlcjE4NzQyOTA3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/18742907?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/vinistock",
                    "html_url": "https://github.com/vinistock",
                    "followers_url": "https://api.github.com/users/vinistock/followers",
                    "following_url": "https://api.github.com/users/vinistock/following{/other_user}",
                    "gists_url": "https://api.github.com/users/vinistock/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/vinistock/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/vinistock/subscriptions",
                    "organizations_url": "https://api.github.com/users/vinistock/orgs",
                    "repos_url": "https://api.github.com/users/vinistock/repos",
                    "events_url": "https://api.github.com/users/vinistock/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/vinistock/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T20:09:25Z",
                "updated_at": "2023-10-26T20:09:25Z",
                "author_association": "MEMBER",
                "body": "You shouldn't need to install every dependency manually. Doing `gem install ruby-lsp` should install it with `prism` too. Also, `debug` is a default gem that comes bundled with Ruby, it's not necessary to `gem install debug`. Additionally, the VS Code extension already does that automatically.\r\n\r\nBoth [debug](https://github.com/ruby/debug) and [prism](https://github.com/ruby/prism) are native extensions. If you faced compilation errors, can I ask that you report them in their respective repositories so that the maintainers can assess what the issue was?\r\n\r\nAlso, is the extension working now? Can we close this issue?",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781827107/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:09:25Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32880436469",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 18742907,
            "login": "vinistock",
            "display_login": "vinistock",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vinistock",
            "avatar_url": "https://avatars.githubusercontent.com/u/18742907?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141",
                "id": 1961451158,
                "node_id": "I_kwDOG6K31s506V6W",
                "number": 1141,
                "title": "Format on save is not working.",
                "user": {
                    "login": "thibgn",
                    "id": 56600224,
                    "node_id": "MDQ6VXNlcjU2NjAwMjI0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/56600224?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/thibgn",
                    "html_url": "https://github.com/thibgn",
                    "followers_url": "https://api.github.com/users/thibgn/followers",
                    "following_url": "https://api.github.com/users/thibgn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/thibgn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/thibgn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/thibgn/subscriptions",
                    "organizations_url": "https://api.github.com/users/thibgn/orgs",
                    "repos_url": "https://api.github.com/users/thibgn/repos",
                    "events_url": "https://api.github.com/users/thibgn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/thibgn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 8,
                "created_at": "2023-10-25T08:23:54Z",
                "updated_at": "2023-10-26T19:58:39Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Operating System\r\n\r\nMac OS 13.0\r\n\r\n### Ruby version\r\n\r\n3.2.2\r\n\r\n### Project has a bundle\r\n\r\n- [X] Has bundle\r\n\r\n### Ruby version manager being used\r\n\r\nrbenv\r\n\r\n### Description\r\n\r\nI'm having a few issues with Ruby LSP that I can't seem to fix.\r\n\r\nFirst, the indexing is stuck at 0%. \r\nNo matter how long I wait, the settings I use, I never see anything else than `Ruby LSP: indexing files: 0% completed`\r\n\r\nBut the main issue is the **formatting that doesn't work on save** (it _kinda_ works when I format manually, but it only fixes indentation).\r\n\r\nI obviously checked my VSCode configuration and nothing should prevent the format on save (it's working for other languages).\r\n\r\nHere's the relevant settings I use for ruby : \r\n```json\r\n  \"rubyLsp.rubyVersionManager\": \"rbenv\",\r\n  \"[ruby]\": {\r\n\t\"editor.defaultFormatter\": \"Shopify.ruby-lsp\",\r\n\t\"editor.formatOnSave\": true,\r\n\t\"editor.formatOnType\": true,\r\n\t\"editor.tabSize\": 2,\r\n\t\"editor.insertSpaces\": true,\r\n\t\"files.trimTrailingWhitespace\": true,\r\n\t\"files.insertFinalNewline\": true,\r\n\t\"files.trimFinalNewlines\": true,\r\n\t\"editor.rulers\": [120],\r\n\t\"editor.semanticHighlighting.enabled\": true\r\n  },\r\n```\r\n\r\nI noticed I had both `rvm` & `rbenv` installed so I removed rvm and made sure rbenv was [properly configured](https://github.com/rbenv/rbenv#basic-git-checkout).\r\nI also made sure `$SHELL` was available : i'm using `zsh` so its value is `/bin/zsh`\r\n\r\nI also removed everything ruby or rails related in my VScode extensions.\r\n\r\nHere's the logs from Ruby LSP : \r\n```\r\nRuby LSP> Skipping custom bundle setup since /Users/thib/code/myproject/api/.ruby-lsp/Gemfile.lock already exists and is up to date\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nThe Gemfile's dependencies are satisfied\r\nStarting Ruby LSP...\r\n```\r\n\r\nAlso, in the Output tab, `Window` is logging the following which may be related ? \r\n\r\n```\r\n2023-10-25 10:01:00.488 [error] [Extension Host] Received response message without id: Error is: \r\n{\r\n    \"code\": -32603,\r\n    \"message\": \"#<NoMethodError: undefined method `dependencies' for nil:NilClass>\",\r\n    \"data\": {\r\n        \"errorClass\": \"NoMethodError\",\r\n        \"errorMessage\": \"undefined method `dependencies' for nil:NilClass\",\r\n        \"backtrace\": \"~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:197:in `block in initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:21:in `initialize'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `new'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `configuration'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:248:in `block in collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `downto'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:222:in `add_class_entry'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:25:in `visit_class_node'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:2876:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:14835:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:12985:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/index.rb:184:in `index_single'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:198:in `block in did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:172:in `run'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:26:in `execute'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:135:in `block (2 levels) in new_worker'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `loop'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `block in new_worker'\"\r\n    }\r\n}\r\n```\r\n\r\nThat's about it, let me know if I can provide anything else :)",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781812598",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141#issuecomment-1781812598",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "id": 1781812598,
                "node_id": "IC_kwDOG6K31s5qNE12",
                "user": {
                    "login": "vinistock",
                    "id": 18742907,
                    "node_id": "MDQ6VXNlcjE4NzQyOTA3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/18742907?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/vinistock",
                    "html_url": "https://github.com/vinistock",
                    "followers_url": "https://api.github.com/users/vinistock/followers",
                    "following_url": "https://api.github.com/users/vinistock/following{/other_user}",
                    "gists_url": "https://api.github.com/users/vinistock/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/vinistock/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/vinistock/subscriptions",
                    "organizations_url": "https://api.github.com/users/vinistock/orgs",
                    "repos_url": "https://api.github.com/users/vinistock/repos",
                    "events_url": "https://api.github.com/users/vinistock/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/vinistock/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T19:58:39Z",
                "updated_at": "2023-10-26T19:58:39Z",
                "author_association": "MEMBER",
                "body": "Okay, I dig a bit into the rubygems code again to try to understand the root cause. I suspect this is [the step](https://github.com/rubygems/rubygems/blob/1a1948424aca90013b37cb8a78f5d1d5576023f1/lib/rubygems/dependency.rb#L333) that's causing `to_spec` to return `nil`.\r\n\r\nYou said removing `rubocop-rails` fixes the issue. Can you share which version of `rubocop-rails` your project is locked to? And what is your Gemfile requirement constraints? Is it a prerelease version by any chance?\r\n\r\nOn that line I shared, rubygems takes all specs with prereleases and tries to place them at the end of the list. But it only does so if the `requirement` matches. If it doesn't, then `matches` will be an empty array and the method will return `nil`.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781812598/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:58:39Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32880428897",
        "type": "WatchEvent",
        "actor": {
            "id": 19893395,
            "login": "ariel-frischer",
            "display_login": "ariel-frischer",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ariel-frischer",
            "avatar_url": "https://avatars.githubusercontent.com/u/19893395?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-26T19:58:19Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32879883071",
        "type": "IssuesEvent",
        "actor": {
            "id": 18742907,
            "login": "vinistock",
            "display_login": "vinistock",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vinistock",
            "avatar_url": "https://avatars.githubusercontent.com/u/18742907?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1145",
                "id": 1964035016,
                "node_id": "I_kwDOG6K31s51EMvI",
                "number": 1145,
                "title": "Error updating to the new version: undefined method `dependencies' for nil:NilClass",
                "user": {
                    "login": "ansonhoyt",
                    "id": 543751,
                    "node_id": "MDQ6VXNlcjU0Mzc1MQ==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/543751?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ansonhoyt",
                    "html_url": "https://github.com/ansonhoyt",
                    "followers_url": "https://api.github.com/users/ansonhoyt/followers",
                    "following_url": "https://api.github.com/users/ansonhoyt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ansonhoyt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ansonhoyt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ansonhoyt/subscriptions",
                    "organizations_url": "https://api.github.com/users/ansonhoyt/orgs",
                    "repos_url": "https://api.github.com/users/ansonhoyt/repos",
                    "events_url": "https://api.github.com/users/ansonhoyt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ansonhoyt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2023-10-26T17:33:13Z",
                "updated_at": "2023-10-26T19:33:27Z",
                "closed_at": "2023-10-26T19:33:27Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Ruby version\r\n\r\n3.2.2\r\n\r\n### Code snippet\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen VSCode installed the new release and seems to fail during the `bundle install` because `to_spec` is unexpectedly `nil` here: https://github.com/Shopify/ruby-lsp/blob/6e78c904ab0533106af1522dbbdbcd8a7bacde66/lib/ruby_indexer/lib/ruby_indexer/configuration.rb#L201\r\n\r\nExtension output:\r\n```txt\r\nRuby LSP> Checking if asdf is available on the path with command: /bin/bash -ic 'asdf --version'\r\nRuby LSP> Checking if chruby is available on the path with command: /bin/bash -ic 'chruby --version'\r\nRuby LSP> Checking if rbenv is available on the path with command: /bin/bash -ic 'rbenv --version'\r\nRuby LSP> Checking if rvm is available on the path with command: /bin/bash -ic 'rvm --version'\r\nRuby LSP> Discovered version manager rvm\r\nRuby LSP> Trying to activate Ruby environment with command: /bin/bash -ic 'rvm-auto-ruby -rjson -e \"printf(%{RUBY_ENV_ACTIVATE%sRUBY_ENV_ACTIVATE}, JSON.dump(ENV.to_h))\"' inside directory: /Users/ahoyt/code/eita/caboose\r\nRuby LSP> Skipping custom bundle setup since /Users/ahoyt/code/eita/caboose/.ruby-lsp/Gemfile.lock already exists and is up to date\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nRuby LSP> Command: (bundle check || bundle install) 1>&2\r\nThe Gemfile's dependencies are satisfied\r\n/Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:201:in `block in initial_excluded_gems': undefined method `dependencies' for nil:NilClass (NoMethodError)\r\n\r\n        dependency.to_spec.dependencies.each do |transitive_dependency|\r\n                          ^^^^^^^^^^^^^\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:198:in `each'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:198:in `initial_excluded_gems'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `bind_call'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:21:in `initialize'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `bind_call'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:15:in `new'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:15:in `<module:RubyIndexer>'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:14:in `<top (required)>'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_lsp/internal.rb:19:in `<top (required)>'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/exe/ruby-lsp:89:in `<top (required)>'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby-lsp:25:in `load'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby-lsp:25:in `<main>'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby_executable_hooks:22:in `eval'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby_executable_hooks:22:in `<main>'\r\n[Error - 1:11:25 PM] Server process exited with code 1.\r\n[Error - 1:11:25 PM] Server initialization failed.\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n[Info  - 1:11:25 PM] Connection to server got closed. Server will restart.\r\ntrue\r\n[Error - 1:11:25 PM] Ruby LSP client: couldn't create connection to server.\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n```\r\n\r\nI tried:\r\n* restarting VSCode\r\n* disable-reload-enable the extension\r\n\r\n### Expected output\r\n\r\nFor `vscode-ruby-lsp` to install the new `ruby-lsp` without errors.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:33:28Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32879882974",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 18742907,
            "login": "vinistock",
            "display_login": "vinistock",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vinistock",
            "avatar_url": "https://avatars.githubusercontent.com/u/18742907?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1145",
                "id": 1964035016,
                "node_id": "I_kwDOG6K31s51EMvI",
                "number": 1145,
                "title": "Error updating to the new version: undefined method `dependencies' for nil:NilClass",
                "user": {
                    "login": "ansonhoyt",
                    "id": 543751,
                    "node_id": "MDQ6VXNlcjU0Mzc1MQ==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/543751?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ansonhoyt",
                    "html_url": "https://github.com/ansonhoyt",
                    "followers_url": "https://api.github.com/users/ansonhoyt/followers",
                    "following_url": "https://api.github.com/users/ansonhoyt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ansonhoyt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ansonhoyt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ansonhoyt/subscriptions",
                    "organizations_url": "https://api.github.com/users/ansonhoyt/orgs",
                    "repos_url": "https://api.github.com/users/ansonhoyt/repos",
                    "events_url": "https://api.github.com/users/ansonhoyt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ansonhoyt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2023-10-26T17:33:13Z",
                "updated_at": "2023-10-26T19:33:27Z",
                "closed_at": "2023-10-26T19:33:27Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Ruby version\r\n\r\n3.2.2\r\n\r\n### Code snippet\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen VSCode installed the new release and seems to fail during the `bundle install` because `to_spec` is unexpectedly `nil` here: https://github.com/Shopify/ruby-lsp/blob/6e78c904ab0533106af1522dbbdbcd8a7bacde66/lib/ruby_indexer/lib/ruby_indexer/configuration.rb#L201\r\n\r\nExtension output:\r\n```txt\r\nRuby LSP> Checking if asdf is available on the path with command: /bin/bash -ic 'asdf --version'\r\nRuby LSP> Checking if chruby is available on the path with command: /bin/bash -ic 'chruby --version'\r\nRuby LSP> Checking if rbenv is available on the path with command: /bin/bash -ic 'rbenv --version'\r\nRuby LSP> Checking if rvm is available on the path with command: /bin/bash -ic 'rvm --version'\r\nRuby LSP> Discovered version manager rvm\r\nRuby LSP> Trying to activate Ruby environment with command: /bin/bash -ic 'rvm-auto-ruby -rjson -e \"printf(%{RUBY_ENV_ACTIVATE%sRUBY_ENV_ACTIVATE}, JSON.dump(ENV.to_h))\"' inside directory: /Users/ahoyt/code/eita/caboose\r\nRuby LSP> Skipping custom bundle setup since /Users/ahoyt/code/eita/caboose/.ruby-lsp/Gemfile.lock already exists and is up to date\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nRuby LSP> Command: (bundle check || bundle install) 1>&2\r\nThe Gemfile's dependencies are satisfied\r\n/Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:201:in `block in initial_excluded_gems': undefined method `dependencies' for nil:NilClass (NoMethodError)\r\n\r\n        dependency.to_spec.dependencies.each do |transitive_dependency|\r\n                          ^^^^^^^^^^^^^\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:198:in `each'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:198:in `initial_excluded_gems'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `bind_call'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:21:in `initialize'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `bind_call'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:15:in `new'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:15:in `<module:RubyIndexer>'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:14:in `<top (required)>'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_lsp/internal.rb:19:in `<top (required)>'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/exe/ruby-lsp:89:in `<top (required)>'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby-lsp:25:in `load'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby-lsp:25:in `<main>'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby_executable_hooks:22:in `eval'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby_executable_hooks:22:in `<main>'\r\n[Error - 1:11:25 PM] Server process exited with code 1.\r\n[Error - 1:11:25 PM] Server initialization failed.\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n[Info  - 1:11:25 PM] Connection to server got closed. Server will restart.\r\ntrue\r\n[Error - 1:11:25 PM] Ruby LSP client: couldn't create connection to server.\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n```\r\n\r\nI tried:\r\n* restarting VSCode\r\n* disable-reload-enable the extension\r\n\r\n### Expected output\r\n\r\nFor `vscode-ruby-lsp` to install the new `ruby-lsp` without errors.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781780527",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1145#issuecomment-1781780527",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145",
                "id": 1781780527,
                "node_id": "IC_kwDOG6K31s5qM9Av",
                "user": {
                    "login": "vinistock",
                    "id": 18742907,
                    "node_id": "MDQ6VXNlcjE4NzQyOTA3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/18742907?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/vinistock",
                    "html_url": "https://github.com/vinistock",
                    "followers_url": "https://api.github.com/users/vinistock/followers",
                    "following_url": "https://api.github.com/users/vinistock/following{/other_user}",
                    "gists_url": "https://api.github.com/users/vinistock/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/vinistock/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/vinistock/subscriptions",
                    "organizations_url": "https://api.github.com/users/vinistock/orgs",
                    "repos_url": "https://api.github.com/users/vinistock/repos",
                    "events_url": "https://api.github.com/users/vinistock/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/vinistock/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T19:33:27Z",
                "updated_at": "2023-10-26T19:33:27Z",
                "author_association": "MEMBER",
                "body": "Thank you for the report. This is a duplicate of #1141, so let's group all of the information there please.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781780527/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:33:28Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32878755888",
        "type": "IssuesEvent",
        "actor": {
            "id": 13400,
            "login": "andyw8",
            "display_login": "andyw8",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andyw8",
            "avatar_url": "https://avatars.githubusercontent.com/u/13400?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "opened",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1146",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1146/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1146/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1146/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1146",
                "id": 1964160344,
                "node_id": "I_kwDOG6K31s51ErVY",
                "number": 1146,
                "title": "Show gem version in startup message",
                "user": {
                    "login": "andyw8",
                    "id": 13400,
                    "node_id": "MDQ6VXNlcjEzNDAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/13400?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/andyw8",
                    "html_url": "https://github.com/andyw8",
                    "followers_url": "https://api.github.com/users/andyw8/followers",
                    "following_url": "https://api.github.com/users/andyw8/following{/other_user}",
                    "gists_url": "https://api.github.com/users/andyw8/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/andyw8/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/andyw8/subscriptions",
                    "organizations_url": "https://api.github.com/users/andyw8/orgs",
                    "repos_url": "https://api.github.com/users/andyw8/repos",
                    "events_url": "https://api.github.com/users/andyw8/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/andyw8/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2023-10-26T18:45:35Z",
                "updated_at": "2023-10-26T18:45:35Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "If we add the version to the startup message, e.g. `Starting Ruby LSP... (v1.2.3)`, then when someone shares the logs we won't need to separately ask about the version in use.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1146/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1146/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T18:45:37Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32878565811",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 56600224,
            "login": "thibgn",
            "display_login": "thibgn",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thibgn",
            "avatar_url": "https://avatars.githubusercontent.com/u/56600224?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141",
                "id": 1961451158,
                "node_id": "I_kwDOG6K31s506V6W",
                "number": 1141,
                "title": "Format on save is not working.",
                "user": {
                    "login": "thibgn",
                    "id": 56600224,
                    "node_id": "MDQ6VXNlcjU2NjAwMjI0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/56600224?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/thibgn",
                    "html_url": "https://github.com/thibgn",
                    "followers_url": "https://api.github.com/users/thibgn/followers",
                    "following_url": "https://api.github.com/users/thibgn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/thibgn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/thibgn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/thibgn/subscriptions",
                    "organizations_url": "https://api.github.com/users/thibgn/orgs",
                    "repos_url": "https://api.github.com/users/thibgn/repos",
                    "events_url": "https://api.github.com/users/thibgn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/thibgn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 7,
                "created_at": "2023-10-25T08:23:54Z",
                "updated_at": "2023-10-26T18:37:46Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Operating System\r\n\r\nMac OS 13.0\r\n\r\n### Ruby version\r\n\r\n3.2.2\r\n\r\n### Project has a bundle\r\n\r\n- [X] Has bundle\r\n\r\n### Ruby version manager being used\r\n\r\nrbenv\r\n\r\n### Description\r\n\r\nI'm having a few issues with Ruby LSP that I can't seem to fix.\r\n\r\nFirst, the indexing is stuck at 0%. \r\nNo matter how long I wait, the settings I use, I never see anything else than `Ruby LSP: indexing files: 0% completed`\r\n\r\nBut the main issue is the **formatting that doesn't work on save** (it _kinda_ works when I format manually, but it only fixes indentation).\r\n\r\nI obviously checked my VSCode configuration and nothing should prevent the format on save (it's working for other languages).\r\n\r\nHere's the relevant settings I use for ruby : \r\n```json\r\n  \"rubyLsp.rubyVersionManager\": \"rbenv\",\r\n  \"[ruby]\": {\r\n\t\"editor.defaultFormatter\": \"Shopify.ruby-lsp\",\r\n\t\"editor.formatOnSave\": true,\r\n\t\"editor.formatOnType\": true,\r\n\t\"editor.tabSize\": 2,\r\n\t\"editor.insertSpaces\": true,\r\n\t\"files.trimTrailingWhitespace\": true,\r\n\t\"files.insertFinalNewline\": true,\r\n\t\"files.trimFinalNewlines\": true,\r\n\t\"editor.rulers\": [120],\r\n\t\"editor.semanticHighlighting.enabled\": true\r\n  },\r\n```\r\n\r\nI noticed I had both `rvm` & `rbenv` installed so I removed rvm and made sure rbenv was [properly configured](https://github.com/rbenv/rbenv#basic-git-checkout).\r\nI also made sure `$SHELL` was available : i'm using `zsh` so its value is `/bin/zsh`\r\n\r\nI also removed everything ruby or rails related in my VScode extensions.\r\n\r\nHere's the logs from Ruby LSP : \r\n```\r\nRuby LSP> Skipping custom bundle setup since /Users/thib/code/myproject/api/.ruby-lsp/Gemfile.lock already exists and is up to date\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nThe Gemfile's dependencies are satisfied\r\nStarting Ruby LSP...\r\n```\r\n\r\nAlso, in the Output tab, `Window` is logging the following which may be related ? \r\n\r\n```\r\n2023-10-25 10:01:00.488 [error] [Extension Host] Received response message without id: Error is: \r\n{\r\n    \"code\": -32603,\r\n    \"message\": \"#<NoMethodError: undefined method `dependencies' for nil:NilClass>\",\r\n    \"data\": {\r\n        \"errorClass\": \"NoMethodError\",\r\n        \"errorMessage\": \"undefined method `dependencies' for nil:NilClass\",\r\n        \"backtrace\": \"~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:197:in `block in initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:21:in `initialize'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `new'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `configuration'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:248:in `block in collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `downto'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:222:in `add_class_entry'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:25:in `visit_class_node'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:2876:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:14835:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:12985:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/index.rb:184:in `index_single'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:198:in `block in did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:172:in `run'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:26:in `execute'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:135:in `block (2 levels) in new_worker'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `loop'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `block in new_worker'\"\r\n    }\r\n}\r\n```\r\n\r\nThat's about it, let me know if I can provide anything else :)",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781663811",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141#issuecomment-1781663811",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "id": 1781663811,
                "node_id": "IC_kwDOG6K31s5qMghD",
                "user": {
                    "login": "thibgn",
                    "id": 56600224,
                    "node_id": "MDQ6VXNlcjU2NjAwMjI0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/56600224?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/thibgn",
                    "html_url": "https://github.com/thibgn",
                    "followers_url": "https://api.github.com/users/thibgn/followers",
                    "following_url": "https://api.github.com/users/thibgn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/thibgn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/thibgn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/thibgn/subscriptions",
                    "organizations_url": "https://api.github.com/users/thibgn/orgs",
                    "repos_url": "https://api.github.com/users/thibgn/repos",
                    "events_url": "https://api.github.com/users/thibgn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/thibgn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T18:37:46Z",
                "updated_at": "2023-10-26T18:37:46Z",
                "author_association": "NONE",
                "body": "Well, the clean install only took me so far. I had a brand new VSCode with only the few extensions I'm using, and everything worked perfectly until it didn't.\r\n\r\nI'm not sure but I think the \"trigger\" may have been a rebase but that could be a mere coincidence.\r\n\r\nHere's the trace I have now in Ruby LSP :\r\n\r\n```\r\nRuby LSP> Skipping custom bundle setup since /Users/thib/code/billi/api/.ruby-lsp/Gemfile.lock already exists and is up to date\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nRuby LSP> Command: (bundle check || bundle install) 1>&2\r\nThe Gemfile's dependencies are satisfied\r\nbundler: failed to load command: ruby-lsp (/Users/thib/.rbenv/versions/3.2.2/bin/ruby-lsp)\r\n/Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:201:in `block in initial_excluded_gems': undefined method `dependencies' for nil:NilClass (NoMethodError)\r\n\r\n        dependency.to_spec.dependencies.each do |transitive_dependency|\r\n                          ^^^^^^^^^^^^^\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:198:in `each'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:198:in `initial_excluded_gems'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `bind_call'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:21:in `initialize'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `bind_call'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:15:in `new'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:15:in `<module:RubyIndexer>'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:14:in `<top (required)>'\r\n\tfrom <internal:/Users/thib/.rbenv/versions/3.2.2/lib/ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:37:in `require'\r\n\tfrom <internal:/Users/thib/.rbenv/versions/3.2.2/lib/ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:37:in `require'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.1/lib/ruby_lsp/internal.rb:19:in `<top (required)>'\r\n\tfrom <internal:/Users/thib/.rbenv/versions/3.2.2/lib/ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:37:in `require'\r\n\tfrom <internal:/Users/thib/.rbenv/versions/3.2.2/lib/ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:37:in `require'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.1/exe/ruby-lsp:89:in `<top (required)>'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/bin/ruby-lsp:25:in `load'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/bin/ruby-lsp:25:in `<top (required)>'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/lib/bundler/cli/exec.rb:58:in `load'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/lib/bundler/cli/exec.rb:58:in `kernel_load'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/lib/bundler/cli/exec.rb:23:in `run'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/lib/bundler/cli.rb:492:in `exec'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/lib/bundler/cli.rb:34:in `dispatch'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/lib/bundler/cli.rb:28:in `start'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/exe/bundle:37:in `block in <top (required)>'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bundler-2.4.21/exe/bundle:29:in `<top (required)>'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/bin/bundle:25:in `load'\r\n\tfrom /Users/thib/.rbenv/versions/3.2.2/bin/bundle:25:in `<main>'\r\n[Error - 20:26:08] Server initialization failed.\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n[Error - 20:26:08] The Ruby LSP server crashed 5 times in the last 3 minutes. The server will not be restarted. See the output for more information.\r\n[Error - 20:26:08] Ruby LSP client: couldn't create connection to server.\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n[Error - 20:26:08] Restarting server failed\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n[Error - 20:26:08] Server process exited with code 1.\r\n```\r\n\r\nI thought the problem came from my ruby environment so I tried with a naked rails app on the same ruby version and it worked.\r\n\r\nSo I thought maybe the problem is somewhere in my Gemfile, even though we are multiple collaborators working on this and I'm the only one with this kind of mess. But nevertheless I found that removing `rubocop-rails` from my Gemfile kind of solves everything. I'm only left with `Error running diagnostics: cannot load such file -- rubocop-rails` which is not surprising.\r\n\r\nBut when I add this gem to the naked rails app, it obviously works like a charm soooo... I don't know.\r\n\r\nI've already spent so much time on this and I'm still so confused about why it's not working as expected, this is painful, and only having a few years of experience certainly doesn't help.\r\n\r\nLet me know if I should open another issue or if I can do anything else.\r\n\r\nCheers",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781663811/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T18:37:47Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32877125580",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 543751,
            "login": "ansonhoyt",
            "display_login": "ansonhoyt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ansonhoyt",
            "avatar_url": "https://avatars.githubusercontent.com/u/543751?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1145",
                "id": 1964035016,
                "node_id": "I_kwDOG6K31s51EMvI",
                "number": 1145,
                "title": "Error updating to the new version: undefined method `dependencies' for nil:NilClass",
                "user": {
                    "login": "ansonhoyt",
                    "id": 543751,
                    "node_id": "MDQ6VXNlcjU0Mzc1MQ==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/543751?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ansonhoyt",
                    "html_url": "https://github.com/ansonhoyt",
                    "followers_url": "https://api.github.com/users/ansonhoyt/followers",
                    "following_url": "https://api.github.com/users/ansonhoyt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ansonhoyt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ansonhoyt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ansonhoyt/subscriptions",
                    "organizations_url": "https://api.github.com/users/ansonhoyt/orgs",
                    "repos_url": "https://api.github.com/users/ansonhoyt/repos",
                    "events_url": "https://api.github.com/users/ansonhoyt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ansonhoyt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-26T17:33:13Z",
                "updated_at": "2023-10-26T17:38:29Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Ruby version\r\n\r\n3.2.2\r\n\r\n### Code snippet\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nWhen VSCode installed the new release and seems to fail during the `bundle install` because `to_spec` is unexpectedly `nil` here: https://github.com/Shopify/ruby-lsp/blob/6e78c904ab0533106af1522dbbdbcd8a7bacde66/lib/ruby_indexer/lib/ruby_indexer/configuration.rb#L201\r\n\r\nExtension output:\r\n```txt\r\nRuby LSP> Checking if asdf is available on the path with command: /bin/bash -ic 'asdf --version'\r\nRuby LSP> Checking if chruby is available on the path with command: /bin/bash -ic 'chruby --version'\r\nRuby LSP> Checking if rbenv is available on the path with command: /bin/bash -ic 'rbenv --version'\r\nRuby LSP> Checking if rvm is available on the path with command: /bin/bash -ic 'rvm --version'\r\nRuby LSP> Discovered version manager rvm\r\nRuby LSP> Trying to activate Ruby environment with command: /bin/bash -ic 'rvm-auto-ruby -rjson -e \"printf(%{RUBY_ENV_ACTIVATE%sRUBY_ENV_ACTIVATE}, JSON.dump(ENV.to_h))\"' inside directory: /Users/ahoyt/code/eita/caboose\r\nRuby LSP> Skipping custom bundle setup since /Users/ahoyt/code/eita/caboose/.ruby-lsp/Gemfile.lock already exists and is up to date\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nRuby LSP> Command: (bundle check || bundle install) 1>&2\r\nThe Gemfile's dependencies are satisfied\r\n/Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:201:in `block in initial_excluded_gems': undefined method `dependencies' for nil:NilClass (NoMethodError)\r\n\r\n        dependency.to_spec.dependencies.each do |transitive_dependency|\r\n                          ^^^^^^^^^^^^^\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:198:in `each'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:198:in `initial_excluded_gems'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `bind_call'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:21:in `initialize'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `bind_call'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:15:in `new'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:15:in `<module:RubyIndexer>'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:14:in `<top (required)>'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_lsp/internal.rb:19:in `<top (required)>'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/exe/ruby-lsp:89:in `<top (required)>'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby-lsp:25:in `load'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby-lsp:25:in `<main>'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby_executable_hooks:22:in `eval'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby_executable_hooks:22:in `<main>'\r\n[Error - 1:11:25 PM] Server process exited with code 1.\r\n[Error - 1:11:25 PM] Server initialization failed.\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n[Info  - 1:11:25 PM] Connection to server got closed. Server will restart.\r\ntrue\r\n[Error - 1:11:25 PM] Ruby LSP client: couldn't create connection to server.\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n```\r\n\r\nI tried:\r\n* restarting VSCode\r\n* disable-reload-enable the extension\r\n\r\n### Expected output\r\n\r\nFor `vscode-ruby-lsp` to install the new `ruby-lsp` without errors.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781555226",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1145#issuecomment-1781555226",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145",
                "id": 1781555226,
                "node_id": "IC_kwDOG6K31s5qMGAa",
                "user": {
                    "login": "ansonhoyt",
                    "id": 543751,
                    "node_id": "MDQ6VXNlcjU0Mzc1MQ==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/543751?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ansonhoyt",
                    "html_url": "https://github.com/ansonhoyt",
                    "followers_url": "https://api.github.com/users/ansonhoyt/followers",
                    "following_url": "https://api.github.com/users/ansonhoyt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ansonhoyt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ansonhoyt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ansonhoyt/subscriptions",
                    "organizations_url": "https://api.github.com/users/ansonhoyt/orgs",
                    "repos_url": "https://api.github.com/users/ansonhoyt/repos",
                    "events_url": "https://api.github.com/users/ansonhoyt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ansonhoyt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T17:38:28Z",
                "updated_at": "2023-10-26T17:38:28Z",
                "author_association": "NONE",
                "body": "Hmmm, works on an almost vanilla Rails 7.0.4.2 project with Ruby 3.1.4.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781555226/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T17:38:29Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32877001314",
        "type": "IssuesEvent",
        "actor": {
            "id": 543751,
            "login": "ansonhoyt",
            "display_login": "ansonhoyt",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ansonhoyt",
            "avatar_url": "https://avatars.githubusercontent.com/u/543751?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "opened",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1145",
                "id": 1964035016,
                "node_id": "I_kwDOG6K31s51EMvI",
                "number": 1145,
                "title": "Error updating to the new version: undefined method `dependencies' for nil:NilClass",
                "user": {
                    "login": "ansonhoyt",
                    "id": 543751,
                    "node_id": "MDQ6VXNlcjU0Mzc1MQ==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/543751?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ansonhoyt",
                    "html_url": "https://github.com/ansonhoyt",
                    "followers_url": "https://api.github.com/users/ansonhoyt/followers",
                    "following_url": "https://api.github.com/users/ansonhoyt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ansonhoyt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ansonhoyt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ansonhoyt/subscriptions",
                    "organizations_url": "https://api.github.com/users/ansonhoyt/orgs",
                    "repos_url": "https://api.github.com/users/ansonhoyt/repos",
                    "events_url": "https://api.github.com/users/ansonhoyt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ansonhoyt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2023-10-26T17:33:13Z",
                "updated_at": "2023-10-26T17:33:13Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Ruby version\n\n3.2.2\n\n### Code snippet\n\n_No response_\n\n### Description\n\nWhen VSCode installed the new release and seems to fail during the `bundle install` because `to_spec` is unexpectedly `nil` here: https://github.com/Shopify/ruby-lsp/blob/6e78c904ab0533106af1522dbbdbcd8a7bacde66/lib/ruby_indexer/lib/ruby_indexer/configuration.rb#L201\r\n\r\n```txt\r\nRuby LSP> Checking if asdf is available on the path with command: /bin/bash -ic 'asdf --version'\r\nRuby LSP> Checking if chruby is available on the path with command: /bin/bash -ic 'chruby --version'\r\nRuby LSP> Checking if rbenv is available on the path with command: /bin/bash -ic 'rbenv --version'\r\nRuby LSP> Checking if rvm is available on the path with command: /bin/bash -ic 'rvm --version'\r\nRuby LSP> Discovered version manager rvm\r\nRuby LSP> Trying to activate Ruby environment with command: /bin/bash -ic 'rvm-auto-ruby -rjson -e \"printf(%{RUBY_ENV_ACTIVATE%sRUBY_ENV_ACTIVATE}, JSON.dump(ENV.to_h))\"' inside directory: /Users/ahoyt/code/eita/caboose\r\nRuby LSP> Skipping custom bundle setup since /Users/ahoyt/code/eita/caboose/.ruby-lsp/Gemfile.lock already exists and is up to date\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nRuby LSP> Command: (bundle check || bundle install) 1>&2\r\nThe Gemfile's dependencies are satisfied\r\n/Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:201:in `block in initial_excluded_gems': undefined method `dependencies' for nil:NilClass (NoMethodError)\r\n\r\n        dependency.to_spec.dependencies.each do |transitive_dependency|\r\n                          ^^^^^^^^^^^^^\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:198:in `each'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:198:in `initial_excluded_gems'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `bind_call'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:21:in `initialize'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `bind_call'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/sorbet-runtime-0.5.11094/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:15:in `new'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:15:in `<module:RubyIndexer>'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_indexer/ruby_indexer.rb:14:in `<top (required)>'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/lib/ruby_lsp/internal.rb:19:in `<top (required)>'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom <internal:/Users/ahoyt/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/gems/ruby-lsp-0.12.1/exe/ruby-lsp:89:in `<top (required)>'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby-lsp:25:in `load'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby-lsp:25:in `<main>'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby_executable_hooks:22:in `eval'\r\n\tfrom /Users/ahoyt/.rvm/gems/ruby-3.2.2@caboose/bin/ruby_executable_hooks:22:in `<main>'\r\n[Error - 1:11:25 PM] Server process exited with code 1.\r\n[Error - 1:11:25 PM] Server initialization failed.\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n[Info  - 1:11:25 PM] Connection to server got closed. Server will restart.\r\ntrue\r\n[Error - 1:11:25 PM] Ruby LSP client: couldn't create connection to server.\r\n  Message: Pending response rejected since connection got disposed\r\n  Code: -32097 \r\n```\r\n\r\nI tried:\r\n* restarting VSCode\r\n* disable-reload-enable the extension\n\n### Expected output\n\nFor `vscode-ruby-lsp` to install the new `ruby-lsp` without errors.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1145/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T17:33:15Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32876625994",
        "type": "IssuesEvent",
        "actor": {
            "id": 56600224,
            "login": "thibgn",
            "display_login": "thibgn",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thibgn",
            "avatar_url": "https://avatars.githubusercontent.com/u/56600224?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "reopened",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1141",
                "id": 1961451158,
                "node_id": "I_kwDOG6K31s506V6W",
                "number": 1141,
                "title": "Format on save is not working.",
                "user": {
                    "login": "thibgn",
                    "id": 56600224,
                    "node_id": "MDQ6VXNlcjU2NjAwMjI0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/56600224?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/thibgn",
                    "html_url": "https://github.com/thibgn",
                    "followers_url": "https://api.github.com/users/thibgn/followers",
                    "following_url": "https://api.github.com/users/thibgn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/thibgn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/thibgn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/thibgn/subscriptions",
                    "organizations_url": "https://api.github.com/users/thibgn/orgs",
                    "repos_url": "https://api.github.com/users/thibgn/repos",
                    "events_url": "https://api.github.com/users/thibgn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/thibgn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 6,
                "created_at": "2023-10-25T08:23:54Z",
                "updated_at": "2023-10-26T17:18:26Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Operating System\r\n\r\nMac OS 13.0\r\n\r\n### Ruby version\r\n\r\n3.2.2\r\n\r\n### Project has a bundle\r\n\r\n- [X] Has bundle\r\n\r\n### Ruby version manager being used\r\n\r\nrbenv\r\n\r\n### Description\r\n\r\nI'm having a few issues with Ruby LSP that I can't seem to fix.\r\n\r\nFirst, the indexing is stuck at 0%. \r\nNo matter how long I wait, the settings I use, I never see anything else than `Ruby LSP: indexing files: 0% completed`\r\n\r\nBut the main issue is the **formatting that doesn't work on save** (it _kinda_ works when I format manually, but it only fixes indentation).\r\n\r\nI obviously checked my VSCode configuration and nothing should prevent the format on save (it's working for other languages).\r\n\r\nHere's the relevant settings I use for ruby : \r\n```json\r\n  \"rubyLsp.rubyVersionManager\": \"rbenv\",\r\n  \"[ruby]\": {\r\n\t\"editor.defaultFormatter\": \"Shopify.ruby-lsp\",\r\n\t\"editor.formatOnSave\": true,\r\n\t\"editor.formatOnType\": true,\r\n\t\"editor.tabSize\": 2,\r\n\t\"editor.insertSpaces\": true,\r\n\t\"files.trimTrailingWhitespace\": true,\r\n\t\"files.insertFinalNewline\": true,\r\n\t\"files.trimFinalNewlines\": true,\r\n\t\"editor.rulers\": [120],\r\n\t\"editor.semanticHighlighting.enabled\": true\r\n  },\r\n```\r\n\r\nI noticed I had both `rvm` & `rbenv` installed so I removed rvm and made sure rbenv was [properly configured](https://github.com/rbenv/rbenv#basic-git-checkout).\r\nI also made sure `$SHELL` was available : i'm using `zsh` so its value is `/bin/zsh`\r\n\r\nI also removed everything ruby or rails related in my VScode extensions.\r\n\r\nHere's the logs from Ruby LSP : \r\n```\r\nRuby LSP> Skipping custom bundle setup since /Users/thib/code/myproject/api/.ruby-lsp/Gemfile.lock already exists and is up to date\r\nRuby LSP> Running bundle install for the custom bundle. This may take a while...\r\nThe Gemfile's dependencies are satisfied\r\nStarting Ruby LSP...\r\n```\r\n\r\nAlso, in the Output tab, `Window` is logging the following which may be related ? \r\n\r\n```\r\n2023-10-25 10:01:00.488 [error] [Extension Host] Received response message without id: Error is: \r\n{\r\n    \"code\": -32603,\r\n    \"message\": \"#<NoMethodError: undefined method `dependencies' for nil:NilClass>\",\r\n    \"data\": {\r\n        \"errorClass\": \"NoMethodError\",\r\n        \"errorMessage\": \"undefined method `dependencies' for nil:NilClass\",\r\n        \"backtrace\": \"~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:197:in `block in initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:194:in `initial_excluded_gems'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/configuration.rb:21:in `initialize'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `new'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/ruby_indexer.rb:20:in `configuration'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:248:in `block in collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `downto'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:243:in `collect_comments'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:222:in `add_class_entry'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/visitor.rb:25:in `visit_class_node'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:2876:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:14835:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `block in visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/visitor.rb:23:in `visit_child_nodes'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/prism-0.15.1/lib/prism/node.rb:12985:in `accept'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_indexer/lib/ruby_indexer/index.rb:184:in `index_single'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:198:in `block in did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `each'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:184:in `did_change_watched_files'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `bind_call'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sorbet-runtime-0.5.11090/lib/types/private/methods/_methods.rb:277:in `block in _on_method_added'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:172:in `run'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/executor.rb:26:in `execute'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:135:in `block (2 levels) in new_worker'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `loop'\\n~/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/ruby-lsp-0.12.0/lib/ruby_lsp/server.rb:123:in `block in new_worker'\"\r\n    }\r\n}\r\n```\r\n\r\nThat's about it, let me know if I can provide anything else :)",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1141/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            }
        },
        "public": true,
        "created_at": "2023-10-26T17:18:27Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32875719042",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 18742907,
            "login": "vinistock",
            "display_login": "vinistock",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vinistock",
            "avatar_url": "https://avatars.githubusercontent.com/u/18742907?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1128",
                "id": 1954974629,
                "node_id": "I_kwDOG6K31s50houl",
                "number": 1128,
                "title": "Semantic highlighting marking a class usage as a constant",
                "user": {
                    "login": "dgmora",
                    "id": 3609616,
                    "node_id": "MDQ6VXNlcjM2MDk2MTY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3609616?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dgmora",
                    "html_url": "https://github.com/dgmora",
                    "followers_url": "https://api.github.com/users/dgmora/followers",
                    "following_url": "https://api.github.com/users/dgmora/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dgmora/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dgmora/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dgmora/subscriptions",
                    "organizations_url": "https://api.github.com/users/dgmora/orgs",
                    "repos_url": "https://api.github.com/users/dgmora/repos",
                    "events_url": "https://api.github.com/users/dgmora/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dgmora/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 5756683398,
                        "node_id": "LA_kwDOG6K31s8AAAABVyAEhg",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/pinned",
                        "name": "pinned",
                        "color": "5319e7",
                        "default": false,
                        "description": "This issue or pull request is pinned and won't be marked as stale"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 8,
                "created_at": "2023-10-20T20:29:20Z",
                "updated_at": "2023-10-26T16:42:51Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Ruby version\r\n\r\n3.2.2\r\n\r\n### Code snippet\r\n\r\nThis may not be the most lightweight way to reproduce it, but it's visible.\r\n<details><summary>Dockerfile</summary>\r\n\r\n```Dockerfile\r\n# Use Alpine as the base image\r\nFROM alpine:latest\r\n\r\n# Set the working directory\r\nWORKDIR /root\r\n\r\n# Install necessary packages\r\nRUN apk add --no-cache \\\r\n  git \\\r\n  curl \\\r\n  build-base \\\r\n  zlib-dev \\\r\n  openssl-dev \\\r\n  readline-dev \\\r\n  linux-headers \\\r\n  libffi-dev \\\r\n  cmake \\\r\n  automake \\\r\n  autoconf \\\r\n  libtool \\\r\n  pkgconf \\\r\n  gettext-tiny-dev \\\r\n  ruby \\\r\n  ruby-dev \\\r\n  bash \\\r\n  yaml-dev\r\n\r\n# Clone and build Neovim from source\r\nRUN git clone https://github.com/neovim/neovim.git && \\\r\n  cd neovim && \\\r\n  make CMAKE_BUILD_TYPE=Release && \\\r\n  make install\r\n\r\n# Clone the LazyVim starter repository\r\nRUN git clone https://github.com/LazyVim/starter ~/.config/nvim\r\n\r\n# Copy the content of custom_plugins.lua from an external file\r\nCOPY custom_plugins.lua /root/.config/nvim/lua/plugins/custom_plugins.lua\r\n\r\n# Create example.rb inline\r\nRUN echo -e \"class Foo\\n  def self.bar\\n    Foo.new # `Foo` should be the same color in both lines\\n  end\\nend\" > ~/example.rb\r\n\r\n# Create Gemfile inline\r\nRUN echo \"source 'https://rubygems.org'\" > ~/Gemfile\r\n\r\n# Install bundler and gems specified in the Gemfile\r\nRUN gem install bundler && \\\r\n  bundle install\r\n\r\n# Start Neovim headlessly and install plugins\r\nRUN nvim -es -u ~/.config/nvim/init.lua -i NONE -c \"Lazy\" -c \"qa\"\r\n\r\n# Start a shell when the Docker container is run\r\nCMD [\"sh\"]\r\n```\r\n\r\n</details>\r\n\r\n\r\n\r\n\r\n```lua\r\n-- store this in the same folder of the Dockerfile as `custom_plugins.lua`\r\nreturn {\r\n    {\r\n        \"williamboman/mason.nvim\",\r\n        opts = function(_, opts)\r\n            vim.list_extend(opts.ensure_installed, {\r\n                \"ruby-lsp\",\r\n            })\r\n        end,\r\n    },\r\n    {\r\n        \"neovim/nvim-lspconfig\",\r\n        opts = {\r\n            servers = {\r\n                ruby_ls = {},\r\n            },\r\n        },\r\n    },\r\n}\r\n```\r\n\r\nRun:\r\n```bash\r\ndocker build -t example .\r\ndocker run -ti example\r\n# inside\r\nnvim example.rb\r\n```\r\n\r\nWait a bit and you'll see some notifications like `installing ruby_ls`, `ruby_ls installed`, and some seconds later the server will be started automatically. At that point you'll see the color of the second `Foo` change.\r\n\r\n### Description\r\n\r\nI wanted to replace solargraph with `ruby_ls` with neovim (and LazyVim). When switching I noticed that the highlighting was different. I've noticed that this is most probably because `ruby_ls` semantic highlighting.\r\n\r\nI'm using https://github.com/maxmx03/solarized.nvim with `neo` theme, although I can reproduce it with other themes.\r\nAfter using `:Inspect`, i've noticed the following\r\n\r\n<img width=\"829\" alt=\"Screenshot 2023-10-20 at 20 30 14\" src=\"https://github.com/Shopify/ruby-lsp/assets/3609616/b79efb49-b757-43f6-a236-930295a4bcee\">\r\n\r\n`Foo` here is highlighted as a a namespace / constant, where on declaration it's as a class:\r\n\r\n<img width=\"821\" alt=\"Screenshot 2023-10-20 at 20 36 11\" src=\"https://github.com/Shopify/ruby-lsp/assets/3609616/d1619d05-207d-4c90-b2c4-7de91a13db70\">\r\n\r\n\r\n\r\n### Expected output\r\n\r\nI would expect that in both cases `Foo` is the same color (orange, as a `Type`) ",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781478224",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1128#issuecomment-1781478224",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128",
                "id": 1781478224,
                "node_id": "IC_kwDOG6K31s5qLzNQ",
                "user": {
                    "login": "vinistock",
                    "id": 18742907,
                    "node_id": "MDQ6VXNlcjE4NzQyOTA3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/18742907?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/vinistock",
                    "html_url": "https://github.com/vinistock",
                    "followers_url": "https://api.github.com/users/vinistock/followers",
                    "following_url": "https://api.github.com/users/vinistock/following{/other_user}",
                    "gists_url": "https://api.github.com/users/vinistock/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/vinistock/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/vinistock/subscriptions",
                    "organizations_url": "https://api.github.com/users/vinistock/orgs",
                    "repos_url": "https://api.github.com/users/vinistock/repos",
                    "events_url": "https://api.github.com/users/vinistock/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/vinistock/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T16:42:50Z",
                "updated_at": "2023-10-26T16:42:50Z",
                "author_association": "MEMBER",
                "body": "I don't know of another language where classes, modules and constants are ambiguous. Part of why we need to use the index and resolve references is because there's no way to tell them apart just from syntax in Ruby - it's ambiguous.\r\n\r\nIf you have\r\n\r\n```ruby\r\nFoo::Bar\r\n```\r\nWith that information alone, it's not possible to tell what `Foo` or `Bar` are. Both can be a class, a module or a constant alias to another class/module.\r\n\r\nIf there's another language with the same type of ambiguity, then we can definitely check to see what they are doing.\r\n\r\nI do believe that the right implementation is resolving the references to figure out the right token. We can always benchmark to compare the new implementation with the old and understand how much of an impact it has.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781478224/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T16:42:51Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32872829163",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 14188887,
            "login": "mateusdeap",
            "display_login": "mateusdeap",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mateusdeap",
            "avatar_url": "https://avatars.githubusercontent.com/u/14188887?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1128",
                "id": 1954974629,
                "node_id": "I_kwDOG6K31s50houl",
                "number": 1128,
                "title": "Semantic highlighting marking a class usage as a constant",
                "user": {
                    "login": "dgmora",
                    "id": 3609616,
                    "node_id": "MDQ6VXNlcjM2MDk2MTY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3609616?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dgmora",
                    "html_url": "https://github.com/dgmora",
                    "followers_url": "https://api.github.com/users/dgmora/followers",
                    "following_url": "https://api.github.com/users/dgmora/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dgmora/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dgmora/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dgmora/subscriptions",
                    "organizations_url": "https://api.github.com/users/dgmora/orgs",
                    "repos_url": "https://api.github.com/users/dgmora/repos",
                    "events_url": "https://api.github.com/users/dgmora/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dgmora/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 5756683398,
                        "node_id": "LA_kwDOG6K31s8AAAABVyAEhg",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/pinned",
                        "name": "pinned",
                        "color": "5319e7",
                        "default": false,
                        "description": "This issue or pull request is pinned and won't be marked as stale"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 7,
                "created_at": "2023-10-20T20:29:20Z",
                "updated_at": "2023-10-26T15:03:22Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Ruby version\r\n\r\n3.2.2\r\n\r\n### Code snippet\r\n\r\nThis may not be the most lightweight way to reproduce it, but it's visible.\r\n<details><summary>Dockerfile</summary>\r\n\r\n```Dockerfile\r\n# Use Alpine as the base image\r\nFROM alpine:latest\r\n\r\n# Set the working directory\r\nWORKDIR /root\r\n\r\n# Install necessary packages\r\nRUN apk add --no-cache \\\r\n  git \\\r\n  curl \\\r\n  build-base \\\r\n  zlib-dev \\\r\n  openssl-dev \\\r\n  readline-dev \\\r\n  linux-headers \\\r\n  libffi-dev \\\r\n  cmake \\\r\n  automake \\\r\n  autoconf \\\r\n  libtool \\\r\n  pkgconf \\\r\n  gettext-tiny-dev \\\r\n  ruby \\\r\n  ruby-dev \\\r\n  bash \\\r\n  yaml-dev\r\n\r\n# Clone and build Neovim from source\r\nRUN git clone https://github.com/neovim/neovim.git && \\\r\n  cd neovim && \\\r\n  make CMAKE_BUILD_TYPE=Release && \\\r\n  make install\r\n\r\n# Clone the LazyVim starter repository\r\nRUN git clone https://github.com/LazyVim/starter ~/.config/nvim\r\n\r\n# Copy the content of custom_plugins.lua from an external file\r\nCOPY custom_plugins.lua /root/.config/nvim/lua/plugins/custom_plugins.lua\r\n\r\n# Create example.rb inline\r\nRUN echo -e \"class Foo\\n  def self.bar\\n    Foo.new # `Foo` should be the same color in both lines\\n  end\\nend\" > ~/example.rb\r\n\r\n# Create Gemfile inline\r\nRUN echo \"source 'https://rubygems.org'\" > ~/Gemfile\r\n\r\n# Install bundler and gems specified in the Gemfile\r\nRUN gem install bundler && \\\r\n  bundle install\r\n\r\n# Start Neovim headlessly and install plugins\r\nRUN nvim -es -u ~/.config/nvim/init.lua -i NONE -c \"Lazy\" -c \"qa\"\r\n\r\n# Start a shell when the Docker container is run\r\nCMD [\"sh\"]\r\n```\r\n\r\n</details>\r\n\r\n\r\n\r\n\r\n```lua\r\n-- store this in the same folder of the Dockerfile as `custom_plugins.lua`\r\nreturn {\r\n    {\r\n        \"williamboman/mason.nvim\",\r\n        opts = function(_, opts)\r\n            vim.list_extend(opts.ensure_installed, {\r\n                \"ruby-lsp\",\r\n            })\r\n        end,\r\n    },\r\n    {\r\n        \"neovim/nvim-lspconfig\",\r\n        opts = {\r\n            servers = {\r\n                ruby_ls = {},\r\n            },\r\n        },\r\n    },\r\n}\r\n```\r\n\r\nRun:\r\n```bash\r\ndocker build -t example .\r\ndocker run -ti example\r\n# inside\r\nnvim example.rb\r\n```\r\n\r\nWait a bit and you'll see some notifications like `installing ruby_ls`, `ruby_ls installed`, and some seconds later the server will be started automatically. At that point you'll see the color of the second `Foo` change.\r\n\r\n### Description\r\n\r\nI wanted to replace solargraph with `ruby_ls` with neovim (and LazyVim). When switching I noticed that the highlighting was different. I've noticed that this is most probably because `ruby_ls` semantic highlighting.\r\n\r\nI'm using https://github.com/maxmx03/solarized.nvim with `neo` theme, although I can reproduce it with other themes.\r\nAfter using `:Inspect`, i've noticed the following\r\n\r\n<img width=\"829\" alt=\"Screenshot 2023-10-20 at 20 30 14\" src=\"https://github.com/Shopify/ruby-lsp/assets/3609616/b79efb49-b757-43f6-a236-930295a4bcee\">\r\n\r\n`Foo` here is highlighted as a a namespace / constant, where on declaration it's as a class:\r\n\r\n<img width=\"821\" alt=\"Screenshot 2023-10-20 at 20 36 11\" src=\"https://github.com/Shopify/ruby-lsp/assets/3609616/d1619d05-207d-4c90-b2c4-7de91a13db70\">\r\n\r\n\r\n\r\n### Expected output\r\n\r\nI would expect that in both cases `Foo` is the same color (orange, as a `Type`) ",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781310056",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1128#issuecomment-1781310056",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128",
                "id": 1781310056,
                "node_id": "IC_kwDOG6K31s5qLKJo",
                "user": {
                    "login": "mateusdeap",
                    "id": 14188887,
                    "node_id": "MDQ6VXNlcjE0MTg4ODg3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/14188887?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mateusdeap",
                    "html_url": "https://github.com/mateusdeap",
                    "followers_url": "https://api.github.com/users/mateusdeap/followers",
                    "following_url": "https://api.github.com/users/mateusdeap/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mateusdeap/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mateusdeap/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mateusdeap/subscriptions",
                    "organizations_url": "https://api.github.com/users/mateusdeap/orgs",
                    "repos_url": "https://api.github.com/users/mateusdeap/repos",
                    "events_url": "https://api.github.com/users/mateusdeap/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mateusdeap/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T15:03:22Z",
                "updated_at": "2023-10-26T15:03:22Z",
                "author_association": "CONTRIBUTOR",
                "body": "@vinistock Interesting. I'm still going to try and see where I might take this but I'm wondering: Do you know how other languages do it? I'm not sure, but is Ruby unique in this respect? Because if there's something similar in another language, maybe we can look at their LS implementation, if they have one. If not... well... if it does prove too complex and expensive, maybe semantic highlighting won't be a thing hahaha At least until a solution to the performance issue is found.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781310056/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T15:03:23Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32872723391",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 3609616,
            "login": "dgmora",
            "display_login": "dgmora",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dgmora",
            "avatar_url": "https://avatars.githubusercontent.com/u/3609616?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1128",
                "id": 1954974629,
                "node_id": "I_kwDOG6K31s50houl",
                "number": 1128,
                "title": "Semantic highlighting marking a class usage as a constant",
                "user": {
                    "login": "dgmora",
                    "id": 3609616,
                    "node_id": "MDQ6VXNlcjM2MDk2MTY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3609616?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dgmora",
                    "html_url": "https://github.com/dgmora",
                    "followers_url": "https://api.github.com/users/dgmora/followers",
                    "following_url": "https://api.github.com/users/dgmora/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dgmora/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dgmora/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dgmora/subscriptions",
                    "organizations_url": "https://api.github.com/users/dgmora/orgs",
                    "repos_url": "https://api.github.com/users/dgmora/repos",
                    "events_url": "https://api.github.com/users/dgmora/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dgmora/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 5756683398,
                        "node_id": "LA_kwDOG6K31s8AAAABVyAEhg",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/pinned",
                        "name": "pinned",
                        "color": "5319e7",
                        "default": false,
                        "description": "This issue or pull request is pinned and won't be marked as stale"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 6,
                "created_at": "2023-10-20T20:29:20Z",
                "updated_at": "2023-10-26T15:00:18Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Ruby version\r\n\r\n3.2.2\r\n\r\n### Code snippet\r\n\r\nThis may not be the most lightweight way to reproduce it, but it's visible.\r\n<details><summary>Dockerfile</summary>\r\n\r\n```Dockerfile\r\n# Use Alpine as the base image\r\nFROM alpine:latest\r\n\r\n# Set the working directory\r\nWORKDIR /root\r\n\r\n# Install necessary packages\r\nRUN apk add --no-cache \\\r\n  git \\\r\n  curl \\\r\n  build-base \\\r\n  zlib-dev \\\r\n  openssl-dev \\\r\n  readline-dev \\\r\n  linux-headers \\\r\n  libffi-dev \\\r\n  cmake \\\r\n  automake \\\r\n  autoconf \\\r\n  libtool \\\r\n  pkgconf \\\r\n  gettext-tiny-dev \\\r\n  ruby \\\r\n  ruby-dev \\\r\n  bash \\\r\n  yaml-dev\r\n\r\n# Clone and build Neovim from source\r\nRUN git clone https://github.com/neovim/neovim.git && \\\r\n  cd neovim && \\\r\n  make CMAKE_BUILD_TYPE=Release && \\\r\n  make install\r\n\r\n# Clone the LazyVim starter repository\r\nRUN git clone https://github.com/LazyVim/starter ~/.config/nvim\r\n\r\n# Copy the content of custom_plugins.lua from an external file\r\nCOPY custom_plugins.lua /root/.config/nvim/lua/plugins/custom_plugins.lua\r\n\r\n# Create example.rb inline\r\nRUN echo -e \"class Foo\\n  def self.bar\\n    Foo.new # `Foo` should be the same color in both lines\\n  end\\nend\" > ~/example.rb\r\n\r\n# Create Gemfile inline\r\nRUN echo \"source 'https://rubygems.org'\" > ~/Gemfile\r\n\r\n# Install bundler and gems specified in the Gemfile\r\nRUN gem install bundler && \\\r\n  bundle install\r\n\r\n# Start Neovim headlessly and install plugins\r\nRUN nvim -es -u ~/.config/nvim/init.lua -i NONE -c \"Lazy\" -c \"qa\"\r\n\r\n# Start a shell when the Docker container is run\r\nCMD [\"sh\"]\r\n```\r\n\r\n</details>\r\n\r\n\r\n\r\n\r\n```lua\r\n-- store this in the same folder of the Dockerfile as `custom_plugins.lua`\r\nreturn {\r\n    {\r\n        \"williamboman/mason.nvim\",\r\n        opts = function(_, opts)\r\n            vim.list_extend(opts.ensure_installed, {\r\n                \"ruby-lsp\",\r\n            })\r\n        end,\r\n    },\r\n    {\r\n        \"neovim/nvim-lspconfig\",\r\n        opts = {\r\n            servers = {\r\n                ruby_ls = {},\r\n            },\r\n        },\r\n    },\r\n}\r\n```\r\n\r\nRun:\r\n```bash\r\ndocker build -t example .\r\ndocker run -ti example\r\n# inside\r\nnvim example.rb\r\n```\r\n\r\nWait a bit and you'll see some notifications like `installing ruby_ls`, `ruby_ls installed`, and some seconds later the server will be started automatically. At that point you'll see the color of the second `Foo` change.\r\n\r\n### Description\r\n\r\nI wanted to replace solargraph with `ruby_ls` with neovim (and LazyVim). When switching I noticed that the highlighting was different. I've noticed that this is most probably because `ruby_ls` semantic highlighting.\r\n\r\nI'm using https://github.com/maxmx03/solarized.nvim with `neo` theme, although I can reproduce it with other themes.\r\nAfter using `:Inspect`, i've noticed the following\r\n\r\n<img width=\"829\" alt=\"Screenshot 2023-10-20 at 20 30 14\" src=\"https://github.com/Shopify/ruby-lsp/assets/3609616/b79efb49-b757-43f6-a236-930295a4bcee\">\r\n\r\n`Foo` here is highlighted as a a namespace / constant, where on declaration it's as a class:\r\n\r\n<img width=\"821\" alt=\"Screenshot 2023-10-20 at 20 36 11\" src=\"https://github.com/Shopify/ruby-lsp/assets/3609616/d1619d05-207d-4c90-b2c4-7de91a13db70\">\r\n\r\n\r\n\r\n### Expected output\r\n\r\nI would expect that in both cases `Foo` is the same color (orange, as a `Type`) ",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781304441",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1128#issuecomment-1781304441",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128",
                "id": 1781304441,
                "node_id": "IC_kwDOG6K31s5qLIx5",
                "user": {
                    "login": "dgmora",
                    "id": 3609616,
                    "node_id": "MDQ6VXNlcjM2MDk2MTY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3609616?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dgmora",
                    "html_url": "https://github.com/dgmora",
                    "followers_url": "https://api.github.com/users/dgmora/followers",
                    "following_url": "https://api.github.com/users/dgmora/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dgmora/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dgmora/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dgmora/subscriptions",
                    "organizations_url": "https://api.github.com/users/dgmora/orgs",
                    "repos_url": "https://api.github.com/users/dgmora/repos",
                    "events_url": "https://api.github.com/users/dgmora/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dgmora/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T15:00:17Z",
                "updated_at": "2023-10-26T15:00:17Z",
                "author_association": "NONE",
                "body": "In case someone still wants to use the LSP but turn off the semantic tokens temporally, the server capability `semanticTokensProvider` can be set to `false`. With `nvim`  + `neovim/nvim-lspconfig`:\r\n\r\n```lua\r\n  {\r\n    \"neovim/nvim-lspconfig\",\r\n    opts = {\r\n      servers = {\r\n        ruby_ls = {\r\n          on_attach = function(client, bufnr)\r\n            client.server_capabilities.semanticTokensProvider = false\r\n          end,\r\n        },\r\n      },\r\n    },\r\n  },\r\n```\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781304441/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T15:00:18Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32871322234",
        "type": "PullRequestEvent",
        "actor": {
            "id": 41898282,
            "login": "github-actions[bot]",
            "display_login": "github-actions",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/41898282?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "opened",
            "number": 1144,
            "pull_request": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1144",
                "id": 1574971068,
                "node_id": "PR_kwDOG6K31s5d4Ca8",
                "html_url": "https://github.com/Shopify/ruby-lsp/pull/1144",
                "diff_url": "https://github.com/Shopify/ruby-lsp/pull/1144.diff",
                "patch_url": "https://github.com/Shopify/ruby-lsp/pull/1144.patch",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1144",
                "number": 1144,
                "state": "open",
                "locked": false,
                "title": "Bump version to v0.12.2",
                "user": {
                    "login": "github-actions[bot]",
                    "id": 41898282,
                    "node_id": "MDM6Qm90NDE4OTgyODI=",
                    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
                    "html_url": "https://github.com/apps/github-actions",
                    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "body": null,
                "created_at": "2023-10-26T14:19:02Z",
                "updated_at": "2023-10-26T14:19:03Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "2a50b9158efaa6396bfe86cc344ae4a42bd52345",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [
                    {
                        "login": "st0012",
                        "id": 5079556,
                        "node_id": "MDQ6VXNlcjUwNzk1NTY=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/5079556?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/st0012",
                        "html_url": "https://github.com/st0012",
                        "followers_url": "https://api.github.com/users/st0012/followers",
                        "following_url": "https://api.github.com/users/st0012/following{/other_user}",
                        "gists_url": "https://api.github.com/users/st0012/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/st0012/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/st0012/subscriptions",
                        "organizations_url": "https://api.github.com/users/st0012/orgs",
                        "repos_url": "https://api.github.com/users/st0012/repos",
                        "events_url": "https://api.github.com/users/st0012/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/st0012/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    {
                        "login": "vinistock",
                        "id": 18742907,
                        "node_id": "MDQ6VXNlcjE4NzQyOTA3",
                        "avatar_url": "https://avatars.githubusercontent.com/u/18742907?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/vinistock",
                        "html_url": "https://github.com/vinistock",
                        "followers_url": "https://api.github.com/users/vinistock/followers",
                        "following_url": "https://api.github.com/users/vinistock/following{/other_user}",
                        "gists_url": "https://api.github.com/users/vinistock/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/vinistock/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/vinistock/subscriptions",
                        "organizations_url": "https://api.github.com/users/vinistock/orgs",
                        "repos_url": "https://api.github.com/users/vinistock/repos",
                        "events_url": "https://api.github.com/users/vinistock/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/vinistock/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "requested_teams": [
                    {
                        "name": "ruby-dev-exp",
                        "id": 5870638,
                        "node_id": "T_kwDNH5XOAFmULg",
                        "slug": "ruby-dev-exp",
                        "description": "",
                        "privacy": "closed",
                        "notification_setting": "notifications_enabled",
                        "url": "https://api.github.com/organizations/8085/team/5870638",
                        "html_url": "https://github.com/orgs/Shopify/teams/ruby-dev-exp",
                        "members_url": "https://api.github.com/organizations/8085/team/5870638/members{/member}",
                        "repositories_url": "https://api.github.com/organizations/8085/team/5870638/repos",
                        "permission": "pull",
                        "parent": null
                    }
                ],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1144/commits",
                "review_comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1144/comments",
                "review_comment_url": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1144/comments",
                "statuses_url": "https://api.github.com/repos/Shopify/ruby-lsp/statuses/c7cd92f13d9be008c96191a43dd0a73afc2bb593",
                "head": {
                    "label": "Shopify:automated-bump-version-0.12.2",
                    "ref": "automated-bump-version-0.12.2",
                    "sha": "c7cd92f13d9be008c96191a43dd0a73afc2bb593",
                    "user": {
                        "login": "Shopify",
                        "id": 8085,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjgwODU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/8085?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/Shopify",
                        "html_url": "https://github.com/Shopify",
                        "followers_url": "https://api.github.com/users/Shopify/followers",
                        "following_url": "https://api.github.com/users/Shopify/following{/other_user}",
                        "gists_url": "https://api.github.com/users/Shopify/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/Shopify/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/Shopify/subscriptions",
                        "organizations_url": "https://api.github.com/users/Shopify/orgs",
                        "repos_url": "https://api.github.com/users/Shopify/repos",
                        "events_url": "https://api.github.com/users/Shopify/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/Shopify/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 463648726,
                        "node_id": "R_kgDOG6K31g",
                        "name": "ruby-lsp",
                        "full_name": "Shopify/ruby-lsp",
                        "private": false,
                        "owner": {
                            "login": "Shopify",
                            "id": 8085,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjgwODU=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/8085?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/Shopify",
                            "html_url": "https://github.com/Shopify",
                            "followers_url": "https://api.github.com/users/Shopify/followers",
                            "following_url": "https://api.github.com/users/Shopify/following{/other_user}",
                            "gists_url": "https://api.github.com/users/Shopify/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/Shopify/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/Shopify/subscriptions",
                            "organizations_url": "https://api.github.com/users/Shopify/orgs",
                            "repos_url": "https://api.github.com/users/Shopify/repos",
                            "events_url": "https://api.github.com/users/Shopify/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/Shopify/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/Shopify/ruby-lsp",
                        "description": "An opinionated language server for Ruby",
                        "fork": false,
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp",
                        "forks_url": "https://api.github.com/repos/Shopify/ruby-lsp/forks",
                        "keys_url": "https://api.github.com/repos/Shopify/ruby-lsp/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/Shopify/ruby-lsp/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/Shopify/ruby-lsp/teams",
                        "hooks_url": "https://api.github.com/repos/Shopify/ruby-lsp/hooks",
                        "issue_events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/events",
                        "assignees_url": "https://api.github.com/repos/Shopify/ruby-lsp/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/Shopify/ruby-lsp/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/Shopify/ruby-lsp/tags",
                        "blobs_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/Shopify/ruby-lsp/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/Shopify/ruby-lsp/languages",
                        "stargazers_url": "https://api.github.com/repos/Shopify/ruby-lsp/stargazers",
                        "contributors_url": "https://api.github.com/repos/Shopify/ruby-lsp/contributors",
                        "subscribers_url": "https://api.github.com/repos/Shopify/ruby-lsp/subscribers",
                        "subscription_url": "https://api.github.com/repos/Shopify/ruby-lsp/subscription",
                        "commits_url": "https://api.github.com/repos/Shopify/ruby-lsp/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/Shopify/ruby-lsp/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/Shopify/ruby-lsp/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/Shopify/ruby-lsp/merges",
                        "archive_url": "https://api.github.com/repos/Shopify/ruby-lsp/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/Shopify/ruby-lsp/downloads",
                        "issues_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/Shopify/ruby-lsp/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/Shopify/ruby-lsp/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/Shopify/ruby-lsp/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/labels{/name}",
                        "releases_url": "https://api.github.com/repos/Shopify/ruby-lsp/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/Shopify/ruby-lsp/deployments",
                        "created_at": "2022-02-25T19:13:56Z",
                        "updated_at": "2023-10-26T13:40:00Z",
                        "pushed_at": "2023-10-26T14:19:02Z",
                        "git_url": "git://github.com/Shopify/ruby-lsp.git",
                        "ssh_url": "git@github.com:Shopify/ruby-lsp.git",
                        "clone_url": "https://github.com/Shopify/ruby-lsp.git",
                        "svn_url": "https://github.com/Shopify/ruby-lsp",
                        "homepage": "https://shopify.github.io/ruby-lsp/",
                        "size": 12464,
                        "stargazers_count": 1050,
                        "watchers_count": 1050,
                        "language": "Ruby",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 75,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 56,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "lsp",
                            "ruby"
                        ],
                        "visibility": "public",
                        "forks": 75,
                        "open_issues": 56,
                        "watchers": 1050,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "Shopify:main",
                    "ref": "main",
                    "sha": "6e78c904ab0533106af1522dbbdbcd8a7bacde66",
                    "user": {
                        "login": "Shopify",
                        "id": 8085,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjgwODU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/8085?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/Shopify",
                        "html_url": "https://github.com/Shopify",
                        "followers_url": "https://api.github.com/users/Shopify/followers",
                        "following_url": "https://api.github.com/users/Shopify/following{/other_user}",
                        "gists_url": "https://api.github.com/users/Shopify/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/Shopify/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/Shopify/subscriptions",
                        "organizations_url": "https://api.github.com/users/Shopify/orgs",
                        "repos_url": "https://api.github.com/users/Shopify/repos",
                        "events_url": "https://api.github.com/users/Shopify/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/Shopify/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 463648726,
                        "node_id": "R_kgDOG6K31g",
                        "name": "ruby-lsp",
                        "full_name": "Shopify/ruby-lsp",
                        "private": false,
                        "owner": {
                            "login": "Shopify",
                            "id": 8085,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjgwODU=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/8085?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/Shopify",
                            "html_url": "https://github.com/Shopify",
                            "followers_url": "https://api.github.com/users/Shopify/followers",
                            "following_url": "https://api.github.com/users/Shopify/following{/other_user}",
                            "gists_url": "https://api.github.com/users/Shopify/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/Shopify/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/Shopify/subscriptions",
                            "organizations_url": "https://api.github.com/users/Shopify/orgs",
                            "repos_url": "https://api.github.com/users/Shopify/repos",
                            "events_url": "https://api.github.com/users/Shopify/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/Shopify/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/Shopify/ruby-lsp",
                        "description": "An opinionated language server for Ruby",
                        "fork": false,
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp",
                        "forks_url": "https://api.github.com/repos/Shopify/ruby-lsp/forks",
                        "keys_url": "https://api.github.com/repos/Shopify/ruby-lsp/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/Shopify/ruby-lsp/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/Shopify/ruby-lsp/teams",
                        "hooks_url": "https://api.github.com/repos/Shopify/ruby-lsp/hooks",
                        "issue_events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/events",
                        "assignees_url": "https://api.github.com/repos/Shopify/ruby-lsp/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/Shopify/ruby-lsp/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/Shopify/ruby-lsp/tags",
                        "blobs_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/Shopify/ruby-lsp/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/Shopify/ruby-lsp/languages",
                        "stargazers_url": "https://api.github.com/repos/Shopify/ruby-lsp/stargazers",
                        "contributors_url": "https://api.github.com/repos/Shopify/ruby-lsp/contributors",
                        "subscribers_url": "https://api.github.com/repos/Shopify/ruby-lsp/subscribers",
                        "subscription_url": "https://api.github.com/repos/Shopify/ruby-lsp/subscription",
                        "commits_url": "https://api.github.com/repos/Shopify/ruby-lsp/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/Shopify/ruby-lsp/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/Shopify/ruby-lsp/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/Shopify/ruby-lsp/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/Shopify/ruby-lsp/merges",
                        "archive_url": "https://api.github.com/repos/Shopify/ruby-lsp/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/Shopify/ruby-lsp/downloads",
                        "issues_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/Shopify/ruby-lsp/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/Shopify/ruby-lsp/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/Shopify/ruby-lsp/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/labels{/name}",
                        "releases_url": "https://api.github.com/repos/Shopify/ruby-lsp/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/Shopify/ruby-lsp/deployments",
                        "created_at": "2022-02-25T19:13:56Z",
                        "updated_at": "2023-10-26T13:40:00Z",
                        "pushed_at": "2023-10-26T14:19:02Z",
                        "git_url": "git://github.com/Shopify/ruby-lsp.git",
                        "ssh_url": "git@github.com:Shopify/ruby-lsp.git",
                        "clone_url": "https://github.com/Shopify/ruby-lsp.git",
                        "svn_url": "https://github.com/Shopify/ruby-lsp",
                        "homepage": "https://shopify.github.io/ruby-lsp/",
                        "size": 12464,
                        "stargazers_count": 1050,
                        "watchers_count": 1050,
                        "language": "Ruby",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": false,
                        "forks_count": 75,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 56,
                        "license": {
                            "key": "mit",
                            "name": "MIT License",
                            "spdx_id": "MIT",
                            "url": "https://api.github.com/licenses/mit",
                            "node_id": "MDc6TGljZW5zZTEz"
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "lsp",
                            "ruby"
                        ],
                        "visibility": "public",
                        "forks": 75,
                        "open_issues": 56,
                        "watchers": 1050,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1144"
                    },
                    "html": {
                        "href": "https://github.com/Shopify/ruby-lsp/pull/1144"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1144"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1144/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1144/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/pulls/1144/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/Shopify/ruby-lsp/statuses/c7cd92f13d9be008c96191a43dd0a73afc2bb593"
                    }
                },
                "author_association": "CONTRIBUTOR",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": true,
                "rebaseable": true,
                "mergeable_state": "unstable",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": false,
                "commits": 1,
                "additions": 2,
                "deletions": 2,
                "changed_files": 2
            }
        },
        "public": true,
        "created_at": "2023-10-26T14:19:04Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32871321324",
        "type": "CreateEvent",
        "actor": {
            "id": 41898282,
            "login": "github-actions[bot]",
            "display_login": "github-actions",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/41898282?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "ref": "automated-bump-version-0.12.2",
            "ref_type": "branch",
            "master_branch": "main",
            "description": "An opinionated language server for Ruby",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-26T14:19:03Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32871312214",
        "type": "ReleaseEvent",
        "actor": {
            "id": 41898282,
            "login": "github-actions[bot]",
            "display_login": "github-actions",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/41898282?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "published",
            "release": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/releases/126785903",
                "assets_url": "https://api.github.com/repos/Shopify/ruby-lsp/releases/126785903/assets",
                "upload_url": "https://uploads.github.com/repos/Shopify/ruby-lsp/releases/126785903/assets{?name,label}",
                "html_url": "https://github.com/Shopify/ruby-lsp/releases/tag/v0.12.1",
                "id": 126785903,
                "author": {
                    "login": "github-actions[bot]",
                    "id": 41898282,
                    "node_id": "MDM6Qm90NDE4OTgyODI=",
                    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
                    "html_url": "https://github.com/apps/github-actions",
                    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
                    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
                    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
                    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
                    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
                    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
                    "type": "Bot",
                    "site_admin": false
                },
                "node_id": "RE_kwDOG6K31s4Hjplv",
                "tag_name": "v0.12.1",
                "target_commitish": "main",
                "name": "v0.12.1",
                "draft": false,
                "prerelease": false,
                "created_at": "2023-10-26T14:18:25Z",
                "published_at": "2023-10-26T14:18:47Z",
                "assets": [],
                "tarball_url": "https://api.github.com/repos/Shopify/ruby-lsp/tarball/v0.12.1",
                "zipball_url": "https://api.github.com/repos/Shopify/ruby-lsp/zipball/v0.12.1",
                "body": "<!-- Release notes generated using configuration in .github/release.yml at v0.12.1 -->\n\n## What's Changed\n### \u2728 Enhancements\n* Make the experimental flag install beta versions of the server by @vinistock in https://github.com/Shopify/ruby-lsp/pull/1126\n### \ud83d\udc1b Bug Fixes\n* Defer to Bundler to get gemfile and lockfile names by @vinistock in https://github.com/Shopify/ruby-lsp/pull/1139\n* Eagerly instantiate RubyIndexer::Configuration by @vinistock in https://github.com/Shopify/ruby-lsp/pull/1142\n* Add lib to LOAD_PATH instead of using require_relative by @vinistock in https://github.com/Shopify/ruby-lsp/pull/1140\n### \ud83d\udee0 Other Changes\n* match rubocop diagnostic severities by @maxnotarangelo in https://github.com/Shopify/ruby-lsp/pull/1106\n* Refactor RuboCop diagnostics for better encapsulation by @paracycle in https://github.com/Shopify/ruby-lsp/pull/1123\n* Create custom cop to ensure match between listener and handler by @snutij in https://github.com/Shopify/ruby-lsp/pull/1132\n* Improve performance of computing indexables by @vinistock in https://github.com/Shopify/ruby-lsp/pull/1129\n\n## New Contributors\n* @maxnotarangelo made their first contribution in https://github.com/Shopify/ruby-lsp/pull/1106\n\n**Full Changelog**: https://github.com/Shopify/ruby-lsp/compare/v0.12.0...v0.12.1",
                "mentions_count": 4,
                "mentions": [
                    {
                        "avatar_url": "https://avatars.githubusercontent.com/u/224488?v=4",
                        "login": "paracycle",
                        "profile_name": "Ufuk Kayserilioglu",
                        "profile_url": "https://github.com/paracycle",
                        "avatar_user_actor": true
                    },
                    {
                        "avatar_url": "https://avatars.githubusercontent.com/u/2966419?v=4",
                        "login": "maxnotarangelo",
                        "profile_name": null,
                        "profile_url": "https://github.com/maxnotarangelo",
                        "avatar_user_actor": true
                    },
                    {
                        "avatar_url": "https://avatars.githubusercontent.com/u/18742907?v=4",
                        "login": "vinistock",
                        "profile_name": "Vinicius Stock",
                        "profile_url": "https://github.com/vinistock",
                        "avatar_user_actor": true
                    },
                    {
                        "avatar_url": "https://avatars.githubusercontent.com/u/38727166?v=4",
                        "login": "snutij",
                        "profile_name": "Justin Rabiller",
                        "profile_url": "https://github.com/snutij",
                        "avatar_user_actor": true
                    }
                ],
                "short_description_html": "\n<h2>What's Changed</h2>\n<h3>\u2728 Enhancements</h3>\n<ul>\n<li>Make the experimental flag install beta versions of the server by <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/vinistock/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vinistock\">@vinistock</a> in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1954758593\" data-permission-text=\"Title is private\" data-url=\"https://github.com/Shopify/ruby-lsp/issues/1126\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/Shopify/ruby-lsp/pull/1126/hovercard\" href=\"https://github.com/Shopify/ruby-lsp/pull/1126\">#1126</a>\n</li>\n</ul>\n<h3>\ud83d\udc1b Bug Fixes</h3>\n<ul>\n<li>Defer to Bundler to get gemfile and lockfile names by <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/vinistock/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vinistock\">@vinistock</a> in </li>\n</ul>",
                "is_short_description_html_truncated": true
            }
        },
        "public": true,
        "created_at": "2023-10-26T14:18:47Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32871303426",
        "type": "PushEvent",
        "actor": {
            "id": 38352116,
            "login": "shopify-shipit[bot]",
            "display_login": "shopify-shipit",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shopify-shipit[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/38352116?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "repository_id": 463648726,
            "push_id": 15578006903,
            "size": 19,
            "distinct_size": 0,
            "ref": "refs/heads/shipit-deploy/production",
            "head": "6e78c904ab0533106af1522dbbdbcd8a7bacde66",
            "before": "e2aa0938587a14ec556d2154178a8ecd244ffb1a",
            "commits": [
                {
                    "sha": "51593f4aea9bb558b33cfbbb60a63c093b0acb73",
                    "author": {
                        "email": "maxnote1@gmail.com",
                        "name": "maxnotarangelo"
                    },
                    "message": "match rubocop diagnostic severities (#1106)\n\nMatched the severities from `lib/rubocop/lsp/severity.rb`, except for leaving `refactor` at the `INFORMATION` severity level, `refactor` violations will return a non-zero exit code/cause CI to fail.",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/51593f4aea9bb558b33cfbbb60a63c093b0acb73"
                },
                {
                    "sha": "8e1bc9ea4e4d852c4ed0eabd65e587a1908a6edd",
                    "author": {
                        "email": "ufuk.kayserilioglu@shopify.com",
                        "name": "Ufuk Kayserilioglu"
                    },
                    "message": "Refactor RuboCop diagnostics for better encapsulation\n\nThe code description addition for RuboCop diagnostics has added a cop lookup to the diagnostics runner, but I feel like that was an abstraction added at the wrong layer.\n\nWhat we really want to cache is the registry as a hash lookup but we want to do that as late as possible to ensure that we have loaded the full registry. For that reason, I moved the actual cop lookup by cop name to the RuboCop runner class as a class method, which uses a memoized registry hash under the hood.\n\nThis way, we can keep the code of the RuboCop diagnostics class clean and with less conditional code.\n\nI've also taken the liberty to extract other calculation logic from inside the `to_lsp_diagnostic` method to separate methods, to make the intent more clear.",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/8e1bc9ea4e4d852c4ed0eabd65e587a1908a6edd"
                },
                {
                    "sha": "7659d83517921912a04301c73817b095b9f89859",
                    "author": {
                        "email": "vinistock@users.noreply.github.com",
                        "name": "Vinicius Stock"
                    },
                    "message": "Add missing quotes to bump version action (#1124)",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/7659d83517921912a04301c73817b095b9f89859"
                },
                {
                    "sha": "3ba35a5b25b2ade35c446a184d7906b68d1247b4",
                    "author": {
                        "email": "ufuk.kayserilioglu@shopify.com",
                        "name": "Ufuk Kayserilioglu"
                    },
                    "message": "Merge pull request #1123 from Shopify/uk-add-rubocop-code-description\n\nRefactor RuboCop diagnostics for better encapsulation",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/3ba35a5b25b2ade35c446a184d7906b68d1247b4"
                },
                {
                    "sha": "08a539d049aa331cbbbe6c2579763ba12bc337c8",
                    "author": {
                        "email": "49699333+dependabot[bot]@users.noreply.github.com",
                        "name": "dependabot[bot]"
                    },
                    "message": "Bump test/fixtures/prism from `7935597` to `bffb5c4`\n\nBumps [test/fixtures/prism](https://github.com/ruby/prism) from `7935597` to `bffb5c4`.\n- [Release notes](https://github.com/ruby/prism/releases)\n- [Commits](https://github.com/ruby/prism/compare/7935597000270f777aa99aec147f428c869515d3...bffb5c40cb1d93f1b94cd37634227da007371109)\n\n---\nupdated-dependencies:\n- dependency-name: test/fixtures/prism\n  dependency-type: direct:production\n...\n\nSigned-off-by: dependabot[bot] <support@github.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/08a539d049aa331cbbbe6c2579763ba12bc337c8"
                },
                {
                    "sha": "a6c6867736cdb33d4ec7012afc2524e1d07ad661",
                    "author": {
                        "email": "41898282+github-actions[bot]@users.noreply.github.com",
                        "name": "github-actions[bot]"
                    },
                    "message": "Merge pull request #1134 from Shopify/dependabot/submodules/test/fixtures/prism-bffb5c4\n\nBump test/fixtures/prism from `7935597` to `bffb5c4`",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/a6c6867736cdb33d4ec7012afc2524e1d07ad661"
                },
                {
                    "sha": "a65b694c84dbbb0569da26d6f26002b5e1b5fdbf",
                    "author": {
                        "email": "49699333+dependabot[bot]@users.noreply.github.com",
                        "name": "dependabot[bot]"
                    },
                    "message": "Bump psych from 5.1.1 to 5.1.1.1\n\nBumps [psych](https://github.com/ruby/psych) from 5.1.1 to 5.1.1.1.\n- [Release notes](https://github.com/ruby/psych/releases)\n- [Commits](https://github.com/ruby/psych/compare/v5.1.1...v5.1.1.1)\n\n---\nupdated-dependencies:\n- dependency-name: psych\n  dependency-type: direct:development\n  update-type: version-update:semver-patch\n...\n\nSigned-off-by: dependabot[bot] <support@github.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/a65b694c84dbbb0569da26d6f26002b5e1b5fdbf"
                },
                {
                    "sha": "c92623bdbfc80e14b1a187d362460a6d2636c4d7",
                    "author": {
                        "email": "github-actions@github.com",
                        "name": "github-actions"
                    },
                    "message": "Update RBI files for gems 2023-10-23 [dependabot skip]",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/c92623bdbfc80e14b1a187d362460a6d2636c4d7"
                },
                {
                    "sha": "38043dae06eeddb80fcbf787afdb2c2713465aa2",
                    "author": {
                        "email": "41898282+github-actions[bot]@users.noreply.github.com",
                        "name": "github-actions[bot]"
                    },
                    "message": "Merge pull request #1136 from Shopify/dependabot/bundler/psych-5.1.1.1\n\nBump psych from 5.1.1 to 5.1.1.1",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/38043dae06eeddb80fcbf787afdb2c2713465aa2"
                },
                {
                    "sha": "6d91adccd6b65698bc50d54796eff286724401c1",
                    "author": {
                        "email": "49699333+dependabot[bot]@users.noreply.github.com",
                        "name": "dependabot[bot]"
                    },
                    "message": "Bump the minor-and-patch group with 2 updates\n\nBumps the minor-and-patch group with 2 updates: [rubocop-minitest](https://github.com/rubocop/rubocop-minitest) and [sorbet-static-and-runtime](https://github.com/sorbet/sorbet).\n\n\nUpdates `rubocop-minitest` from 0.32.2 to 0.33.0\n- [Release notes](https://github.com/rubocop/rubocop-minitest/releases)\n- [Changelog](https://github.com/rubocop/rubocop-minitest/blob/master/CHANGELOG.md)\n- [Commits](https://github.com/rubocop/rubocop-minitest/compare/v0.32.2...v0.33.0)\n\nUpdates `sorbet-static-and-runtime` from 0.5.11074 to 0.5.11089\n- [Release notes](https://github.com/sorbet/sorbet/releases)\n- [Commits](https://github.com/sorbet/sorbet/commits)\n\n---\nupdated-dependencies:\n- dependency-name: rubocop-minitest\n  dependency-type: direct:development\n  update-type: version-update:semver-minor\n  dependency-group: minor-and-patch\n- dependency-name: sorbet-static-and-runtime\n  dependency-type: direct:development\n  update-type: version-update:semver-patch\n  dependency-group: minor-and-patch\n...\n\nSigned-off-by: dependabot[bot] <support@github.com>",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/6d91adccd6b65698bc50d54796eff286724401c1"
                },
                {
                    "sha": "d48917df2a515574d905c26610f92ff9a56a69a6",
                    "author": {
                        "email": "github-actions@github.com",
                        "name": "github-actions"
                    },
                    "message": "Update RBI files for gems 2023-10-23 [dependabot skip]",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/d48917df2a515574d905c26610f92ff9a56a69a6"
                },
                {
                    "sha": "5fe563ba39b996487ac6d659090d5e39d59673c5",
                    "author": {
                        "email": "41898282+github-actions[bot]@users.noreply.github.com",
                        "name": "github-actions[bot]"
                    },
                    "message": "Merge pull request #1135 from Shopify/dependabot/bundler/minor-and-patch-dde59c33f7\n\nBump the minor-and-patch group with 2 updates",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/5fe563ba39b996487ac6d659090d5e39d59673c5"
                },
                {
                    "sha": "6bf97fb91029753f2173a4490a84ec81e81026aa",
                    "author": {
                        "email": "38727166+snutij@users.noreply.github.com",
                        "name": "Justin Rabiller"
                    },
                    "message": "Create custom cop to ensure match between listener and handler (#1132)\n\n* feat: add custom cop\r\n\r\n* test: cover cop with tests\r\n\r\n* clean: type and useless require",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/6bf97fb91029753f2173a4490a84ec81e81026aa"
                },
                {
                    "sha": "604fe8a39d361cf57a83405afc2bcb6a8dbe46f3",
                    "author": {
                        "email": "vinistock@users.noreply.github.com",
                        "name": "Vinicius Stock"
                    },
                    "message": "Defer to Bundler to get gemfile and lockfile names (#1139)",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/604fe8a39d361cf57a83405afc2bcb6a8dbe46f3"
                },
                {
                    "sha": "0671289e8beacd20365a5d1ea9cbf5c8927c7308",
                    "author": {
                        "email": "vinistock@users.noreply.github.com",
                        "name": "Vinicius Stock"
                    },
                    "message": "Make the experimental flag install beta versions of the server (#1126)\n\nMake --experimental flag install prerelease versions of the LSP",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/0671289e8beacd20365a5d1ea9cbf5c8927c7308"
                },
                {
                    "sha": "c2875f44decaf2f81dd4f286ac1c1e4ca640c2aa",
                    "author": {
                        "email": "vinistock@users.noreply.github.com",
                        "name": "Vinicius Stock"
                    },
                    "message": "Eagerly instantiate RubyIndexer::Configuration (#1142)",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/c2875f44decaf2f81dd4f286ac1c1e4ca640c2aa"
                },
                {
                    "sha": "4e80438ebac71be1a5cbffa487e47eed2a4bc65e",
                    "author": {
                        "email": "vinistock@users.noreply.github.com",
                        "name": "Vinicius Stock"
                    },
                    "message": "Improve performance of computing indexables (#1129)\n\n* Avoid searching LOAD_PATH for entries that are related to the same pattern\r\n\r\n* Avoid using Pathname#relative_path_from when instantiating indexable paths",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/4e80438ebac71be1a5cbffa487e47eed2a4bc65e"
                },
                {
                    "sha": "943f76ecc69ecf0032555c43dd4773e0bed89db5",
                    "author": {
                        "email": "vinistock@users.noreply.github.com",
                        "name": "Vinicius Stock"
                    },
                    "message": "Add lib to LOAD_PATH instead of using require_relative (#1140)",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/943f76ecc69ecf0032555c43dd4773e0bed89db5"
                },
                {
                    "sha": "6e78c904ab0533106af1522dbbdbcd8a7bacde66",
                    "author": {
                        "email": "vinicius.stock@shopify.com",
                        "name": "Vinicius Stock"
                    },
                    "message": "Bump version to v0.12.1",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/6e78c904ab0533106af1522dbbdbcd8a7bacde66"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T14:18:32Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32871303052",
        "type": "CreateEvent",
        "actor": {
            "id": 38352116,
            "login": "shopify-shipit[bot]",
            "display_login": "shopify-shipit",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shopify-shipit[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/38352116?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "ref": "v0.12.1",
            "ref_type": "tag",
            "master_branch": "main",
            "description": "An opinionated language server for Ruby",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-26T14:18:32Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32870813802",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 18742907,
            "login": "vinistock",
            "display_login": "vinistock",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vinistock",
            "avatar_url": "https://avatars.githubusercontent.com/u/18742907?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1138",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1138/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1138/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1138/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1138",
                "id": 1956593984,
                "node_id": "I_kwDOG6K31s50n0FA",
                "number": 1138,
                "title": "Keep the environment clean with projects using Docker",
                "user": {
                    "login": "k-neo",
                    "id": 2819754,
                    "node_id": "MDQ6VXNlcjI4MTk3NTQ=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2819754?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/k-neo",
                    "html_url": "https://github.com/k-neo",
                    "followers_url": "https://api.github.com/users/k-neo/followers",
                    "following_url": "https://api.github.com/users/k-neo/following{/other_user}",
                    "gists_url": "https://api.github.com/users/k-neo/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/k-neo/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/k-neo/subscriptions",
                    "organizations_url": "https://api.github.com/users/k-neo/orgs",
                    "repos_url": "https://api.github.com/users/k-neo/repos",
                    "events_url": "https://api.github.com/users/k-neo/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/k-neo/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709143,
                        "node_id": "LA_kwDOG6K31s7mxZfX",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/enhancement",
                        "name": "enhancement",
                        "color": "a2eeef",
                        "default": true,
                        "description": "New feature or request"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2023-10-23T08:08:04Z",
                "updated_at": "2023-10-26T14:04:24Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### I have checked that this feature is not already implemented\n\n- [X] This feature does not exist\n\n### Use case\n\nI'm trying to use this in a Docker environment. I understand that Ruby-lsp utilizes Gemfile to create an environment.\r\nHowever, I am having trouble with the Gemfile.lock used by Docker being changed.\r\n\r\nI want to change only `.ruby-lsp/Gemfile.lock` and not change `./Gemfile.lock` directly under the project.\n\n### Description\n\nFor example, the following changes are made to Gemfile.lock.\r\n\r\n```\r\n    nokogiri (1.14.3-aarch64-linux)\r\n      racc (~> 1.4)\r\n    nokogiri (1.14.3-arm64-darwin)\r\n      racc (~> 1.4)\r\n```\n\n### Implementation\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1138/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1138/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781199154",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1138#issuecomment-1781199154",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1138",
                "id": 1781199154,
                "node_id": "IC_kwDOG6K31s5qKvEy",
                "user": {
                    "login": "vinistock",
                    "id": 18742907,
                    "node_id": "MDQ6VXNlcjE4NzQyOTA3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/18742907?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/vinistock",
                    "html_url": "https://github.com/vinistock",
                    "followers_url": "https://api.github.com/users/vinistock/followers",
                    "following_url": "https://api.github.com/users/vinistock/following{/other_user}",
                    "gists_url": "https://api.github.com/users/vinistock/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/vinistock/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/vinistock/subscriptions",
                    "organizations_url": "https://api.github.com/users/vinistock/orgs",
                    "repos_url": "https://api.github.com/users/vinistock/repos",
                    "events_url": "https://api.github.com/users/vinistock/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/vinistock/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T14:04:24Z",
                "updated_at": "2023-10-26T14:04:24Z",
                "author_association": "MEMBER",
                "body": "We include the top level Gemfile so that we know the dependencies of the project. That allows us to automatically index the correct versions of gems used by the project and to identify which formatter the project uses.\r\n\r\nAs far as I understand it, it's `BUNDLE_GEMFILE` that dictates which gemfile and lockfile will be considered by Bundler. Evaluating the top level gemfile should not result in top level lockfile changes.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781199154/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T14:04:25Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32870673627",
        "type": "PushEvent",
        "actor": {
            "id": 41898282,
            "login": "github-actions[bot]",
            "display_login": "github-actions",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions[bot]",
            "avatar_url": "https://avatars.githubusercontent.com/u/41898282?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "repository_id": 463648726,
            "push_id": 15577701523,
            "size": 2,
            "distinct_size": 1,
            "ref": "refs/heads/gh-pages",
            "head": "e6d8632dc9e3c03052596d5a380cd054387cfc6e",
            "before": "84c2a05e6c65c518513e60bfd4bc0a35aba679ed",
            "commits": [
                {
                    "sha": "6e78c904ab0533106af1522dbbdbcd8a7bacde66",
                    "author": {
                        "email": "vinicius.stock@shopify.com",
                        "name": "Vinicius Stock"
                    },
                    "message": "Bump version to v0.12.1",
                    "distinct": false,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/6e78c904ab0533106af1522dbbdbcd8a7bacde66"
                },
                {
                    "sha": "e6d8632dc9e3c03052596d5a380cd054387cfc6e",
                    "author": {
                        "email": "github-actions@github.com",
                        "name": "github-actions"
                    },
                    "message": "Publish website 6e78c90",
                    "distinct": true,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/e6d8632dc9e3c03052596d5a380cd054387cfc6e"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T14:00:21Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32870582065",
        "type": "PushEvent",
        "actor": {
            "id": 18742907,
            "login": "vinistock",
            "display_login": "vinistock",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vinistock",
            "avatar_url": "https://avatars.githubusercontent.com/u/18742907?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "repository_id": 463648726,
            "push_id": 15577658859,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/main",
            "head": "6e78c904ab0533106af1522dbbdbcd8a7bacde66",
            "before": "943f76ecc69ecf0032555c43dd4773e0bed89db5",
            "commits": [
                {
                    "sha": "6e78c904ab0533106af1522dbbdbcd8a7bacde66",
                    "author": {
                        "email": "vinicius.stock@shopify.com",
                        "name": "Vinicius Stock"
                    },
                    "message": "Bump version to v0.12.1",
                    "distinct": true,
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/commits/6e78c904ab0533106af1522dbbdbcd8a7bacde66"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T13:57:44Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32870383618",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 18742907,
            "login": "vinistock",
            "display_login": "vinistock",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vinistock",
            "avatar_url": "https://avatars.githubusercontent.com/u/18742907?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128",
                "repository_url": "https://api.github.com/repos/Shopify/ruby-lsp",
                "labels_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/labels{/name}",
                "comments_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/comments",
                "events_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/events",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1128",
                "id": 1954974629,
                "node_id": "I_kwDOG6K31s50houl",
                "number": 1128,
                "title": "Semantic highlighting marking a class usage as a constant",
                "user": {
                    "login": "dgmora",
                    "id": 3609616,
                    "node_id": "MDQ6VXNlcjM2MDk2MTY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3609616?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dgmora",
                    "html_url": "https://github.com/dgmora",
                    "followers_url": "https://api.github.com/users/dgmora/followers",
                    "following_url": "https://api.github.com/users/dgmora/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dgmora/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dgmora/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dgmora/subscriptions",
                    "organizations_url": "https://api.github.com/users/dgmora/orgs",
                    "repos_url": "https://api.github.com/users/dgmora/repos",
                    "events_url": "https://api.github.com/users/dgmora/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dgmora/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 3871709135,
                        "node_id": "LA_kwDOG6K31s7mxZfP",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 5756683398,
                        "node_id": "LA_kwDOG6K31s8AAAABVyAEhg",
                        "url": "https://api.github.com/repos/Shopify/ruby-lsp/labels/pinned",
                        "name": "pinned",
                        "color": "5319e7",
                        "default": false,
                        "description": "This issue or pull request is pinned and won't be marked as stale"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2023-10-20T20:29:20Z",
                "updated_at": "2023-10-26T13:51:59Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Ruby version\r\n\r\n3.2.2\r\n\r\n### Code snippet\r\n\r\nThis may not be the most lightweight way to reproduce it, but it's visible.\r\n<details><summary>Dockerfile</summary>\r\n\r\n```Dockerfile\r\n# Use Alpine as the base image\r\nFROM alpine:latest\r\n\r\n# Set the working directory\r\nWORKDIR /root\r\n\r\n# Install necessary packages\r\nRUN apk add --no-cache \\\r\n  git \\\r\n  curl \\\r\n  build-base \\\r\n  zlib-dev \\\r\n  openssl-dev \\\r\n  readline-dev \\\r\n  linux-headers \\\r\n  libffi-dev \\\r\n  cmake \\\r\n  automake \\\r\n  autoconf \\\r\n  libtool \\\r\n  pkgconf \\\r\n  gettext-tiny-dev \\\r\n  ruby \\\r\n  ruby-dev \\\r\n  bash \\\r\n  yaml-dev\r\n\r\n# Clone and build Neovim from source\r\nRUN git clone https://github.com/neovim/neovim.git && \\\r\n  cd neovim && \\\r\n  make CMAKE_BUILD_TYPE=Release && \\\r\n  make install\r\n\r\n# Clone the LazyVim starter repository\r\nRUN git clone https://github.com/LazyVim/starter ~/.config/nvim\r\n\r\n# Copy the content of custom_plugins.lua from an external file\r\nCOPY custom_plugins.lua /root/.config/nvim/lua/plugins/custom_plugins.lua\r\n\r\n# Create example.rb inline\r\nRUN echo -e \"class Foo\\n  def self.bar\\n    Foo.new # `Foo` should be the same color in both lines\\n  end\\nend\" > ~/example.rb\r\n\r\n# Create Gemfile inline\r\nRUN echo \"source 'https://rubygems.org'\" > ~/Gemfile\r\n\r\n# Install bundler and gems specified in the Gemfile\r\nRUN gem install bundler && \\\r\n  bundle install\r\n\r\n# Start Neovim headlessly and install plugins\r\nRUN nvim -es -u ~/.config/nvim/init.lua -i NONE -c \"Lazy\" -c \"qa\"\r\n\r\n# Start a shell when the Docker container is run\r\nCMD [\"sh\"]\r\n```\r\n\r\n</details>\r\n\r\n\r\n\r\n\r\n```lua\r\n-- store this in the same folder of the Dockerfile as `custom_plugins.lua`\r\nreturn {\r\n    {\r\n        \"williamboman/mason.nvim\",\r\n        opts = function(_, opts)\r\n            vim.list_extend(opts.ensure_installed, {\r\n                \"ruby-lsp\",\r\n            })\r\n        end,\r\n    },\r\n    {\r\n        \"neovim/nvim-lspconfig\",\r\n        opts = {\r\n            servers = {\r\n                ruby_ls = {},\r\n            },\r\n        },\r\n    },\r\n}\r\n```\r\n\r\nRun:\r\n```bash\r\ndocker build -t example .\r\ndocker run -ti example\r\n# inside\r\nnvim example.rb\r\n```\r\n\r\nWait a bit and you'll see some notifications like `installing ruby_ls`, `ruby_ls installed`, and some seconds later the server will be started automatically. At that point you'll see the color of the second `Foo` change.\r\n\r\n### Description\r\n\r\nI wanted to replace solargraph with `ruby_ls` with neovim (and LazyVim). When switching I noticed that the highlighting was different. I've noticed that this is most probably because `ruby_ls` semantic highlighting.\r\n\r\nI'm using https://github.com/maxmx03/solarized.nvim with `neo` theme, although I can reproduce it with other themes.\r\nAfter using `:Inspect`, i've noticed the following\r\n\r\n<img width=\"829\" alt=\"Screenshot 2023-10-20 at 20 30 14\" src=\"https://github.com/Shopify/ruby-lsp/assets/3609616/b79efb49-b757-43f6-a236-930295a4bcee\">\r\n\r\n`Foo` here is highlighted as a a namespace / constant, where on declaration it's as a class:\r\n\r\n<img width=\"821\" alt=\"Screenshot 2023-10-20 at 20 36 11\" src=\"https://github.com/Shopify/ruby-lsp/assets/3609616/d1619d05-207d-4c90-b2c4-7de91a13db70\">\r\n\r\n\r\n\r\n### Expected output\r\n\r\nI would expect that in both cases `Foo` is the same color (orange, as a `Type`) ",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781172665",
                "html_url": "https://github.com/Shopify/ruby-lsp/issues/1128#issuecomment-1781172665",
                "issue_url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/1128",
                "id": 1781172665,
                "node_id": "IC_kwDOG6K31s5qKom5",
                "user": {
                    "login": "vinistock",
                    "id": 18742907,
                    "node_id": "MDQ6VXNlcjE4NzQyOTA3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/18742907?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/vinistock",
                    "html_url": "https://github.com/vinistock",
                    "followers_url": "https://api.github.com/users/vinistock/followers",
                    "following_url": "https://api.github.com/users/vinistock/following{/other_user}",
                    "gists_url": "https://api.github.com/users/vinistock/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/vinistock/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/vinistock/subscriptions",
                    "organizations_url": "https://api.github.com/users/vinistock/orgs",
                    "repos_url": "https://api.github.com/users/vinistock/repos",
                    "events_url": "https://api.github.com/users/vinistock/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/vinistock/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T13:51:58Z",
                "updated_at": "2023-10-26T13:51:58Z",
                "author_association": "MEMBER",
                "body": "Yes, the index has all of that information about declarations, but that doesn't remove the need for resolution. Take this example:\r\n\r\n```ruby\r\nclass Baz; end\r\n\r\nmodule Foo\r\n  class Baz; end\r\n\r\n  module Bar\r\n    class Baz; end\r\n\r\n    Baz\r\n  end\r\nend\r\n```\r\nIn this `Baz` reference, you need to figure out if it refers to `Foo::Bar::Baz`, `Foo::Baz` or just `Baz`. It's not enough to just look at the nesting directly, you always need to fully resolve the name first.\r\n\r\nIt gets even more complicated if you have aliases to modules/classes. For example\r\n\r\n```ruby\r\nmodule Foo\r\n  class Bar; end\r\nend\r\n\r\nCONST = Foo\r\n\r\nmodule Baz\r\n  CONST::Bar\r\nend\r\n```\r\n\r\nIn that case, `CONST::Bar` refers to `Foo::Bar`. But it could also refer to `Baz::CONST::Bar` or even `Baz::Foo::Bar`. Part of the resolution is following aliased namespaces.\r\n\r\nAnd that's why it might become too expensive given that semantic highlighting runs on every keypress.",
                "reactions": {
                    "url": "https://api.github.com/repos/Shopify/ruby-lsp/issues/comments/1781172665/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T13:51:59Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    },
    {
        "id": "32870208919",
        "type": "ForkEvent",
        "actor": {
            "id": 37348392,
            "login": "neonaddict",
            "display_login": "neonaddict",
            "gravatar_id": "",
            "url": "https://api.github.com/users/neonaddict",
            "avatar_url": "https://avatars.githubusercontent.com/u/37348392?"
        },
        "repo": {
            "id": 463648726,
            "name": "Shopify/ruby-lsp",
            "url": "https://api.github.com/repos/Shopify/ruby-lsp"
        },
        "payload": {
            "forkee": {
                "id": 710335930,
                "node_id": "R_kgDOKlbdug",
                "name": "ruby-lsp",
                "full_name": "neonaddict/ruby-lsp",
                "private": false,
                "owner": {
                    "login": "neonaddict",
                    "id": 37348392,
                    "node_id": "MDQ6VXNlcjM3MzQ4Mzky",
                    "avatar_url": "https://avatars.githubusercontent.com/u/37348392?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/neonaddict",
                    "html_url": "https://github.com/neonaddict",
                    "followers_url": "https://api.github.com/users/neonaddict/followers",
                    "following_url": "https://api.github.com/users/neonaddict/following{/other_user}",
                    "gists_url": "https://api.github.com/users/neonaddict/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/neonaddict/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/neonaddict/subscriptions",
                    "organizations_url": "https://api.github.com/users/neonaddict/orgs",
                    "repos_url": "https://api.github.com/users/neonaddict/repos",
                    "events_url": "https://api.github.com/users/neonaddict/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/neonaddict/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "html_url": "https://github.com/neonaddict/ruby-lsp",
                "description": "An opinionated language server for Ruby",
                "fork": true,
                "url": "https://api.github.com/repos/neonaddict/ruby-lsp",
                "forks_url": "https://api.github.com/repos/neonaddict/ruby-lsp/forks",
                "keys_url": "https://api.github.com/repos/neonaddict/ruby-lsp/keys{/key_id}",
                "collaborators_url": "https://api.github.com/repos/neonaddict/ruby-lsp/collaborators{/collaborator}",
                "teams_url": "https://api.github.com/repos/neonaddict/ruby-lsp/teams",
                "hooks_url": "https://api.github.com/repos/neonaddict/ruby-lsp/hooks",
                "issue_events_url": "https://api.github.com/repos/neonaddict/ruby-lsp/issues/events{/number}",
                "events_url": "https://api.github.com/repos/neonaddict/ruby-lsp/events",
                "assignees_url": "https://api.github.com/repos/neonaddict/ruby-lsp/assignees{/user}",
                "branches_url": "https://api.github.com/repos/neonaddict/ruby-lsp/branches{/branch}",
                "tags_url": "https://api.github.com/repos/neonaddict/ruby-lsp/tags",
                "blobs_url": "https://api.github.com/repos/neonaddict/ruby-lsp/git/blobs{/sha}",
                "git_tags_url": "https://api.github.com/repos/neonaddict/ruby-lsp/git/tags{/sha}",
                "git_refs_url": "https://api.github.com/repos/neonaddict/ruby-lsp/git/refs{/sha}",
                "trees_url": "https://api.github.com/repos/neonaddict/ruby-lsp/git/trees{/sha}",
                "statuses_url": "https://api.github.com/repos/neonaddict/ruby-lsp/statuses/{sha}",
                "languages_url": "https://api.github.com/repos/neonaddict/ruby-lsp/languages",
                "stargazers_url": "https://api.github.com/repos/neonaddict/ruby-lsp/stargazers",
                "contributors_url": "https://api.github.com/repos/neonaddict/ruby-lsp/contributors",
                "subscribers_url": "https://api.github.com/repos/neonaddict/ruby-lsp/subscribers",
                "subscription_url": "https://api.github.com/repos/neonaddict/ruby-lsp/subscription",
                "commits_url": "https://api.github.com/repos/neonaddict/ruby-lsp/commits{/sha}",
                "git_commits_url": "https://api.github.com/repos/neonaddict/ruby-lsp/git/commits{/sha}",
                "comments_url": "https://api.github.com/repos/neonaddict/ruby-lsp/comments{/number}",
                "issue_comment_url": "https://api.github.com/repos/neonaddict/ruby-lsp/issues/comments{/number}",
                "contents_url": "https://api.github.com/repos/neonaddict/ruby-lsp/contents/{+path}",
                "compare_url": "https://api.github.com/repos/neonaddict/ruby-lsp/compare/{base}...{head}",
                "merges_url": "https://api.github.com/repos/neonaddict/ruby-lsp/merges",
                "archive_url": "https://api.github.com/repos/neonaddict/ruby-lsp/{archive_format}{/ref}",
                "downloads_url": "https://api.github.com/repos/neonaddict/ruby-lsp/downloads",
                "issues_url": "https://api.github.com/repos/neonaddict/ruby-lsp/issues{/number}",
                "pulls_url": "https://api.github.com/repos/neonaddict/ruby-lsp/pulls{/number}",
                "milestones_url": "https://api.github.com/repos/neonaddict/ruby-lsp/milestones{/number}",
                "notifications_url": "https://api.github.com/repos/neonaddict/ruby-lsp/notifications{?since,all,participating}",
                "labels_url": "https://api.github.com/repos/neonaddict/ruby-lsp/labels{/name}",
                "releases_url": "https://api.github.com/repos/neonaddict/ruby-lsp/releases{/id}",
                "deployments_url": "https://api.github.com/repos/neonaddict/ruby-lsp/deployments",
                "created_at": "2023-10-26T13:46:50Z",
                "updated_at": "2023-10-26T13:46:50Z",
                "pushed_at": "2023-10-26T13:46:41Z",
                "git_url": "git://github.com/neonaddict/ruby-lsp.git",
                "ssh_url": "git@github.com:neonaddict/ruby-lsp.git",
                "clone_url": "https://github.com/neonaddict/ruby-lsp.git",
                "svn_url": "https://github.com/neonaddict/ruby-lsp",
                "homepage": "https://shopify.github.io/ruby-lsp/",
                "size": 12464,
                "stargazers_count": 0,
                "watchers_count": 0,
                "language": null,
                "has_issues": false,
                "has_projects": true,
                "has_downloads": true,
                "has_wiki": true,
                "has_pages": false,
                "has_discussions": false,
                "forks_count": 0,
                "mirror_url": null,
                "archived": false,
                "disabled": false,
                "open_issues_count": 0,
                "license": {
                    "key": "mit",
                    "name": "MIT License",
                    "spdx_id": "MIT",
                    "url": "https://api.github.com/licenses/mit",
                    "node_id": "MDc6TGljZW5zZTEz"
                },
                "allow_forking": true,
                "is_template": false,
                "web_commit_signoff_required": false,
                "topics": [],
                "visibility": "public",
                "forks": 0,
                "open_issues": 0,
                "watchers": 0,
                "default_branch": "main",
                "public": true
            }
        },
        "public": true,
        "created_at": "2023-10-26T13:46:52Z",
        "org": {
            "id": 8085,
            "login": "Shopify",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/Shopify",
            "avatar_url": "https://avatars.githubusercontent.com/u/8085?"
        }
    }
]