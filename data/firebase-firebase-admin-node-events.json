[
    {
        "id": "32897386118",
        "type": "WatchEvent",
        "actor": {
            "id": 61390950,
            "login": "thewh1teagle",
            "display_login": "thewh1teagle",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thewh1teagle",
            "avatar_url": "https://avatars.githubusercontent.com/u/61390950?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "started"
        },
        "public": true,
        "created_at": "2023-10-27T11:40:06Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32890722761",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 11066224,
            "login": "jferrettiboke",
            "display_login": "jferrettiboke",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jferrettiboke",
            "avatar_url": "https://avatars.githubusercontent.com/u/11066224?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 60,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-27T07:15:41Z",
                "closed_at": "2023-10-26T17:18:07Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 22,
                    "+1": 22,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1782417780",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1782417780",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1782417780,
                "node_id": "IC_kwDOBRCtj85qPYl0",
                "user": {
                    "login": "jferrettiboke",
                    "id": 11066224,
                    "node_id": "MDQ6VXNlcjExMDY2MjI0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/11066224?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jferrettiboke",
                    "html_url": "https://github.com/jferrettiboke",
                    "followers_url": "https://api.github.com/users/jferrettiboke/followers",
                    "following_url": "https://api.github.com/users/jferrettiboke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jferrettiboke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jferrettiboke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jferrettiboke/subscriptions",
                    "organizations_url": "https://api.github.com/users/jferrettiboke/orgs",
                    "repos_url": "https://api.github.com/users/jferrettiboke/repos",
                    "events_url": "https://api.github.com/users/jferrettiboke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jferrettiboke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T07:15:41Z",
                "updated_at": "2023-10-27T07:15:41Z",
                "author_association": "NONE",
                "body": "Hey guys! \ud83d\udc4b\r\n\r\nI've also been experiencing the same issue in my client's app, which has been working fine 24/7 for the past three years. In my case, nothing has changed in the codebase for the past three years. So, my conclusion is that this must be something related to Firebase or Google, and not necessarily the business logic of your app.\r\n\r\nAfter extensive research and several attempts, I can confirm that upgrading dependencies to the latest version and using `preferRest: true` works.\r\n\r\nHere are the steps:\r\n\r\n1. `cd your-project/`\r\n2. `npm install firebase-admin@latest firebase-functions@latest`\r\n3. `npm install -g firebase-tools@latest`\r\n4. Update your Firestore settings and add `preferRest: true` (see the code below).\r\n5. Deploy your functions again.\r\n\r\n```js\r\nconst admin = require(\"firebase-admin\");\r\n\r\nconst firestore = admin.firestore();\r\n\r\nfirestore.settings({ preferRest: true });\r\n\r\n// Use Firestore as usual\r\n```\r\n\r\nDepending on what your previous versions were before upgrading, you could encounter some breaking changes. Make sure to read the changelogs first and adapt your project as needed.\r\n\r\nIf you run into issues when deploying your functions, I recommend using debug mode: `firebase deploy --only functions --debug`. That way, you will know what's happening.\r\n\r\nPlease don't take this as the definitive solution. This is what worked for me, and that's why I'm sharing it. It might or might not work for you. If it doesn't work, feel free to ask. I'll do my best to provide a quick response.\r\n\r\nHappy coding, buddies! \ud83d\udc69\ud83c\udffb\u200d\ud83d\udcbb",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1782417780/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T07:15:42Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32889724104",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 1061363,
            "login": "oyvindholmstad",
            "display_login": "oyvindholmstad",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oyvindholmstad",
            "avatar_url": "https://avatars.githubusercontent.com/u/1061363?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 59,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-27T06:26:45Z",
                "closed_at": "2023-10-26T17:18:07Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 22,
                    "+1": 22,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1782367386",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1782367386",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1782367386,
                "node_id": "IC_kwDOBRCtj85qPMSa",
                "user": {
                    "login": "oyvindholmstad",
                    "id": 1061363,
                    "node_id": "MDQ6VXNlcjEwNjEzNjM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1061363?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/oyvindholmstad",
                    "html_url": "https://github.com/oyvindholmstad",
                    "followers_url": "https://api.github.com/users/oyvindholmstad/followers",
                    "following_url": "https://api.github.com/users/oyvindholmstad/following{/other_user}",
                    "gists_url": "https://api.github.com/users/oyvindholmstad/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/oyvindholmstad/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/oyvindholmstad/subscriptions",
                    "organizations_url": "https://api.github.com/users/oyvindholmstad/orgs",
                    "repos_url": "https://api.github.com/users/oyvindholmstad/repos",
                    "events_url": "https://api.github.com/users/oyvindholmstad/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/oyvindholmstad/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-27T06:26:45Z",
                "updated_at": "2023-10-27T06:26:45Z",
                "author_association": "NONE",
                "body": "@ehsannas @allspain \r\n\r\nNothing has changed here. We are still experiencing the issue. I find the error message in the log 24 times the last 12 hours. \r\n\r\nThe latest incident happened just an hour ago. \r\n\r\nGen 1\r\neurope-west1\r\nNode JS 16",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1782367386/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-27T06:26:46Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32881686503",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 5270205,
            "login": "jessp01",
            "display_login": "jessp01",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jessp01",
            "avatar_url": "https://avatars.githubusercontent.com/u/5270205?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 58,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-26T20:56:10Z",
                "closed_at": "2023-10-26T17:18:07Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 22,
                    "+1": 22,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1781882953",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1781882953",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1781882953,
                "node_id": "IC_kwDOBRCtj85qNWBJ",
                "user": {
                    "login": "jessp01",
                    "id": 5270205,
                    "node_id": "MDQ6VXNlcjUyNzAyMDU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5270205?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jessp01",
                    "html_url": "https://github.com/jessp01",
                    "followers_url": "https://api.github.com/users/jessp01/followers",
                    "following_url": "https://api.github.com/users/jessp01/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jessp01/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jessp01/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jessp01/subscriptions",
                    "organizations_url": "https://api.github.com/users/jessp01/orgs",
                    "repos_url": "https://api.github.com/users/jessp01/repos",
                    "events_url": "https://api.github.com/users/jessp01/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jessp01/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T20:56:10Z",
                "updated_at": "2023-10-26T20:56:10Z",
                "author_association": "NONE",
                "body": "I'd like to reiterate @jobweegink's statement. It has greatly inconvenienced my customers (and myself. frankly) and while I acknowledge that s*it will happen, at Google as well as anywhere else, I do feel a technical description of the issue and how it was resolved is reasonable to expect.",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1781882953/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T20:56:11Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32880323339",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 47540520,
            "login": "jobweegink",
            "display_login": "jobweegink",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jobweegink",
            "avatar_url": "https://avatars.githubusercontent.com/u/47540520?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 57,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-26T19:53:34Z",
                "closed_at": "2023-10-26T17:18:07Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 22,
                    "+1": 22,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1781805902",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1781805902",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1781805902,
                "node_id": "IC_kwDOBRCtj85qNDNO",
                "user": {
                    "login": "jobweegink",
                    "id": 47540520,
                    "node_id": "MDQ6VXNlcjQ3NTQwNTIw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47540520?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jobweegink",
                    "html_url": "https://github.com/jobweegink",
                    "followers_url": "https://api.github.com/users/jobweegink/followers",
                    "following_url": "https://api.github.com/users/jobweegink/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jobweegink/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jobweegink/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jobweegink/subscriptions",
                    "organizations_url": "https://api.github.com/users/jobweegink/orgs",
                    "repos_url": "https://api.github.com/users/jobweegink/repos",
                    "events_url": "https://api.github.com/users/jobweegink/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jobweegink/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T19:53:33Z",
                "updated_at": "2023-10-26T19:53:33Z",
                "author_association": "NONE",
                "body": "Hi @ehsannas \r\nThanks for fixing it and letting us know.\r\nCan you give a bit more insight in this issue, was it a backend issue?\r\nIs there any way we can prevent or track this in the future?\r\ntbh it caused quite some issues for us, and I think I'm not the only one here.\r\n\r\nBut, still thanks for fixing it!",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1781805902/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:53:34Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32878111154",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 434034,
            "login": "breathe",
            "display_login": "breathe",
            "gravatar_id": "",
            "url": "https://api.github.com/users/breathe",
            "avatar_url": "https://avatars.githubusercontent.com/u/434034?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/1377",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/1377/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/1377/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/1377/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/1377",
                "id": 945636609,
                "node_id": "MDU6SXNzdWU5NDU2MzY2MDk=",
                "number": 1377,
                "title": "[FR] Allow credential file type \"external_account\" when calling `admin.credential.applicationDefault()`",
                "user": {
                    "login": "thomasmburke",
                    "id": 40719837,
                    "node_id": "MDQ6VXNlcjQwNzE5ODM3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/40719837?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/thomasmburke",
                    "html_url": "https://github.com/thomasmburke",
                    "followers_url": "https://api.github.com/users/thomasmburke/followers",
                    "following_url": "https://api.github.com/users/thomasmburke/following{/other_user}",
                    "gists_url": "https://api.github.com/users/thomasmburke/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/thomasmburke/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/thomasmburke/subscriptions",
                    "organizations_url": "https://api.github.com/users/thomasmburke/orgs",
                    "repos_url": "https://api.github.com/users/thomasmburke/repos",
                    "events_url": "https://api.github.com/users/thomasmburke/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/thomasmburke/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 617868797,
                        "node_id": "MDU6TGFiZWw2MTc4Njg3OTc=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/type:%20feature%20request",
                        "name": "type: feature request",
                        "color": "fbca04",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 1258595318,
                        "node_id": "MDU6TGFiZWwxMjU4NTk1MzE4",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20core",
                        "name": "api: core",
                        "color": "f8f8f8",
                        "default": false,
                        "description": null
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "lahirumaramba",
                    "id": 55609,
                    "node_id": "MDQ6VXNlcjU1NjA5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/55609?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/lahirumaramba",
                    "html_url": "https://github.com/lahirumaramba",
                    "followers_url": "https://api.github.com/users/lahirumaramba/followers",
                    "following_url": "https://api.github.com/users/lahirumaramba/following{/other_user}",
                    "gists_url": "https://api.github.com/users/lahirumaramba/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/lahirumaramba/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/lahirumaramba/subscriptions",
                    "organizations_url": "https://api.github.com/users/lahirumaramba/orgs",
                    "repos_url": "https://api.github.com/users/lahirumaramba/repos",
                    "events_url": "https://api.github.com/users/lahirumaramba/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/lahirumaramba/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "lahirumaramba",
                        "id": 55609,
                        "node_id": "MDQ6VXNlcjU1NjA5",
                        "avatar_url": "https://avatars.githubusercontent.com/u/55609?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/lahirumaramba",
                        "html_url": "https://github.com/lahirumaramba",
                        "followers_url": "https://api.github.com/users/lahirumaramba/followers",
                        "following_url": "https://api.github.com/users/lahirumaramba/following{/other_user}",
                        "gists_url": "https://api.github.com/users/lahirumaramba/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/lahirumaramba/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/lahirumaramba/subscriptions",
                        "organizations_url": "https://api.github.com/users/lahirumaramba/orgs",
                        "repos_url": "https://api.github.com/users/lahirumaramba/repos",
                        "events_url": "https://api.github.com/users/lahirumaramba/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/lahirumaramba/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 22,
                "created_at": "2021-07-15T18:12:59Z",
                "updated_at": "2023-10-26T18:19:12Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "## **Is your feature request related to a problem? Please describe.**\r\n\r\nDevelopers would like the ability to initialize a Firebase app instance with a credential file type \"external_account\". An example of when credential file of type \"external_account\" is used is when following the instructions listed in the GCP public docs for using [AWS Identify Federated Credentials](https://cloud.google.com/iam/docs/access-resources-aws). This credential file type is supported by other Google APIs (e.g. @google-cloud/storage, @google-cloud/firestore, etc...) and is also supported by the Firebase Admin SDK in other languages (e.g. [Java](https://github.com/firebase/firebase-admin-java))\r\n\r\n## **Describe the solution you'd like**\r\n\r\nAllow the initialization of a Firebase app instance using credential file type \"external_account\". This will likely require an update to the [`credentialFromFile` function](https://github.com/firebase/firebase-admin-node/blob/d961c3f705a8259762a796ac4f4d6a6dd0992eb1/src/credential/credential-internal.ts#L427-L448)\r\n\r\n## **Describe alternatives you've considered**\r\n\r\nDevelopers are currently limited to:\r\n- Leveraging the Firebase Java Admin SDK instead\r\n- Using Secrets Manager/environment variables to store a service account key outside of code\r\n- Calling a corresponding RESTful endpoint from within node.js via something like `http.request`\r\n\r\n## **Additional context**\r\n\r\nWhen a developer has configured GOOGLE_APPLICATION_CREDENTIALS to point to a credential file type of \"external_account\" (e.g. a AWS Identity Federation Credentials Config file) the below are the differences between the implementations for the Firebase Java Admin SDK and the Firebase Node.js Admin SDK:\r\n\r\n**Node.js Details:**\r\n Developer initializes Firebase app instance with code similar to the below:\r\n```\r\nconst fbApp = admin.initializeApp({\r\n        credential: admin.credential.applicationDefault(),\r\n        projectId: 'GCP_PROJECT_ID',\r\n        databaseURL: 'https://GCP_PROJECT_ID.firebaseio.com'\r\n    });\r\n```\r\nWhich in turn calls the [`credentialFromFile` function](https://github.com/firebase/firebase-admin-node/blob/d961c3f705a8259762a796ac4f4d6a6dd0992eb1/src/credential/credential-internal.ts#L427-L448) and returns the following error: 'Invalid contents in the credentials file'\r\n\r\n**Java Details:**\r\nDeveloper initializes Firebase app instance with code similar to the below:\r\n```\r\n        GoogleCredentials credentials = GoogleCredentials.getApplicationDefault();\r\n\r\n        FirebaseOptions options = FirebaseOptions.builder()\r\n                .setCredentials(credentials)\r\n                .setProjectId(GCP_PROJECT_ID)\r\n                .setDatabaseUrl(FIREBASE_DB_URL)\r\n                .build();\r\n\r\n        FirebaseApp app = FirebaseApp.initializeApp(options);\r\n```\r\nWhich in turn calls [this function](https://github.com/googleapis/google-auth-library-java/blob/master/oauth2_http/java/com/google/auth/oauth2/GoogleCredentials.java#L153-L184) that has support for credential file type of \"external_account\"",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/1377/reactions",
                    "total_count": 37,
                    "+1": 37,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/1377/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1781619832",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/1377#issuecomment-1781619832",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/1377",
                "id": 1781619832,
                "node_id": "IC_kwDOBRCtj85qMVx4",
                "user": {
                    "login": "breathe",
                    "id": 434034,
                    "node_id": "MDQ6VXNlcjQzNDAzNA==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/434034?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/breathe",
                    "html_url": "https://github.com/breathe",
                    "followers_url": "https://api.github.com/users/breathe/followers",
                    "following_url": "https://api.github.com/users/breathe/following{/other_user}",
                    "gists_url": "https://api.github.com/users/breathe/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/breathe/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/breathe/subscriptions",
                    "organizations_url": "https://api.github.com/users/breathe/orgs",
                    "repos_url": "https://api.github.com/users/breathe/repos",
                    "events_url": "https://api.github.com/users/breathe/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/breathe/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T18:19:12Z",
                "updated_at": "2023-10-26T18:19:12Z",
                "author_association": "NONE",
                "body": "Also ran into this issue ...  Strugglefest!\r\n\r\nIn my case I'm deploying a nextjs firebase webapp which needs to use the firebase-admin sdk at build time within ci ...  We only needed/wanted to use external account auth when running in ci ...  I ended up modifying one of the prior workarounds to get firebase-admin sdk auth to happen against external account when in ci and otherwise follow a normal path ...\r\n\r\nSolution snippets for anyone else to save some time ...\r\n\r\nhttps://gist.github.com/breathe/5b73c82f3ef3564b8b8f0641bf3e0a11 ",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1781619832/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T18:19:13Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32876617103",
        "type": "IssuesEvent",
        "actor": {
            "id": 279776,
            "login": "allspain",
            "display_login": "allspain",
            "gravatar_id": "",
            "url": "https://api.github.com/users/allspain",
            "avatar_url": "https://avatars.githubusercontent.com/u/279776?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 56,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-26T17:18:07Z",
                "closed_at": "2023-10-26T17:18:07Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 22,
                    "+1": 22,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2023-10-26T17:18:08Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32875844433",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 3828215,
            "login": "ehsannas",
            "display_login": "ehsannas",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ehsannas",
            "avatar_url": "https://avatars.githubusercontent.com/u/3828215?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 56,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-26T16:47:49Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 22,
                    "+1": 22,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1781485097",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1781485097",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1781485097,
                "node_id": "IC_kwDOBRCtj85qL04p",
                "user": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T16:47:49Z",
                "updated_at": "2023-10-26T16:47:49Z",
                "author_association": "NONE",
                "body": "Hi everyone! Thanks again for reporting issues here \u2764\ufe0f\r\nThis issue has been resolved as of yesterday evening.\r\nNo action is needed on your part: no SDK upgrade needed, no change to your cloud functions needed.",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1781485097/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T16:47:49Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32870045371",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 97427,
            "login": "dominics",
            "display_login": "dominics",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dominics",
            "avatar_url": "https://avatars.githubusercontent.com/u/97427?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/776",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/776/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/776/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/776/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/776",
                "id": 557754136,
                "node_id": "MDU6SXNzdWU1NTc3NTQxMzY=",
                "number": 776,
                "title": "How to connect `firebase-admin` to the firebase emulators?",
                "user": {
                    "login": "ldiqual",
                    "id": 941453,
                    "node_id": "MDQ6VXNlcjk0MTQ1Mw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/941453?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ldiqual",
                    "html_url": "https://github.com/ldiqual",
                    "followers_url": "https://api.github.com/users/ldiqual/followers",
                    "following_url": "https://api.github.com/users/ldiqual/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ldiqual/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ldiqual/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ldiqual/subscriptions",
                    "organizations_url": "https://api.github.com/users/ldiqual/orgs",
                    "repos_url": "https://api.github.com/users/ldiqual/repos",
                    "events_url": "https://api.github.com/users/ldiqual/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ldiqual/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 606729841,
                        "node_id": "MDU6TGFiZWw2MDY3Mjk4NDE=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/needs-triage",
                        "name": "needs-triage",
                        "color": "f9d0c4",
                        "default": false,
                        "description": null
                    },
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": {
                    "login": "schmidt-sebastian",
                    "id": 19397744,
                    "node_id": "MDQ6VXNlcjE5Mzk3NzQ0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/19397744?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/schmidt-sebastian",
                    "html_url": "https://github.com/schmidt-sebastian",
                    "followers_url": "https://api.github.com/users/schmidt-sebastian/followers",
                    "following_url": "https://api.github.com/users/schmidt-sebastian/following{/other_user}",
                    "gists_url": "https://api.github.com/users/schmidt-sebastian/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/schmidt-sebastian/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/schmidt-sebastian/subscriptions",
                    "organizations_url": "https://api.github.com/users/schmidt-sebastian/orgs",
                    "repos_url": "https://api.github.com/users/schmidt-sebastian/repos",
                    "events_url": "https://api.github.com/users/schmidt-sebastian/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/schmidt-sebastian/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "schmidt-sebastian",
                        "id": 19397744,
                        "node_id": "MDQ6VXNlcjE5Mzk3NzQ0",
                        "avatar_url": "https://avatars.githubusercontent.com/u/19397744?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/schmidt-sebastian",
                        "html_url": "https://github.com/schmidt-sebastian",
                        "followers_url": "https://api.github.com/users/schmidt-sebastian/followers",
                        "following_url": "https://api.github.com/users/schmidt-sebastian/following{/other_user}",
                        "gists_url": "https://api.github.com/users/schmidt-sebastian/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/schmidt-sebastian/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/schmidt-sebastian/subscriptions",
                        "organizations_url": "https://api.github.com/users/schmidt-sebastian/orgs",
                        "repos_url": "https://api.github.com/users/schmidt-sebastian/repos",
                        "events_url": "https://api.github.com/users/schmidt-sebastian/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/schmidt-sebastian/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 15,
                "created_at": "2020-01-30T21:08:50Z",
                "updated_at": "2023-10-26T13:41:56Z",
                "closed_at": "2020-01-31T01:04:15Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "There is a related issue (https://github.com/firebase/firebase-admin-node/issues/575) but it seems that it's still unresolved.\r\n\r\nWe would like to connect the admin SDK to firebase emulators when running tests. Our setup code looks like this:\r\n\r\n```\r\nimport * as admin from 'firebase-admin'\r\nadmin.initializeApp({ credential: ... })\r\nexport default admin\r\n```\r\n\r\nThen in every file that needs access to firestore, we use:\r\n\r\n```\r\nimport firebase from `./firebase`\r\nfirebase.firestore().doSomething()\r\n```\r\n\r\nHow can we modify this setup so that is connects to the firebase emulators instead?\r\n\r\nThis is what we've tried so far:\r\n\r\n - Have the setup code return the `@firebase/testing` namespace depending on the node environment. However this library [doesn't setup a default firebase app](https://github.com/firebase/firebase-js-sdk/blob/master/packages/testing/src/api/index.ts#L128) so calling `firebase.firestore()` fails.\r\n - Have `firebase-admin` connect to the emulators directly, by providing an explicit `databaseURL` and firestore URLs, and overriding `credential.getAccessToken()` to return `owner`. Now the issue is that the admin's implementation of firestore expects a service account and throws on the credentials override: https://github.com/firebase/firebase-admin-node/blob/master/src/firestore/firestore.ts#L95-L100\r\n - Return the firebase app as part of the setup code, so that `app.firestore()` always works. This requires refactoring the whole codebase to use an app instance instead of a firebase workspace.\r\n\r\nIs there a recommended way to connect the admin sdk to emulators?",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/776/reactions",
                    "total_count": 9,
                    "+1": 9,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/776/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1781154086",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/776#issuecomment-1781154086",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/776",
                "id": 1781154086,
                "node_id": "IC_kwDOBRCtj85qKkEm",
                "user": {
                    "login": "dominics",
                    "id": 97427,
                    "node_id": "MDQ6VXNlcjk3NDI3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/97427?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dominics",
                    "html_url": "https://github.com/dominics",
                    "followers_url": "https://api.github.com/users/dominics/followers",
                    "following_url": "https://api.github.com/users/dominics/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dominics/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dominics/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dominics/subscriptions",
                    "organizations_url": "https://api.github.com/users/dominics/orgs",
                    "repos_url": "https://api.github.com/users/dominics/repos",
                    "events_url": "https://api.github.com/users/dominics/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dominics/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T13:41:56Z",
                "updated_at": "2023-10-26T13:41:56Z",
                "author_association": "NONE",
                "body": "The solution posted by @johnnyoshika (for using both an emulated admin SDK and a non-emulated SDK at the same time) does _not_ work for Firebase Auth, because the admin SDK for auth does not only reference the env var when initializing the app. (And you'll notice they only show Firestore in their example code)\r\n\r\nFor example, the `AuthResourceUrlBuilder` calls `useEmulator()`, which checks `FIREBASE_AUTH_EMULATOR_HOST`. It does this on almost any SDK method.",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1781154086/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T13:41:56Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32862288870",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 8086995,
            "login": "petrvecera",
            "display_login": "petrvecera",
            "gravatar_id": "",
            "url": "https://api.github.com/users/petrvecera",
            "avatar_url": "https://avatars.githubusercontent.com/u/8086995?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 55,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-26T09:17:23Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 21,
                    "+1": 21,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1780729792",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1780729792",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1780729792,
                "node_id": "IC_kwDOBRCtj85qI8fA",
                "user": {
                    "login": "petrvecera",
                    "id": 8086995,
                    "node_id": "MDQ6VXNlcjgwODY5OTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8086995?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/petrvecera",
                    "html_url": "https://github.com/petrvecera",
                    "followers_url": "https://api.github.com/users/petrvecera/followers",
                    "following_url": "https://api.github.com/users/petrvecera/following{/other_user}",
                    "gists_url": "https://api.github.com/users/petrvecera/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/petrvecera/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/petrvecera/subscriptions",
                    "organizations_url": "https://api.github.com/users/petrvecera/orgs",
                    "repos_url": "https://api.github.com/users/petrvecera/repos",
                    "events_url": "https://api.github.com/users/petrvecera/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/petrvecera/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T09:17:22Z",
                "updated_at": "2023-10-26T09:17:22Z",
                "author_association": "NONE",
                "body": "We have lowered all our batch writes to 100 and we didn't get errors on the latest batch processing \ud83c\udf89 \r\n\r\n> Also, may I ask why this issue is not reflected in https://status.cloud.google.com/?\r\n\r\n\ud83d\udc4d \r\n\r\n_Btw be aware that some writes are getting trough with this error. Even though batch writes are suppose to be atomic. Our monitoring based on the logs displays different data than is reality._ ",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1780729792/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T09:17:23Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32858065517",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 59068871,
            "login": "wagerlab",
            "display_login": "wagerlab",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wagerlab",
            "avatar_url": "https://avatars.githubusercontent.com/u/59068871?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 54,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-26T06:39:09Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 20,
                    "+1": 20,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1780502189",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1780502189",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1780502189,
                "node_id": "IC_kwDOBRCtj85qIE6t",
                "user": {
                    "login": "wagerlab",
                    "id": 59068871,
                    "node_id": "MDQ6VXNlcjU5MDY4ODcx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/59068871?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/wagerlab",
                    "html_url": "https://github.com/wagerlab",
                    "followers_url": "https://api.github.com/users/wagerlab/followers",
                    "following_url": "https://api.github.com/users/wagerlab/following{/other_user}",
                    "gists_url": "https://api.github.com/users/wagerlab/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/wagerlab/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/wagerlab/subscriptions",
                    "organizations_url": "https://api.github.com/users/wagerlab/orgs",
                    "repos_url": "https://api.github.com/users/wagerlab/repos",
                    "events_url": "https://api.github.com/users/wagerlab/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/wagerlab/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T06:39:08Z",
                "updated_at": "2023-10-26T06:39:08Z",
                "author_association": "NONE",
                "body": "Seems it's likely similar to the issue that @zzpreneur is seeing but when I added preferRest: true I started seeing the following error (this time when reading a document although the initial problem I was facing occurred when committing a batch of writes/deletes)\r\n\r\nError: `{\"errno\":-54,\"code\":\"ECONNRESET\",\"syscall\":\"read\"}`\r\nMessage: `Error: read ECONNRESET`\r\n\r\n[This issue](https://github.com/firebase/firebase-admin-node/issues/2243) seems to be related as well",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1780502189/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T06:39:09Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32851338025",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 10654901,
            "login": "enr1424",
            "display_login": "enr1424",
            "gravatar_id": "",
            "url": "https://api.github.com/users/enr1424",
            "avatar_url": "https://avatars.githubusercontent.com/u/10654901?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 53,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-25T22:47:45Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 20,
                    "+1": 20,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1780161908",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1780161908",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1780161908,
                "node_id": "IC_kwDOBRCtj85qGx10",
                "user": {
                    "login": "enr1424",
                    "id": 10654901,
                    "node_id": "MDQ6VXNlcjEwNjU0OTAx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/10654901?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/enr1424",
                    "html_url": "https://github.com/enr1424",
                    "followers_url": "https://api.github.com/users/enr1424/followers",
                    "following_url": "https://api.github.com/users/enr1424/following{/other_user}",
                    "gists_url": "https://api.github.com/users/enr1424/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/enr1424/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/enr1424/subscriptions",
                    "organizations_url": "https://api.github.com/users/enr1424/orgs",
                    "repos_url": "https://api.github.com/users/enr1424/repos",
                    "events_url": "https://api.github.com/users/enr1424/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/enr1424/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T22:47:45Z",
                "updated_at": "2023-10-25T22:47:45Z",
                "author_association": "NONE",
                "body": "Same issue here.\r\n\r\nNode: 20.9.0\r\nfirebase-admin: 11.11.0",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1780161908/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T22:47:46Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32849704086",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 869261,
            "login": "adamkoch",
            "display_login": "adamkoch",
            "gravatar_id": "",
            "url": "https://api.github.com/users/adamkoch",
            "avatar_url": "https://avatars.githubusercontent.com/u/869261?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 52,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-25T21:20:54Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 20,
                    "+1": 20,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1780073458",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1780073458",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1780073458,
                "node_id": "IC_kwDOBRCtj85qGcPy",
                "user": {
                    "login": "adamkoch",
                    "id": 869261,
                    "node_id": "MDQ6VXNlcjg2OTI2MQ==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/869261?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/adamkoch",
                    "html_url": "https://github.com/adamkoch",
                    "followers_url": "https://api.github.com/users/adamkoch/followers",
                    "following_url": "https://api.github.com/users/adamkoch/following{/other_user}",
                    "gists_url": "https://api.github.com/users/adamkoch/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/adamkoch/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/adamkoch/subscriptions",
                    "organizations_url": "https://api.github.com/users/adamkoch/orgs",
                    "repos_url": "https://api.github.com/users/adamkoch/repos",
                    "events_url": "https://api.github.com/users/adamkoch/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/adamkoch/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T21:20:53Z",
                "updated_at": "2023-10-25T21:20:53Z",
                "author_association": "NONE",
                "body": "Seeing this as well, starting a week or so back.\r\n\r\nNode 16, Gen 1 functions:\r\n```\r\n    \"@google-cloud/firestore\": \"^6.8.0\",\r\n    \"firebase-admin\": \"^11.11.0\",\r\n    \"firebase-functions\": \"^4.4.1\",\r\n```\r\n\r\nDitto to @zzpreneur - added `preferRest: true` to workaround which seems to have helped but now seeing `failed, reason: socket hang up` intermittently instead.",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1780073458/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T21:20:54Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32847511114",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 5270205,
            "login": "jessp01",
            "display_login": "jessp01",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jessp01",
            "avatar_url": "https://avatars.githubusercontent.com/u/5270205?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 51,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-25T19:42:53Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 20,
                    "+1": 20,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779940642",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1779940642",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1779940642,
                "node_id": "IC_kwDOBRCtj85qF70i",
                "user": {
                    "login": "jessp01",
                    "id": 5270205,
                    "node_id": "MDQ6VXNlcjUyNzAyMDU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5270205?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jessp01",
                    "html_url": "https://github.com/jessp01",
                    "followers_url": "https://api.github.com/users/jessp01/followers",
                    "following_url": "https://api.github.com/users/jessp01/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jessp01/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jessp01/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jessp01/subscriptions",
                    "organizations_url": "https://api.github.com/users/jessp01/orgs",
                    "repos_url": "https://api.github.com/users/jessp01/repos",
                    "events_url": "https://api.github.com/users/jessp01/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jessp01/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T19:42:52Z",
                "updated_at": "2023-10-25T19:42:52Z",
                "author_association": "NONE",
                "body": "Also, @ehsannas , may I ask why this issue is not reflected in https://status.cloud.google.com/?",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779940642/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T19:42:53Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32846994348",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 5270205,
            "login": "jessp01",
            "display_login": "jessp01",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jessp01",
            "avatar_url": "https://avatars.githubusercontent.com/u/5270205?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 50,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-25T19:21:12Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 20,
                    "+1": 20,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779905314",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1779905314",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1779905314,
                "node_id": "IC_kwDOBRCtj85qFzMi",
                "user": {
                    "login": "jessp01",
                    "id": 5270205,
                    "node_id": "MDQ6VXNlcjUyNzAyMDU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5270205?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jessp01",
                    "html_url": "https://github.com/jessp01",
                    "followers_url": "https://api.github.com/users/jessp01/followers",
                    "following_url": "https://api.github.com/users/jessp01/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jessp01/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jessp01/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jessp01/subscriptions",
                    "organizations_url": "https://api.github.com/users/jessp01/orgs",
                    "repos_url": "https://api.github.com/users/jessp01/repos",
                    "events_url": "https://api.github.com/users/jessp01/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jessp01/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T19:21:12Z",
                "updated_at": "2023-10-25T19:21:12Z",
                "author_association": "NONE",
                "body": "Hi @ehsannas ,\r\n\r\nAny news on this? If anything, this seems to happen more and more frequently in the past two days.\r\n\r\nThanks,",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779905314/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T19:21:12Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32846890211",
        "type": "PushEvent",
        "actor": {
            "id": 4635763,
            "login": "joehan",
            "display_login": "joehan",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joehan",
            "avatar_url": "https://avatars.githubusercontent.com/u/4635763?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "repository_id": 84979087,
            "push_id": 15565773754,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/jh-update-firestore",
            "head": "2d14993800f2980d289f909c185edc65c04cc4aa",
            "before": "6512f19395f78838d6ad8bdd56031f7a6415cf52",
            "commits": [
                {
                    "sha": "2d14993800f2980d289f909c185edc65c04cc4aa",
                    "author": {
                        "email": "joehanley@google.com",
                        "name": "Joe Hanley"
                    },
                    "message": "package-lock",
                    "distinct": true,
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/commits/2d14993800f2980d289f909c185edc65c04cc4aa"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-25T19:16:58Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32846790043",
        "type": "PullRequestEvent",
        "actor": {
            "id": 4635763,
            "login": "joehan",
            "display_login": "joehan",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joehan",
            "avatar_url": "https://avatars.githubusercontent.com/u/4635763?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "opened",
            "number": 2351,
            "pull_request": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/pulls/2351",
                "id": 1573507830,
                "node_id": "PR_kwDOBRCtj85dydL2",
                "html_url": "https://github.com/firebase/firebase-admin-node/pull/2351",
                "diff_url": "https://github.com/firebase/firebase-admin-node/pull/2351.diff",
                "patch_url": "https://github.com/firebase/firebase-admin-node/pull/2351.patch",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2351",
                "number": 2351,
                "state": "open",
                "locked": false,
                "title": "@google-cloud/firestore optional dependency ^6.6.0 -> ^6.8.0",
                "user": {
                    "login": "joehan",
                    "id": 4635763,
                    "node_id": "MDQ6VXNlcjQ2MzU3NjM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4635763?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/joehan",
                    "html_url": "https://github.com/joehan",
                    "followers_url": "https://api.github.com/users/joehan/followers",
                    "following_url": "https://api.github.com/users/joehan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/joehan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/joehan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/joehan/subscriptions",
                    "organizations_url": "https://api.github.com/users/joehan/orgs",
                    "repos_url": "https://api.github.com/users/joehan/repos",
                    "events_url": "https://api.github.com/users/joehan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/joehan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Bumping up @google-cloud/firestore dependency to the latest 6.x version. \r\n\r\nPer https://github.com/googleapis/nodejs-firestore/releases/tag/v6.7.0, multidb support was only added in 6.7.0. https://firebase.google.com/docs/reference/admin/node/firebase-admin.firestore.md#getfirestore says that we support this, so we should require at least 6.7.0. Currently, this silently write/reads from the default DB if you try to use a different DB and have firestore@6.6.0 in your node modules.",
                "created_at": "2023-10-25T19:12:45Z",
                "updated_at": "2023-10-25T19:12:45Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": null,
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/firebase/firebase-admin-node/pulls/2351/commits",
                "review_comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/pulls/2351/comments",
                "review_comment_url": "https://api.github.com/repos/firebase/firebase-admin-node/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2351/comments",
                "statuses_url": "https://api.github.com/repos/firebase/firebase-admin-node/statuses/6512f19395f78838d6ad8bdd56031f7a6415cf52",
                "head": {
                    "label": "firebase:jh-update-firestore",
                    "ref": "jh-update-firestore",
                    "sha": "6512f19395f78838d6ad8bdd56031f7a6415cf52",
                    "user": {
                        "login": "firebase",
                        "id": 1335026,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzMzUwMjY=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1335026?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/firebase",
                        "html_url": "https://github.com/firebase",
                        "followers_url": "https://api.github.com/users/firebase/followers",
                        "following_url": "https://api.github.com/users/firebase/following{/other_user}",
                        "gists_url": "https://api.github.com/users/firebase/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/firebase/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/firebase/subscriptions",
                        "organizations_url": "https://api.github.com/users/firebase/orgs",
                        "repos_url": "https://api.github.com/users/firebase/repos",
                        "events_url": "https://api.github.com/users/firebase/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/firebase/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 84979087,
                        "node_id": "MDEwOlJlcG9zaXRvcnk4NDk3OTA4Nw==",
                        "name": "firebase-admin-node",
                        "full_name": "firebase/firebase-admin-node",
                        "private": false,
                        "owner": {
                            "login": "firebase",
                            "id": 1335026,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzMzUwMjY=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/firebase",
                            "html_url": "https://github.com/firebase",
                            "followers_url": "https://api.github.com/users/firebase/followers",
                            "following_url": "https://api.github.com/users/firebase/following{/other_user}",
                            "gists_url": "https://api.github.com/users/firebase/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/firebase/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/firebase/subscriptions",
                            "organizations_url": "https://api.github.com/users/firebase/orgs",
                            "repos_url": "https://api.github.com/users/firebase/repos",
                            "events_url": "https://api.github.com/users/firebase/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/firebase/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/firebase/firebase-admin-node",
                        "description": "Firebase Admin Node.js SDK",
                        "fork": false,
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node",
                        "forks_url": "https://api.github.com/repos/firebase/firebase-admin-node/forks",
                        "keys_url": "https://api.github.com/repos/firebase/firebase-admin-node/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/firebase/firebase-admin-node/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/firebase/firebase-admin-node/teams",
                        "hooks_url": "https://api.github.com/repos/firebase/firebase-admin-node/hooks",
                        "issue_events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/events",
                        "assignees_url": "https://api.github.com/repos/firebase/firebase-admin-node/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/firebase/firebase-admin-node/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/firebase/firebase-admin-node/tags",
                        "blobs_url": "https://api.github.com/repos/firebase/firebase-admin-node/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/firebase/firebase-admin-node/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/firebase/firebase-admin-node/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/firebase/firebase-admin-node/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/firebase/firebase-admin-node/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/firebase/firebase-admin-node/languages",
                        "stargazers_url": "https://api.github.com/repos/firebase/firebase-admin-node/stargazers",
                        "contributors_url": "https://api.github.com/repos/firebase/firebase-admin-node/contributors",
                        "subscribers_url": "https://api.github.com/repos/firebase/firebase-admin-node/subscribers",
                        "subscription_url": "https://api.github.com/repos/firebase/firebase-admin-node/subscription",
                        "commits_url": "https://api.github.com/repos/firebase/firebase-admin-node/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/firebase/firebase-admin-node/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/firebase/firebase-admin-node/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/firebase/firebase-admin-node/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/firebase/firebase-admin-node/merges",
                        "archive_url": "https://api.github.com/repos/firebase/firebase-admin-node/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/firebase/firebase-admin-node/downloads",
                        "issues_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/firebase/firebase-admin-node/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/firebase/firebase-admin-node/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/firebase/firebase-admin-node/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/labels{/name}",
                        "releases_url": "https://api.github.com/repos/firebase/firebase-admin-node/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/firebase/firebase-admin-node/deployments",
                        "created_at": "2017-03-14T17:39:33Z",
                        "updated_at": "2023-10-24T10:54:35Z",
                        "pushed_at": "2023-10-25T19:12:45Z",
                        "git_url": "git://github.com/firebase/firebase-admin-node.git",
                        "ssh_url": "git@github.com:firebase/firebase-admin-node.git",
                        "clone_url": "https://github.com/firebase/firebase-admin-node.git",
                        "svn_url": "https://github.com/firebase/firebase-admin-node",
                        "homepage": "https://firebase.google.com/docs/admin/setup",
                        "size": 10218,
                        "stargazers_count": 1519,
                        "watchers_count": 1519,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 369,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 157,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "authentification",
                            "firebase",
                            "firebase-admin",
                            "firebase-admin-sdk",
                            "firebase-auth",
                            "firebase-authentication",
                            "firebase-cloud-messaging",
                            "firebase-database",
                            "firebase-db",
                            "nodejs",
                            "realtime-database"
                        ],
                        "visibility": "public",
                        "forks": 369,
                        "open_issues": 157,
                        "watchers": 1519,
                        "default_branch": "master"
                    }
                },
                "base": {
                    "label": "firebase:master",
                    "ref": "master",
                    "sha": "1e2f906571dc7e2f8dffebf3fa442b2a1ad2d56b",
                    "user": {
                        "login": "firebase",
                        "id": 1335026,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzMzUwMjY=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1335026?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/firebase",
                        "html_url": "https://github.com/firebase",
                        "followers_url": "https://api.github.com/users/firebase/followers",
                        "following_url": "https://api.github.com/users/firebase/following{/other_user}",
                        "gists_url": "https://api.github.com/users/firebase/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/firebase/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/firebase/subscriptions",
                        "organizations_url": "https://api.github.com/users/firebase/orgs",
                        "repos_url": "https://api.github.com/users/firebase/repos",
                        "events_url": "https://api.github.com/users/firebase/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/firebase/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 84979087,
                        "node_id": "MDEwOlJlcG9zaXRvcnk4NDk3OTA4Nw==",
                        "name": "firebase-admin-node",
                        "full_name": "firebase/firebase-admin-node",
                        "private": false,
                        "owner": {
                            "login": "firebase",
                            "id": 1335026,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzMzUwMjY=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/firebase",
                            "html_url": "https://github.com/firebase",
                            "followers_url": "https://api.github.com/users/firebase/followers",
                            "following_url": "https://api.github.com/users/firebase/following{/other_user}",
                            "gists_url": "https://api.github.com/users/firebase/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/firebase/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/firebase/subscriptions",
                            "organizations_url": "https://api.github.com/users/firebase/orgs",
                            "repos_url": "https://api.github.com/users/firebase/repos",
                            "events_url": "https://api.github.com/users/firebase/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/firebase/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/firebase/firebase-admin-node",
                        "description": "Firebase Admin Node.js SDK",
                        "fork": false,
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node",
                        "forks_url": "https://api.github.com/repos/firebase/firebase-admin-node/forks",
                        "keys_url": "https://api.github.com/repos/firebase/firebase-admin-node/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/firebase/firebase-admin-node/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/firebase/firebase-admin-node/teams",
                        "hooks_url": "https://api.github.com/repos/firebase/firebase-admin-node/hooks",
                        "issue_events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/events",
                        "assignees_url": "https://api.github.com/repos/firebase/firebase-admin-node/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/firebase/firebase-admin-node/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/firebase/firebase-admin-node/tags",
                        "blobs_url": "https://api.github.com/repos/firebase/firebase-admin-node/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/firebase/firebase-admin-node/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/firebase/firebase-admin-node/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/firebase/firebase-admin-node/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/firebase/firebase-admin-node/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/firebase/firebase-admin-node/languages",
                        "stargazers_url": "https://api.github.com/repos/firebase/firebase-admin-node/stargazers",
                        "contributors_url": "https://api.github.com/repos/firebase/firebase-admin-node/contributors",
                        "subscribers_url": "https://api.github.com/repos/firebase/firebase-admin-node/subscribers",
                        "subscription_url": "https://api.github.com/repos/firebase/firebase-admin-node/subscription",
                        "commits_url": "https://api.github.com/repos/firebase/firebase-admin-node/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/firebase/firebase-admin-node/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/firebase/firebase-admin-node/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/firebase/firebase-admin-node/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/firebase/firebase-admin-node/merges",
                        "archive_url": "https://api.github.com/repos/firebase/firebase-admin-node/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/firebase/firebase-admin-node/downloads",
                        "issues_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/firebase/firebase-admin-node/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/firebase/firebase-admin-node/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/firebase/firebase-admin-node/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/labels{/name}",
                        "releases_url": "https://api.github.com/repos/firebase/firebase-admin-node/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/firebase/firebase-admin-node/deployments",
                        "created_at": "2017-03-14T17:39:33Z",
                        "updated_at": "2023-10-24T10:54:35Z",
                        "pushed_at": "2023-10-25T19:12:45Z",
                        "git_url": "git://github.com/firebase/firebase-admin-node.git",
                        "ssh_url": "git@github.com:firebase/firebase-admin-node.git",
                        "clone_url": "https://github.com/firebase/firebase-admin-node.git",
                        "svn_url": "https://github.com/firebase/firebase-admin-node",
                        "homepage": "https://firebase.google.com/docs/admin/setup",
                        "size": 10218,
                        "stargazers_count": 1519,
                        "watchers_count": 1519,
                        "language": "TypeScript",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": true,
                        "forks_count": 369,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 157,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "authentification",
                            "firebase",
                            "firebase-admin",
                            "firebase-admin-sdk",
                            "firebase-auth",
                            "firebase-authentication",
                            "firebase-cloud-messaging",
                            "firebase-database",
                            "firebase-db",
                            "nodejs",
                            "realtime-database"
                        ],
                        "visibility": "public",
                        "forks": 369,
                        "open_issues": 157,
                        "watchers": 1519,
                        "default_branch": "master"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/firebase/firebase-admin-node/pulls/2351"
                    },
                    "html": {
                        "href": "https://github.com/firebase/firebase-admin-node/pull/2351"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2351"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2351/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/firebase/firebase-admin-node/pulls/2351/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/firebase/firebase-admin-node/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/firebase/firebase-admin-node/pulls/2351/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/firebase/firebase-admin-node/statuses/6512f19395f78838d6ad8bdd56031f7a6415cf52"
                    }
                },
                "author_association": "COLLABORATOR",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": false,
                "commits": 1,
                "additions": 7985,
                "deletions": 4960,
                "changed_files": 2
            }
        },
        "public": true,
        "created_at": "2023-10-25T19:12:47Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32846521120",
        "type": "CreateEvent",
        "actor": {
            "id": 4635763,
            "login": "joehan",
            "display_login": "joehan",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joehan",
            "avatar_url": "https://avatars.githubusercontent.com/u/4635763?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "ref": "jh-update-firestore",
            "ref_type": "branch",
            "master_branch": "master",
            "description": "Firebase Admin Node.js SDK",
            "pusher_type": "user"
        },
        "public": true,
        "created_at": "2023-10-25T19:01:40Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32845903125",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 26440463,
            "login": "google-oss-bot",
            "display_login": "google-oss-bot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/google-oss-bot",
            "avatar_url": "https://avatars.githubusercontent.com/u/26440463?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2350",
                "id": 1962005958,
                "node_id": "I_kwDOBRCtj8508dXG",
                "number": 2350,
                "title": "Firebase query orderByKey().limitToFirst(n).startAfter() returns n-1 items iso n",
                "user": {
                    "login": "timalenustmf",
                    "id": 89771047,
                    "node_id": "MDQ6VXNlcjg5NzcxMDQ3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/89771047?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/timalenustmf",
                    "html_url": "https://github.com/timalenustmf",
                    "followers_url": "https://api.github.com/users/timalenustmf/followers",
                    "following_url": "https://api.github.com/users/timalenustmf/following{/other_user}",
                    "gists_url": "https://api.github.com/users/timalenustmf/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/timalenustmf/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/timalenustmf/subscriptions",
                    "organizations_url": "https://api.github.com/users/timalenustmf/orgs",
                    "repos_url": "https://api.github.com/users/timalenustmf/repos",
                    "events_url": "https://api.github.com/users/timalenustmf/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/timalenustmf/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 606729841,
                        "node_id": "MDU6TGFiZWw2MDY3Mjk4NDE=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/needs-triage",
                        "name": "needs-triage",
                        "color": "f9d0c4",
                        "default": false,
                        "description": null
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-25T18:36:15Z",
                "updated_at": "2023-10-25T18:36:18Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [READ] Step 1: Are you in the right place?\r\nyes\r\n\r\n### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Ubuntu 22.04 lts\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: realtime database (auth, database, storage, etc)\r\n  * Node.js version: 16.20.2\r\n  * NPM version: 8.19.4\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\n\r\nFirebase query of type:\r\n`admin.database.Database.ref('collection').orderByKey().limitToFirst(100).startAfter(lastKey)` only returns 99 items iso 100 even if more keys are in the firebase realtime database. \r\n\r\nOn version 11.4.1 of firebase-admin this query behaves as expected and 100 items are returned.\r\n\r\n#### Steps to reproduce:\r\n\r\nWhat happened? How can we make the problem occur?\r\nThis could be a description, log/console output, etc.\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nlet query;\r\nlet lastDocument = null;\r\nlet lastBatchSize: number = 100;\r\n\r\nwhile (lastBatchSize === 100) {\r\n    query = database.ref('collection').orderByKey()\r\n      .limitToFirst(100);\r\n\r\n    if (lastDocument !== null) {\r\n      query = query.startAfter(lastDocument.key);\r\n    }\r\n\r\n    const snapshot = await query.get();\r\n    const keys = Object.keys(snapshot.val() || {});\r\n    const docs = keys.map((key) => snapshot.child(key));\r\n\r\n    if (docs.length === 0) break;\r\n    console.log(\"docs length \" + docs.length); //prints 99 on 11.11.0, prints 100 on 11.4.1\r\n\r\n    if (docs.length) {\r\n      lastDocument = docs[docs.length - 1];\r\n    }\r\n    lastBatchSize = docs.length;\r\n  }\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779839583",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2350#issuecomment-1779839583",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350",
                "id": 1779839583,
                "node_id": "IC_kwDOBRCtj85qFjJf",
                "user": {
                    "login": "google-oss-bot",
                    "id": 26440463,
                    "node_id": "MDQ6VXNlcjI2NDQwNDYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/26440463?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/google-oss-bot",
                    "html_url": "https://github.com/google-oss-bot",
                    "followers_url": "https://api.github.com/users/google-oss-bot/followers",
                    "following_url": "https://api.github.com/users/google-oss-bot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/google-oss-bot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/google-oss-bot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/google-oss-bot/subscriptions",
                    "organizations_url": "https://api.github.com/users/google-oss-bot/orgs",
                    "repos_url": "https://api.github.com/users/google-oss-bot/repos",
                    "events_url": "https://api.github.com/users/google-oss-bot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/google-oss-bot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T18:36:17Z",
                "updated_at": "2023-10-25T18:36:17Z",
                "author_association": "NONE",
                "body": "I couldn't figure out how to label this issue, so I've labeled it for a human to triage. Hang tight.",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779839583/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T18:36:18Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32845902448",
        "type": "IssuesEvent",
        "actor": {
            "id": 89771047,
            "login": "timalenustmf",
            "display_login": "timalenustmf",
            "gravatar_id": "",
            "url": "https://api.github.com/users/timalenustmf",
            "avatar_url": "https://avatars.githubusercontent.com/u/89771047?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "opened",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2350",
                "id": 1962005958,
                "node_id": "I_kwDOBRCtj8508dXG",
                "number": 2350,
                "title": "Firebase query orderByKey().limitToFirst(n).startAfter() returns n-1 items iso n",
                "user": {
                    "login": "timalenustmf",
                    "id": 89771047,
                    "node_id": "MDQ6VXNlcjg5NzcxMDQ3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/89771047?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/timalenustmf",
                    "html_url": "https://github.com/timalenustmf",
                    "followers_url": "https://api.github.com/users/timalenustmf/followers",
                    "following_url": "https://api.github.com/users/timalenustmf/following{/other_user}",
                    "gists_url": "https://api.github.com/users/timalenustmf/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/timalenustmf/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/timalenustmf/subscriptions",
                    "organizations_url": "https://api.github.com/users/timalenustmf/orgs",
                    "repos_url": "https://api.github.com/users/timalenustmf/repos",
                    "events_url": "https://api.github.com/users/timalenustmf/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/timalenustmf/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2023-10-25T18:36:15Z",
                "updated_at": "2023-10-25T18:36:15Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [READ] Step 1: Are you in the right place?\r\nyes\r\n\r\n### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Ubuntu 22.04 lts\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: realtime database (auth, database, storage, etc)\r\n  * Node.js version: 16.20.2\r\n  * NPM version: 8.19.4\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\n\r\nFirebase query of type:\r\n`admin.database.Database.ref('collection').orderByKey().limitToFirst(100).startAfter(lastKey)` only returns 99 items iso 100 even if more keys are in the firebase realtime database. \r\n\r\nOn version 11.4.1 of firebase-admin this query behaves as expected and 100 items are returned.\r\n\r\n#### Steps to reproduce:\r\n\r\nWhat happened? How can we make the problem occur?\r\nThis could be a description, log/console output, etc.\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nlet query;\r\nlet lastDocument = null;\r\nlet lastBatchSize: number = 100;\r\n\r\nwhile (lastBatchSize === 100) {\r\n    query = database.ref('collection').orderByKey()\r\n      .limitToFirst(100);\r\n\r\n    if (lastDocument !== null) {\r\n      query = query.startAfter(lastDocument.key);\r\n    }\r\n\r\n    const snapshot = await query.get();\r\n    const keys = Object.keys(snapshot.val() || {});\r\n    const docs = keys.map((key) => snapshot.child(key));\r\n\r\n    if (docs.length === 0) break;\r\n    console.log(\"docs length \" + docs.length); //prints 99 on 11.11.0, prints 100 on 11.4.1\r\n\r\n    if (docs.length) {\r\n      lastDocument = docs[docs.length - 1];\r\n    }\r\n    lastBatchSize = docs.length;\r\n  }\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2350/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T18:36:16Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32842383351",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 17362459,
            "login": "atomassoni",
            "display_login": "atomassoni",
            "gravatar_id": "",
            "url": "https://api.github.com/users/atomassoni",
            "avatar_url": "https://avatars.githubusercontent.com/u/17362459?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 49,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-25T16:19:27Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 19,
                    "+1": 19,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779629632",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1779629632",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1779629632,
                "node_id": "IC_kwDOBRCtj85qEv5A",
                "user": {
                    "login": "atomassoni",
                    "id": 17362459,
                    "node_id": "MDQ6VXNlcjE3MzYyNDU5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/17362459?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/atomassoni",
                    "html_url": "https://github.com/atomassoni",
                    "followers_url": "https://api.github.com/users/atomassoni/followers",
                    "following_url": "https://api.github.com/users/atomassoni/following{/other_user}",
                    "gists_url": "https://api.github.com/users/atomassoni/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/atomassoni/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/atomassoni/subscriptions",
                    "organizations_url": "https://api.github.com/users/atomassoni/orgs",
                    "repos_url": "https://api.github.com/users/atomassoni/repos",
                    "events_url": "https://api.github.com/users/atomassoni/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/atomassoni/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T16:19:27Z",
                "updated_at": "2023-10-25T16:19:27Z",
                "author_association": "NONE",
                "body": "All the affected functions are deployed on Node 18 for us. \r\n    \"firebase-admin\": \"^11.10.1\",\r\n    \"firebase-functions\": \"^4.4.1\",",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779629632/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T16:19:28Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32841858605",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 1649218,
            "login": "zzpreneur",
            "display_login": "zzpreneur",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zzpreneur",
            "avatar_url": "https://avatars.githubusercontent.com/u/1649218?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 48,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-25T16:01:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 18,
                    "+1": 18,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779597755",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1779597755",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1779597755,
                "node_id": "IC_kwDOBRCtj85qEoG7",
                "user": {
                    "login": "zzpreneur",
                    "id": 1649218,
                    "node_id": "MDQ6VXNlcjE2NDkyMTg=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1649218?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/zzpreneur",
                    "html_url": "https://github.com/zzpreneur",
                    "followers_url": "https://api.github.com/users/zzpreneur/followers",
                    "following_url": "https://api.github.com/users/zzpreneur/following{/other_user}",
                    "gists_url": "https://api.github.com/users/zzpreneur/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/zzpreneur/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/zzpreneur/subscriptions",
                    "organizations_url": "https://api.github.com/users/zzpreneur/orgs",
                    "repos_url": "https://api.github.com/users/zzpreneur/repos",
                    "events_url": "https://api.github.com/users/zzpreneur/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/zzpreneur/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T16:01:04Z",
                "updated_at": "2023-10-25T16:01:04Z",
                "author_association": "NONE",
                "body": "Hi, I've been experiencing this issue as well. I noticed it on 10/21/23. I'm running \r\n\r\n- 1st gen cloud functions\r\n- Node 16\r\n- \"firebase-admin\": \"^11.3.0\",\r\n- \"firebase-functions\": \"^4.2.1\"\r\n\r\nI pushed the fix using `{preferRest: true, timestampsInSnapshots: true}` and it fixed the main error in this thread. But now I'm seeing other errors I wasn't before this change:\r\n\r\n```\r\nFetchError: request to https://firestore.googleapis.com/v1/projects/PROJECT-NAME-HERE/databases/(default)/documents:runQuery?$alt=json%3Benum-encoding=int failed, reason: socket hang up\"\r\n```\r\nCouple questions:\r\n1. Is this issue only happening on 1st gen cloud functions? If so, does it make sense to upgrade to gen 2?\r\n2. Any insight on the error above?\r\n\r\nThanks",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779597755/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T16:01:05Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32838919765",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 42233304,
            "login": "edmilsonss",
            "display_login": "edmilsonss",
            "gravatar_id": "",
            "url": "https://api.github.com/users/edmilsonss",
            "avatar_url": "https://avatars.githubusercontent.com/u/42233304?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 47,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-25T14:31:07Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 18,
                    "+1": 18,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779414928",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1779414928",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1779414928,
                "node_id": "IC_kwDOBRCtj85qD7eQ",
                "user": {
                    "login": "edmilsonss",
                    "id": 42233304,
                    "node_id": "MDQ6VXNlcjQyMjMzMzA0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/42233304?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/edmilsonss",
                    "html_url": "https://github.com/edmilsonss",
                    "followers_url": "https://api.github.com/users/edmilsonss/followers",
                    "following_url": "https://api.github.com/users/edmilsonss/following{/other_user}",
                    "gists_url": "https://api.github.com/users/edmilsonss/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/edmilsonss/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/edmilsonss/subscriptions",
                    "organizations_url": "https://api.github.com/users/edmilsonss/orgs",
                    "repos_url": "https://api.github.com/users/edmilsonss/repos",
                    "events_url": "https://api.github.com/users/edmilsonss/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/edmilsonss/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T14:31:07Z",
                "updated_at": "2023-10-25T14:31:07Z",
                "author_association": "NONE",
                "body": "> What Node.JS version are people using? OP mentioned 18.8 and we are curious what version others experienced this problem on.\r\n> \r\n> If you are using GCF, you can see the major Node.JS version in the \"Runtime\" dropdown list in the Code Editor.\r\n> \r\n> If you are running on a server, run `node --version`\r\n\r\nNode 16.\r\nfirebase-admin: 11.11.0,",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779414928/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T14:31:07Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32832127076",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 8086995,
            "login": "petrvecera",
            "display_login": "petrvecera",
            "gravatar_id": "",
            "url": "https://api.github.com/users/petrvecera",
            "avatar_url": "https://avatars.githubusercontent.com/u/8086995?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 46,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-25T10:55:11Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 16,
                    "+1": 16,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779007459",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1779007459",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1779007459,
                "node_id": "IC_kwDOBRCtj85qCX_j",
                "user": {
                    "login": "petrvecera",
                    "id": 8086995,
                    "node_id": "MDQ6VXNlcjgwODY5OTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8086995?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/petrvecera",
                    "html_url": "https://github.com/petrvecera",
                    "followers_url": "https://api.github.com/users/petrvecera/followers",
                    "following_url": "https://api.github.com/users/petrvecera/following{/other_user}",
                    "gists_url": "https://api.github.com/users/petrvecera/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/petrvecera/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/petrvecera/subscriptions",
                    "organizations_url": "https://api.github.com/users/petrvecera/orgs",
                    "repos_url": "https://api.github.com/users/petrvecera/repos",
                    "events_url": "https://api.github.com/users/petrvecera/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/petrvecera/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T10:55:10Z",
                "updated_at": "2023-10-25T10:55:10Z",
                "author_association": "NONE",
                "body": "In our function the error started happening ~5 days ago - no new deployment to any of our functions. \r\n\r\nHappens on `batch.commit()`\r\n\r\nFunctions Gen 1, Node 16\r\n```\r\n\"firebase-admin\": \"11.11.0\",\r\n\"firebase-functions\": \"4.4.1\",\r\n```\r\n\r\nOur code is extremely simple:\r\n```javascript\r\n let batch = db.batch();\r\n  const chunkedData = chunk(matches, 499);\r\n  for (const chunk of chunkedData) {\r\n    for (const match of chunk) {\r\n      const docRef = getMatchDocRef(match.id);\r\n      batch.set(docRef, match);\r\n    }\r\n\r\n    await batch.commit();\r\n    logger.info(`Saving batch of ${chunk.length} matches to the DB.`);\r\n    batch = db.batch();\r\n  }\r\n```\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1779007459/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T10:55:11Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32829336306",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 26440463,
            "login": "google-oss-bot",
            "display_login": "google-oss-bot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/google-oss-bot",
            "avatar_url": "https://avatars.githubusercontent.com/u/26440463?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2349",
                "id": 1960933917,
                "node_id": "I_kwDOBRCtj8504Xod",
                "number": 2349,
                "title": "Session cookie refresh",
                "user": {
                    "login": "francescovenica",
                    "id": 30143154,
                    "node_id": "MDQ6VXNlcjMwMTQzMTU0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/30143154?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/francescovenica",
                    "html_url": "https://github.com/francescovenica",
                    "followers_url": "https://api.github.com/users/francescovenica/followers",
                    "following_url": "https://api.github.com/users/francescovenica/following{/other_user}",
                    "gists_url": "https://api.github.com/users/francescovenica/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/francescovenica/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/francescovenica/subscriptions",
                    "organizations_url": "https://api.github.com/users/francescovenica/orgs",
                    "repos_url": "https://api.github.com/users/francescovenica/repos",
                    "events_url": "https://api.github.com/users/francescovenica/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/francescovenica/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 606729841,
                        "node_id": "MDU6TGFiZWw2MDY3Mjk4NDE=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/needs-triage",
                        "name": "needs-triage",
                        "color": "f9d0c4",
                        "default": false,
                        "description": null
                    },
                    {
                        "id": 617868797,
                        "node_id": "MDU6TGFiZWw2MTc4Njg3OTc=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/type:%20feature%20request",
                        "name": "type: feature request",
                        "color": "fbca04",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-25T09:18:35Z",
                "updated_at": "2023-10-25T09:18:37Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "Hello I'm using Firebase Auth (actually gcp identity platform) with the session cookie in a NextJS app, everything is working fine but I'm looking a way to refresh the cookie to avoid forcing the user to login again when the session expire. There isn't an official way to do that but I might have found a solution, I'm just not 100% sure this is secure enough or if there are issues I'm missing, the idea is to have a refresh endpoint with this code:\r\n\r\n```\r\n    const idToken = req.cookies.session || req.body.sessionCookie;\r\n    const session = await auth().verifySessionCookie(idToken, true);\r\n\r\n    if (session) {\r\n      const customToken = await auth().createCustomToken(session.uid);\r\n\r\n      const response = await fetch(\r\n        `${GOOGLE_API}:signInWithCustomToken?key=${process.env.NEXT_PUBLIC_API_KEY}`,\r\n        {\r\n          method: \"POST\",\r\n          cache: \"no-cache\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ token: customToken, returnSecureToken: true }),\r\n        },\r\n      );\r\n\r\n      const result = await response.json();\r\n      const sessionCookie = await auth().createSessionCookie(result.idToken, {\r\n        expiresIn,\r\n      });\r\n\r\n      setCookie(res, \"session\", sessionCookie, {\r\n        ...cookieOptions,\r\n        maxAge: expiresIn,\r\n      });\r\n\r\n      return res.json({ session, customToken, sessionCookie });\r\n    }\r\n```\r\n\r\nthen every time I want I can call this refresh endpoint and the session will be updated...it seems to work but I'd like to have some feedback on this.",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1778853111",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2349#issuecomment-1778853111",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349",
                "id": 1778853111,
                "node_id": "IC_kwDOBRCtj85qByT3",
                "user": {
                    "login": "google-oss-bot",
                    "id": 26440463,
                    "node_id": "MDQ6VXNlcjI2NDQwNDYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/26440463?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/google-oss-bot",
                    "html_url": "https://github.com/google-oss-bot",
                    "followers_url": "https://api.github.com/users/google-oss-bot/followers",
                    "following_url": "https://api.github.com/users/google-oss-bot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/google-oss-bot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/google-oss-bot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/google-oss-bot/subscriptions",
                    "organizations_url": "https://api.github.com/users/google-oss-bot/orgs",
                    "repos_url": "https://api.github.com/users/google-oss-bot/repos",
                    "events_url": "https://api.github.com/users/google-oss-bot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/google-oss-bot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T09:18:37Z",
                "updated_at": "2023-10-25T09:18:37Z",
                "author_association": "NONE",
                "body": "I found a few problems with this issue:\n  * I couldn't figure out how to label this issue, so I've labeled it for a human to triage. Hang tight.\n  * This issue does not seem to follow the issue template. Make sure you provide all the required information.",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1778853111/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T09:18:38Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32829335552",
        "type": "IssuesEvent",
        "actor": {
            "id": 30143154,
            "login": "francescovenica",
            "display_login": "francescovenica",
            "gravatar_id": "",
            "url": "https://api.github.com/users/francescovenica",
            "avatar_url": "https://avatars.githubusercontent.com/u/30143154?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "opened",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2349",
                "id": 1960933917,
                "node_id": "I_kwDOBRCtj8504Xod",
                "number": 2349,
                "title": "Session cookie refresh",
                "user": {
                    "login": "francescovenica",
                    "id": 30143154,
                    "node_id": "MDQ6VXNlcjMwMTQzMTU0",
                    "avatar_url": "https://avatars.githubusercontent.com/u/30143154?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/francescovenica",
                    "html_url": "https://github.com/francescovenica",
                    "followers_url": "https://api.github.com/users/francescovenica/followers",
                    "following_url": "https://api.github.com/users/francescovenica/following{/other_user}",
                    "gists_url": "https://api.github.com/users/francescovenica/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/francescovenica/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/francescovenica/subscriptions",
                    "organizations_url": "https://api.github.com/users/francescovenica/orgs",
                    "repos_url": "https://api.github.com/users/francescovenica/repos",
                    "events_url": "https://api.github.com/users/francescovenica/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/francescovenica/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 617868797,
                        "node_id": "MDU6TGFiZWw2MTc4Njg3OTc=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/type:%20feature%20request",
                        "name": "type: feature request",
                        "color": "fbca04",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2023-10-25T09:18:35Z",
                "updated_at": "2023-10-25T09:18:35Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "Hello I'm using Firebase Auth (actually gcp identity platform) with the session cookie in a NextJS app, everything is working fine but I'm looking a way to refresh the cookie to avoid forcing the user to login again when the session expire. There isn't an official way to do that but I might have found a solution, I'm just not 100% sure this is secure enough or if there are issues I'm missing, the idea is to have a refresh endpoint with this code:\r\n\r\n```\r\n    const idToken = req.cookies.session || req.body.sessionCookie;\r\n    const session = await auth().verifySessionCookie(idToken, true);\r\n\r\n    if (session) {\r\n      const customToken = await auth().createCustomToken(session.uid);\r\n\r\n      const response = await fetch(\r\n        `${GOOGLE_API}:signInWithCustomToken?key=${process.env.NEXT_PUBLIC_API_KEY}`,\r\n        {\r\n          method: \"POST\",\r\n          cache: \"no-cache\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ token: customToken, returnSecureToken: true }),\r\n        },\r\n      );\r\n\r\n      const result = await response.json();\r\n      const sessionCookie = await auth().createSessionCookie(result.idToken, {\r\n        expiresIn,\r\n      });\r\n\r\n      setCookie(res, \"session\", sessionCookie, {\r\n        ...cookieOptions,\r\n        maxAge: expiresIn,\r\n      });\r\n\r\n      return res.json({ session, customToken, sessionCookie });\r\n    }\r\n```\r\n\r\nthen every time I want I can call this refresh endpoint and the session will be updated...it seems to work but I'd like to have some feedback on this.",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2349/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T09:18:36Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32825708440",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 43741277,
            "login": "DaniyalCuboid19",
            "display_login": "DaniyalCuboid19",
            "gravatar_id": "",
            "url": "https://api.github.com/users/DaniyalCuboid19",
            "avatar_url": "https://avatars.githubusercontent.com/u/43741277?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 45,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-25T07:10:25Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 16,
                    "+1": 16,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1778648857",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1778648857",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1778648857,
                "node_id": "IC_kwDOBRCtj85qBAcZ",
                "user": {
                    "login": "DaniyalCuboid19",
                    "id": 43741277,
                    "node_id": "MDQ6VXNlcjQzNzQxMjc3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/43741277?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/DaniyalCuboid19",
                    "html_url": "https://github.com/DaniyalCuboid19",
                    "followers_url": "https://api.github.com/users/DaniyalCuboid19/followers",
                    "following_url": "https://api.github.com/users/DaniyalCuboid19/following{/other_user}",
                    "gists_url": "https://api.github.com/users/DaniyalCuboid19/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/DaniyalCuboid19/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/DaniyalCuboid19/subscriptions",
                    "organizations_url": "https://api.github.com/users/DaniyalCuboid19/orgs",
                    "repos_url": "https://api.github.com/users/DaniyalCuboid19/repos",
                    "events_url": "https://api.github.com/users/DaniyalCuboid19/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/DaniyalCuboid19/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T07:10:25Z",
                "updated_at": "2023-10-25T07:10:25Z",
                "author_association": "NONE",
                "body": "> What Node.JS version are people using? OP mentioned 18.8 and we are curious what version others experienced this problem on.\r\n> \r\n> If you are using GCF, you can see the major Node.JS version in the \"Runtime\" dropdown list in the Code Editor.\r\n> \r\n> If you are running on a server, run `node --version`\r\nUsing GCP Pubsub\r\n- Node  : 18 \r\n-  firebase-admin : ^11.11.0\",\r\n- firebase-functions: \"^4.4.1\"",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1778648857/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T07:10:26Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32825480919",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 1061363,
            "login": "oyvindholmstad",
            "display_login": "oyvindholmstad",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oyvindholmstad",
            "avatar_url": "https://avatars.githubusercontent.com/u/1061363?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 44,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-25T07:00:59Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 16,
                    "+1": 16,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1778636844",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1778636844",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1778636844,
                "node_id": "IC_kwDOBRCtj85qA9gs",
                "user": {
                    "login": "oyvindholmstad",
                    "id": 1061363,
                    "node_id": "MDQ6VXNlcjEwNjEzNjM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1061363?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/oyvindholmstad",
                    "html_url": "https://github.com/oyvindholmstad",
                    "followers_url": "https://api.github.com/users/oyvindholmstad/followers",
                    "following_url": "https://api.github.com/users/oyvindholmstad/following{/other_user}",
                    "gists_url": "https://api.github.com/users/oyvindholmstad/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/oyvindholmstad/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/oyvindholmstad/subscriptions",
                    "organizations_url": "https://api.github.com/users/oyvindholmstad/orgs",
                    "repos_url": "https://api.github.com/users/oyvindholmstad/repos",
                    "events_url": "https://api.github.com/users/oyvindholmstad/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/oyvindholmstad/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T07:00:58Z",
                "updated_at": "2023-10-25T07:00:58Z",
                "author_association": "NONE",
                "body": "We are currently on:\r\n* Node 16.\r\n* firebase-admin: 11.3.0\r\n* firebase-functions: 4.4.0\r\n\r\nWe don't use nghttp2, so I don't understand how that can be relevant.\r\n\r\nI have been digging in our logs, and the first instance I can see of `RST_STREAM with code 1 `\u00a0is from 9. October. ",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1778636844/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T07:00:59Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32825024134",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 47540520,
            "login": "jobweegink",
            "display_login": "jobweegink",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jobweegink",
            "avatar_url": "https://avatars.githubusercontent.com/u/47540520?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 43,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-25T06:40:39Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 16,
                    "+1": 16,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1778610946",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1778610946",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1778610946,
                "node_id": "IC_kwDOBRCtj85qA3MC",
                "user": {
                    "login": "jobweegink",
                    "id": 47540520,
                    "node_id": "MDQ6VXNlcjQ3NTQwNTIw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/47540520?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jobweegink",
                    "html_url": "https://github.com/jobweegink",
                    "followers_url": "https://api.github.com/users/jobweegink/followers",
                    "following_url": "https://api.github.com/users/jobweegink/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jobweegink/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jobweegink/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jobweegink/subscriptions",
                    "organizations_url": "https://api.github.com/users/jobweegink/orgs",
                    "repos_url": "https://api.github.com/users/jobweegink/repos",
                    "events_url": "https://api.github.com/users/jobweegink/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jobweegink/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T06:40:39Z",
                "updated_at": "2023-10-25T06:40:39Z",
                "author_association": "NONE",
                "body": "> @TheRealFlyingCoder @narenpublic @jobweegink Are you able to reproduce the issue consistently locally? Would you be able to share the code you're running?\r\n\r\nI'm indeed able to reproduce it 100% of all the local executions, deployed it goes well for some reason.\r\nCheck the code below.\r\n\r\n```\r\n    async insertRecords(tenantID: string, moduleID: string, records: any[]): Promise<string[]>{\r\n        const result: string[] = [];\r\n        const batches: Promise<FirebaseFirestore.WriteResult[]>[] = []\r\n        let batchCounter: number = 0\r\n        let batch: FirebaseFirestore.WriteBatch = db.batch();\r\n\r\n        records.forEach(record => {\r\n\r\n            batchCounter += 1\r\n            const recordRef: FirebaseFirestore.DocumentReference = this.getRecordRef(tenantID, moduleID, record.ID);\r\n            record.ID = recordRef.id;\r\n            result.push(record.ID)\r\n            // console.log(\"Adding module update query for record : \" + moduleRecord.ID);\r\n            batch.set(recordRef, record, { merge: true });\r\n            if (batchCounter === AppConstraints.MAX_QUERY_LIMIT_PER_BATCH_QUERY) {\r\n                console.log(\"Commiting batch query with \" + AppConstraints.MAX_QUERY_LIMIT_PER_BATCH_QUERY + \" records\");\r\n                batches.push(batch.commit());\r\n                batch = db.batch();\r\n                batchCounter = 0;\r\n            }\r\n        });\r\n\r\n        if (batchCounter > 0) {\r\n            batches.push(batch.commit());\r\n        }\r\n\r\n        await Promise.all(batches);\r\n        console.log(\"Commited batch queries for records: \");\r\n        return result;\r\n    }\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1778610946/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T06:40:39Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    },
    {
        "id": "32823267377",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 44128199,
            "login": "mecclesgoogle",
            "display_login": "mecclesgoogle",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mecclesgoogle",
            "avatar_url": "https://avatars.githubusercontent.com/u/44128199?"
        },
        "repo": {
            "id": 84979087,
            "name": "firebase/firebase-admin-node",
            "url": "https://api.github.com/repos/firebase/firebase-admin-node"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "repository_url": "https://api.github.com/repos/firebase/firebase-admin-node",
                "labels_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/labels{/name}",
                "comments_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/comments",
                "events_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/events",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345",
                "id": 1953386212,
                "node_id": "I_kwDOBRCtj850bk7k",
                "number": 2345,
                "title": "Updating document - 'Received RST_STREAM with code 1'",
                "user": {
                    "login": "ryan-saffer",
                    "id": 36721381,
                    "node_id": "MDQ6VXNlcjM2NzIxMzgx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/36721381?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ryan-saffer",
                    "html_url": "https://github.com/ryan-saffer",
                    "followers_url": "https://api.github.com/users/ryan-saffer/followers",
                    "following_url": "https://api.github.com/users/ryan-saffer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ryan-saffer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ryan-saffer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ryan-saffer/subscriptions",
                    "organizations_url": "https://api.github.com/users/ryan-saffer/orgs",
                    "repos_url": "https://api.github.com/users/ryan-saffer/repos",
                    "events_url": "https://api.github.com/users/ryan-saffer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ryan-saffer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 731982522,
                        "node_id": "MDU6TGFiZWw3MzE5ODI1MjI=",
                        "url": "https://api.github.com/repos/firebase/firebase-admin-node/labels/api:%20firestore",
                        "name": "api: firestore",
                        "color": "b60205",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": {
                    "login": "ehsannas",
                    "id": 3828215,
                    "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/ehsannas",
                    "html_url": "https://github.com/ehsannas",
                    "followers_url": "https://api.github.com/users/ehsannas/followers",
                    "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                    "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                    "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                    "repos_url": "https://api.github.com/users/ehsannas/repos",
                    "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "ehsannas",
                        "id": 3828215,
                        "node_id": "MDQ6VXNlcjM4MjgyMTU=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/3828215?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/ehsannas",
                        "html_url": "https://github.com/ehsannas",
                        "followers_url": "https://api.github.com/users/ehsannas/followers",
                        "following_url": "https://api.github.com/users/ehsannas/following{/other_user}",
                        "gists_url": "https://api.github.com/users/ehsannas/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/ehsannas/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/ehsannas/subscriptions",
                        "organizations_url": "https://api.github.com/users/ehsannas/orgs",
                        "repos_url": "https://api.github.com/users/ehsannas/repos",
                        "events_url": "https://api.github.com/users/ehsannas/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/ehsannas/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": null,
                "comments": 42,
                "created_at": "2023-10-20T02:27:45Z",
                "updated_at": "2023-10-25T05:00:22Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### [REQUIRED] Step 2: Describe your environment\r\n\r\n  * Operating System version: Google Cloud Function Runtime (Gen 2) Node 18\r\n  * Firebase SDK version: 11.11.0\r\n  * Firebase Product: Firestore\r\n  * Node.js version: 18.18\r\n  * NPM version: 9.8.1\r\n\r\n### [REQUIRED] Step 3: Describe the problem\r\nRandomly receive error when updating a firestore document:\r\n```'13 INTERNAL: Received RST_STREAM with code 1'```\r\n\r\n#### Steps to reproduce:\r\n\r\nI am seeing the error occur randomly when using `ref.set(data, { merge: true })`\r\n\r\n#### Relevant Code:\r\n\r\n```typescript\r\nconst firestore = getFirestore()\r\nfirestore.setting({ ignoreUndefinedProperties: true })\r\n\r\nconst id = // existing document id\r\nconst newData = { foo: 'bar' }\r\ntry {\r\n  await  firestore.collection('bookings').doc(id).set(newData, { merge: true })\r\n} catch(error) {\r\n  console.log(error.message) // '13 INTERNAL: Received RST_STREAM with code 1'\r\n}\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/reactions",
                    "total_count": 16,
                    "+1": 16,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1778516320",
                "html_url": "https://github.com/firebase/firebase-admin-node/issues/2345#issuecomment-1778516320",
                "issue_url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/2345",
                "id": 1778516320,
                "node_id": "IC_kwDOBRCtj85qAgFg",
                "user": {
                    "login": "mecclesgoogle",
                    "id": 44128199,
                    "node_id": "MDQ6VXNlcjQ0MTI4MTk5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44128199?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mecclesgoogle",
                    "html_url": "https://github.com/mecclesgoogle",
                    "followers_url": "https://api.github.com/users/mecclesgoogle/followers",
                    "following_url": "https://api.github.com/users/mecclesgoogle/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mecclesgoogle/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mecclesgoogle/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mecclesgoogle/subscriptions",
                    "organizations_url": "https://api.github.com/users/mecclesgoogle/orgs",
                    "repos_url": "https://api.github.com/users/mecclesgoogle/repos",
                    "events_url": "https://api.github.com/users/mecclesgoogle/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mecclesgoogle/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T05:00:22Z",
                "updated_at": "2023-10-25T05:00:22Z",
                "author_association": "NONE",
                "body": "More specifically, what version of nghttp2 do you have?\r\n\r\nhttps://github.com/nghttp2/nghttp2/releases has made some changes recently that are possible suspects.\r\n\r\nYou can get the version from npm by running `npm list nghttp2` or by printing out the value of `process.versions ` (see npm list nghttp2)",
                "reactions": {
                    "url": "https://api.github.com/repos/firebase/firebase-admin-node/issues/comments/1778516320/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T05:00:22Z",
        "org": {
            "id": 1335026,
            "login": "firebase",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/firebase",
            "avatar_url": "https://avatars.githubusercontent.com/u/1335026?"
        }
    }
]