[
    {
        "id": "32879907703",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "repository_url": "https://api.github.com/repos/spring-projects/spring-integration",
                "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/labels{/name}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments",
                "events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/events",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                "id": 1964069542,
                "node_id": "PR_kwDOAB_n485d5Vcm",
                "number": 8780,
                "title": "GH-8778: Fix KafkaMessageSource deadlock",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2023-10-26T17:57:52Z",
                "updated_at": "2023-10-26T19:34:35Z",
                "closed_at": "2023-10-26T19:33:39Z",
                "author_association": "MEMBER",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                    "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                    "diff_url": "https://github.com/spring-projects/spring-integration/pull/8780.diff",
                    "patch_url": "https://github.com/spring-projects/spring-integration/pull/8780.patch",
                    "merged_at": "2023-10-26T19:33:38Z"
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body. That includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`. This way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work in their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part. Leave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle and return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1781781915",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780#issuecomment-1781781915",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "id": 1781781915,
                "node_id": "IC_kwDOAB_n485qM9Wb",
                "user": {
                    "login": "garyrussell",
                    "id": 483832,
                    "node_id": "MDQ6VXNlcjQ4MzgzMg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/483832?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/garyrussell",
                    "html_url": "https://github.com/garyrussell",
                    "followers_url": "https://api.github.com/users/garyrussell/followers",
                    "following_url": "https://api.github.com/users/garyrussell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/garyrussell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/garyrussell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/garyrussell/subscriptions",
                    "organizations_url": "https://api.github.com/users/garyrussell/orgs",
                    "repos_url": "https://api.github.com/users/garyrussell/repos",
                    "events_url": "https://api.github.com/users/garyrussell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/garyrussell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T19:34:35Z",
                "updated_at": "2023-10-26T19:34:35Z",
                "author_association": "MEMBER",
                "body": "...and cherry-picked.",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1781781915/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:34:35Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879904095",
        "type": "PushEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "repository_id": 2090979,
            "push_id": 15582189377,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/6.0.x",
            "head": "e5939f093b390254b935f675b8a2780739bbf0c9",
            "before": "3af38a6bac771f6074d078985928d72268b89876",
            "commits": [
                {
                    "sha": "e5939f093b390254b935f675b8a2780739bbf0c9",
                    "author": {
                        "email": "abilan@vmware.com",
                        "name": "Artem Bilan"
                    },
                    "message": "GH-8778: Fix KafkaMessageSource deadlock (#8780)\n\n* GH-8778: Fix KafkaMessageSource deadlock\r\n\r\nFixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body.\r\nThat includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`.\r\nThis way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work\r\nin their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part.\r\nLeave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle\r\nand return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n* * Use `compareAndSet` in `start` & `stop`",
                    "distinct": true,
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/commits/e5939f093b390254b935f675b8a2780739bbf0c9"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T19:34:26Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879898042",
        "type": "PushEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "repository_id": 2090979,
            "push_id": 15582186338,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/6.1.x",
            "head": "8cdead4a4435538cebe3fa24632ea32e14f40721",
            "before": "6ec2b88e1b3d7dd00cd0be2b446e626de566eecc",
            "commits": [
                {
                    "sha": "8cdead4a4435538cebe3fa24632ea32e14f40721",
                    "author": {
                        "email": "abilan@vmware.com",
                        "name": "Artem Bilan"
                    },
                    "message": "GH-8778: Fix KafkaMessageSource deadlock (#8780)\n\n* GH-8778: Fix KafkaMessageSource deadlock\r\n\r\nFixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body.\r\nThat includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`.\r\nThis way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work\r\nin their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part.\r\nLeave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle\r\nand return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n* * Use `compareAndSet` in `start` & `stop`",
                    "distinct": true,
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/commits/8cdead4a4435538cebe3fa24632ea32e14f40721"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T19:34:09Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879887743",
        "type": "IssuesEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778",
                "repository_url": "https://api.github.com/repos/spring-projects/spring-integration",
                "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/labels{/name}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/comments",
                "events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/events",
                "html_url": "https://github.com/spring-projects/spring-integration/issues/8778",
                "id": 1963869189,
                "node_id": "I_kwDOAB_n4851DkQF",
                "number": 8778,
                "title": "Deadlock in KafkaMessageSource - between isRunning and doReceive",
                "user": {
                    "login": "sobychacko",
                    "id": 827682,
                    "node_id": "MDQ6VXNlcjgyNzY4Mg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/827682?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/sobychacko",
                    "html_url": "https://github.com/sobychacko",
                    "followers_url": "https://api.github.com/users/sobychacko/followers",
                    "following_url": "https://api.github.com/users/sobychacko/following{/other_user}",
                    "gists_url": "https://api.github.com/users/sobychacko/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/sobychacko/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/sobychacko/subscriptions",
                    "organizations_url": "https://api.github.com/users/sobychacko/orgs",
                    "repos_url": "https://api.github.com/users/sobychacko/repos",
                    "events_url": "https://api.github.com/users/sobychacko/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/sobychacko/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1194823592,
                        "node_id": "MDU6TGFiZWwxMTk0ODIzNTky",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/type:%20bug",
                        "name": "type: bug",
                        "color": "ff0000",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 2260626397,
                        "node_id": "MDU6TGFiZWwyMjYwNjI2Mzk3",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/in:%20Kafka",
                        "name": "in: Kafka",
                        "color": "27ddc8",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 5210062895,
                        "node_id": "LA_kwDOAB_n488AAAABNotALw",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/backport%206.0.x",
                        "name": "backport 6.0.x",
                        "color": "e5c352",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 5562863939,
                        "node_id": "LA_kwDOAB_n488AAAABS5KRQw",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/backport%206.1.x",
                        "name": "backport 6.1.x",
                        "color": "e5c352",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "assignees": [
                    {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    }
                ],
                "milestone": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/milestones/305",
                    "html_url": "https://github.com/spring-projects/spring-integration/milestone/305",
                    "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones/305/labels",
                    "id": 9739959,
                    "node_id": "MI_kwDOAB_n484AlJ63",
                    "number": 305,
                    "title": "6.2.0",
                    "description": "",
                    "creator": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "open_issues": 1,
                    "closed_issues": 4,
                    "state": "open",
                    "created_at": "2023-08-03T19:10:54Z",
                    "updated_at": "2023-10-26T19:33:40Z",
                    "due_on": "2023-11-21T08:00:00Z",
                    "closed_at": null
                },
                "comments": 1,
                "created_at": "2023-10-26T15:52:05Z",
                "updated_at": "2023-10-26T19:33:40Z",
                "closed_at": "2023-10-26T19:33:40Z",
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "For more context: https://github.com/spring-cloud/spring-cloud-stream/issues/2675",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:33:41Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879887593",
        "type": "PushEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "repository_id": 2090979,
            "push_id": 15582181053,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/main",
            "head": "f0561b610d0c651b4c90e91851d875b8edb499f5",
            "before": "37fb37d7d8893796149243b5b865e71cbe23fbbc",
            "commits": [
                {
                    "sha": "f0561b610d0c651b4c90e91851d875b8edb499f5",
                    "author": {
                        "email": "abilan@vmware.com",
                        "name": "Artem Bilan"
                    },
                    "message": "GH-8778: Fix KafkaMessageSource deadlock (#8780)\n\n* GH-8778: Fix KafkaMessageSource deadlock\r\n\r\nFixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body.\r\nThat includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`.\r\nThis way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work\r\nin their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part.\r\nLeave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle\r\nand return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n* * Use `compareAndSet` in `start` & `stop`",
                    "distinct": true,
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/commits/f0561b610d0c651b4c90e91851d875b8edb499f5"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T19:33:40Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879887365",
        "type": "PullRequestEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "closed",
            "number": 8780,
            "pull_request": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                "id": 1575311142,
                "node_id": "PR_kwDOAB_n485d5Vcm",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                "diff_url": "https://github.com/spring-projects/spring-integration/pull/8780.diff",
                "patch_url": "https://github.com/spring-projects/spring-integration/pull/8780.patch",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "number": 8780,
                "state": "closed",
                "locked": false,
                "title": "GH-8778: Fix KafkaMessageSource deadlock",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body. That includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`. This way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work in their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part. Leave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle and return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "created_at": "2023-10-26T17:57:52Z",
                "updated_at": "2023-10-26T19:33:39Z",
                "closed_at": "2023-10-26T19:33:39Z",
                "merged_at": "2023-10-26T19:33:38Z",
                "merge_commit_sha": "f0561b610d0c651b4c90e91851d875b8edb499f5",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits",
                "review_comments_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments",
                "review_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments",
                "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/a0a878eb0cdea04207f8d9f82c90c04ab1edbbc9",
                "head": {
                    "label": "artembilan:GH-8778",
                    "ref": "GH-8778",
                    "sha": "a0a878eb0cdea04207f8d9f82c90c04ab1edbbc9",
                    "user": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2686240,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyNjg2MjQw",
                        "name": "spring-integration",
                        "full_name": "artembilan/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "artembilan",
                            "id": 1071590,
                            "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/artembilan",
                            "html_url": "https://github.com/artembilan",
                            "followers_url": "https://api.github.com/users/artembilan/followers",
                            "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                            "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                            "organizations_url": "https://api.github.com/users/artembilan/orgs",
                            "repos_url": "https://api.github.com/users/artembilan/repos",
                            "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/artembilan/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/artembilan/spring-integration",
                        "description": null,
                        "fork": true,
                        "url": "https://api.github.com/repos/artembilan/spring-integration",
                        "forks_url": "https://api.github.com/repos/artembilan/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/artembilan/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/artembilan/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/artembilan/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/artembilan/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/artembilan/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/artembilan/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/artembilan/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/artembilan/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/artembilan/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/artembilan/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/artembilan/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/artembilan/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/artembilan/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/artembilan/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/artembilan/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/artembilan/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/artembilan/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/artembilan/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/artembilan/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/artembilan/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/artembilan/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/artembilan/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/artembilan/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/artembilan/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/artembilan/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/artembilan/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/artembilan/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/artembilan/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/artembilan/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/artembilan/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/artembilan/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/artembilan/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/artembilan/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/artembilan/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/artembilan/spring-integration/deployments",
                        "created_at": "2011-11-01T08:04:04Z",
                        "updated_at": "2021-07-30T15:41:15Z",
                        "pushed_at": "2023-10-26T19:28:04Z",
                        "git_url": "git://github.com/artembilan/spring-integration.git",
                        "ssh_url": "git@github.com:artembilan/spring-integration.git",
                        "clone_url": "https://github.com/artembilan/spring-integration.git",
                        "svn_url": "https://github.com/artembilan/spring-integration",
                        "homepage": "",
                        "size": 65596,
                        "stargazers_count": 3,
                        "watchers_count": 3,
                        "language": "Java",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 3,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "spring-projects:main",
                    "ref": "main",
                    "sha": "769367deeaa11883b5e72bb96de0ed529302e6ce",
                    "user": {
                        "login": "spring-projects",
                        "id": 317776,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/spring-projects",
                        "html_url": "https://github.com/spring-projects",
                        "followers_url": "https://api.github.com/users/spring-projects/followers",
                        "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                        "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                        "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                        "repos_url": "https://api.github.com/users/spring-projects/repos",
                        "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2090979,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMDkwOTc5",
                        "name": "spring-integration",
                        "full_name": "spring-projects/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "spring-projects",
                            "id": 317776,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                            "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/spring-projects",
                            "html_url": "https://github.com/spring-projects",
                            "followers_url": "https://api.github.com/users/spring-projects/followers",
                            "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                            "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                            "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                            "repos_url": "https://api.github.com/users/spring-projects/repos",
                            "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/spring-projects/spring-integration",
                        "description": "Spring Integration provides an extension of the Spring programming model to support the well-known Enterprise Integration Patterns (EIP)",
                        "fork": false,
                        "url": "https://api.github.com/repos/spring-projects/spring-integration",
                        "forks_url": "https://api.github.com/repos/spring-projects/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/spring-projects/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/spring-projects/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/spring-projects/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/spring-projects/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/spring-projects/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/spring-projects/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/spring-projects/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/spring-projects/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/spring-projects/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/spring-projects/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/spring-projects/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/spring-projects/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/spring-projects/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/spring-projects/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/spring-projects/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/spring-projects/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/spring-projects/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/spring-projects/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/spring-projects/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/spring-projects/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/spring-projects/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/spring-projects/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/spring-projects/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/spring-projects/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/spring-projects/spring-integration/deployments",
                        "created_at": "2011-07-22T21:47:27Z",
                        "updated_at": "2023-10-26T03:49:45Z",
                        "pushed_at": "2023-10-26T19:33:38Z",
                        "git_url": "git://github.com/spring-projects/spring-integration.git",
                        "ssh_url": "git@github.com:spring-projects/spring-integration.git",
                        "clone_url": "https://github.com/spring-projects/spring-integration.git",
                        "svn_url": "https://github.com/spring-projects/spring-integration",
                        "homepage": "http://projects.spring.io/spring-integration/",
                        "size": 68212,
                        "stargazers_count": 1452,
                        "watchers_count": 1452,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": true,
                        "forks_count": 1057,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 126,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "eip",
                            "java",
                            "microservices",
                            "spring"
                        ],
                        "visibility": "public",
                        "forks": 1057,
                        "open_issues": 126,
                        "watchers": 1452,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780"
                    },
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8780"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/statuses/a0a878eb0cdea04207f8d9f82c90c04ab1edbbc9"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": true,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": {
                    "login": "garyrussell",
                    "id": 483832,
                    "node_id": "MDQ6VXNlcjQ4MzgzMg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/483832?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/garyrussell",
                    "html_url": "https://github.com/garyrussell",
                    "followers_url": "https://api.github.com/users/garyrussell/followers",
                    "following_url": "https://api.github.com/users/garyrussell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/garyrussell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/garyrussell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/garyrussell/subscriptions",
                    "organizations_url": "https://api.github.com/users/garyrussell/orgs",
                    "repos_url": "https://api.github.com/users/garyrussell/repos",
                    "events_url": "https://api.github.com/users/garyrussell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/garyrussell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "comments": 3,
                "review_comments": 2,
                "maintainer_can_modify": false,
                "commits": 2,
                "additions": 43,
                "deletions": 71,
                "changed_files": 1
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:33:40Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879882533",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1700511383,
                "node_id": "PRR_kwDOAB_n485lW76X",
                "user": {
                    "login": "garyrussell",
                    "id": 483832,
                    "node_id": "MDQ6VXNlcjQ4MzgzMg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/483832?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/garyrussell",
                    "html_url": "https://github.com/garyrussell",
                    "followers_url": "https://api.github.com/users/garyrussell/followers",
                    "following_url": "https://api.github.com/users/garyrussell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/garyrussell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/garyrussell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/garyrussell/subscriptions",
                    "organizations_url": "https://api.github.com/users/garyrussell/orgs",
                    "repos_url": "https://api.github.com/users/garyrussell/repos",
                    "events_url": "https://api.github.com/users/garyrussell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/garyrussell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "a0a878eb0cdea04207f8d9f82c90c04ab1edbbc9",
                "submitted_at": "2023-10-26T19:33:26Z",
                "state": "approved",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780#pullrequestreview-1700511383",
                "pull_request_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8780#pullrequestreview-1700511383"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                "id": 1575311142,
                "node_id": "PR_kwDOAB_n485d5Vcm",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                "diff_url": "https://github.com/spring-projects/spring-integration/pull/8780.diff",
                "patch_url": "https://github.com/spring-projects/spring-integration/pull/8780.patch",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "number": 8780,
                "state": "open",
                "locked": false,
                "title": "GH-8778: Fix KafkaMessageSource deadlock",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body. That includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`. This way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work in their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part. Leave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle and return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "created_at": "2023-10-26T17:57:52Z",
                "updated_at": "2023-10-26T19:33:26Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "2ebdc2227a0be271366de65b85d57b5c852b9e1a",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits",
                "review_comments_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments",
                "review_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments",
                "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/a0a878eb0cdea04207f8d9f82c90c04ab1edbbc9",
                "head": {
                    "label": "artembilan:GH-8778",
                    "ref": "GH-8778",
                    "sha": "a0a878eb0cdea04207f8d9f82c90c04ab1edbbc9",
                    "user": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2686240,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyNjg2MjQw",
                        "name": "spring-integration",
                        "full_name": "artembilan/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "artembilan",
                            "id": 1071590,
                            "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/artembilan",
                            "html_url": "https://github.com/artembilan",
                            "followers_url": "https://api.github.com/users/artembilan/followers",
                            "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                            "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                            "organizations_url": "https://api.github.com/users/artembilan/orgs",
                            "repos_url": "https://api.github.com/users/artembilan/repos",
                            "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/artembilan/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/artembilan/spring-integration",
                        "description": null,
                        "fork": true,
                        "url": "https://api.github.com/repos/artembilan/spring-integration",
                        "forks_url": "https://api.github.com/repos/artembilan/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/artembilan/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/artembilan/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/artembilan/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/artembilan/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/artembilan/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/artembilan/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/artembilan/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/artembilan/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/artembilan/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/artembilan/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/artembilan/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/artembilan/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/artembilan/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/artembilan/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/artembilan/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/artembilan/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/artembilan/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/artembilan/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/artembilan/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/artembilan/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/artembilan/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/artembilan/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/artembilan/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/artembilan/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/artembilan/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/artembilan/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/artembilan/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/artembilan/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/artembilan/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/artembilan/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/artembilan/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/artembilan/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/artembilan/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/artembilan/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/artembilan/spring-integration/deployments",
                        "created_at": "2011-11-01T08:04:04Z",
                        "updated_at": "2021-07-30T15:41:15Z",
                        "pushed_at": "2023-10-26T19:28:04Z",
                        "git_url": "git://github.com/artembilan/spring-integration.git",
                        "ssh_url": "git@github.com:artembilan/spring-integration.git",
                        "clone_url": "https://github.com/artembilan/spring-integration.git",
                        "svn_url": "https://github.com/artembilan/spring-integration",
                        "homepage": "",
                        "size": 65596,
                        "stargazers_count": 3,
                        "watchers_count": 3,
                        "language": "Java",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 3,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "spring-projects:main",
                    "ref": "main",
                    "sha": "769367deeaa11883b5e72bb96de0ed529302e6ce",
                    "user": {
                        "login": "spring-projects",
                        "id": 317776,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/spring-projects",
                        "html_url": "https://github.com/spring-projects",
                        "followers_url": "https://api.github.com/users/spring-projects/followers",
                        "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                        "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                        "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                        "repos_url": "https://api.github.com/users/spring-projects/repos",
                        "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2090979,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMDkwOTc5",
                        "name": "spring-integration",
                        "full_name": "spring-projects/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "spring-projects",
                            "id": 317776,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                            "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/spring-projects",
                            "html_url": "https://github.com/spring-projects",
                            "followers_url": "https://api.github.com/users/spring-projects/followers",
                            "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                            "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                            "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                            "repos_url": "https://api.github.com/users/spring-projects/repos",
                            "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/spring-projects/spring-integration",
                        "description": "Spring Integration provides an extension of the Spring programming model to support the well-known Enterprise Integration Patterns (EIP)",
                        "fork": false,
                        "url": "https://api.github.com/repos/spring-projects/spring-integration",
                        "forks_url": "https://api.github.com/repos/spring-projects/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/spring-projects/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/spring-projects/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/spring-projects/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/spring-projects/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/spring-projects/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/spring-projects/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/spring-projects/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/spring-projects/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/spring-projects/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/spring-projects/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/spring-projects/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/spring-projects/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/spring-projects/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/spring-projects/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/spring-projects/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/spring-projects/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/spring-projects/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/spring-projects/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/spring-projects/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/spring-projects/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/spring-projects/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/spring-projects/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/spring-projects/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/spring-projects/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/spring-projects/spring-integration/deployments",
                        "created_at": "2011-07-22T21:47:27Z",
                        "updated_at": "2023-10-26T03:49:45Z",
                        "pushed_at": "2023-10-26T19:30:10Z",
                        "git_url": "git://github.com/spring-projects/spring-integration.git",
                        "ssh_url": "git@github.com:spring-projects/spring-integration.git",
                        "clone_url": "https://github.com/spring-projects/spring-integration.git",
                        "svn_url": "https://github.com/spring-projects/spring-integration",
                        "homepage": "http://projects.spring.io/spring-integration/",
                        "size": 68212,
                        "stargazers_count": 1452,
                        "watchers_count": 1452,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": true,
                        "forks_count": 1057,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 127,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "eip",
                            "java",
                            "microservices",
                            "spring"
                        ],
                        "visibility": "public",
                        "forks": 1057,
                        "open_issues": 127,
                        "watchers": 1452,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780"
                    },
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8780"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/statuses/a0a878eb0cdea04207f8d9f82c90c04ab1edbbc9"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:33:26Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879814368",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781",
                "repository_url": "https://api.github.com/repos/spring-projects/spring-integration",
                "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781/labels{/name}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781/comments",
                "events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781/events",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8781",
                "id": 1964185717,
                "node_id": "PR_kwDOAB_n485d5voC",
                "number": 8781,
                "title": "GH-8779: MongoDbMS Fix distinct result conversion",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-26T18:57:16Z",
                "updated_at": "2023-10-26T19:30:19Z",
                "closed_at": "2023-10-26T19:29:03Z",
                "author_association": "MEMBER",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781",
                    "html_url": "https://github.com/spring-projects/spring-integration/pull/8781",
                    "diff_url": "https://github.com/spring-projects/spring-integration/pull/8781.diff",
                    "patch_url": "https://github.com/spring-projects/spring-integration/pull/8781.patch",
                    "merged_at": "2023-10-26T19:29:03Z"
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8779\r\n\r\nThe `MongoTemplate` has now a `findDistinct()` API with a smart result conversion instead of native driver plain expectations\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1781776482",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8781#issuecomment-1781776482",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781",
                "id": 1781776482,
                "node_id": "IC_kwDOAB_n485qM8Bi",
                "user": {
                    "login": "garyrussell",
                    "id": 483832,
                    "node_id": "MDQ6VXNlcjQ4MzgzMg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/483832?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/garyrussell",
                    "html_url": "https://github.com/garyrussell",
                    "followers_url": "https://api.github.com/users/garyrussell/followers",
                    "following_url": "https://api.github.com/users/garyrussell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/garyrussell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/garyrussell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/garyrussell/subscriptions",
                    "organizations_url": "https://api.github.com/users/garyrussell/orgs",
                    "repos_url": "https://api.github.com/users/garyrussell/repos",
                    "events_url": "https://api.github.com/users/garyrussell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/garyrussell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T19:30:19Z",
                "updated_at": "2023-10-26T19:30:19Z",
                "author_association": "MEMBER",
                "body": "...and cherry-picked.",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1781776482/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:30:20Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879811423",
        "type": "PushEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "repository_id": 2090979,
            "push_id": 15582143150,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/6.0.x",
            "head": "3af38a6bac771f6074d078985928d72268b89876",
            "before": "c7b5453212ed97733d8aff05b96bdff0eef427be",
            "commits": [
                {
                    "sha": "3af38a6bac771f6074d078985928d72268b89876",
                    "author": {
                        "email": "abilan@vmware.com",
                        "name": "Artem Bilan"
                    },
                    "message": "GH-8779: MongoDbMS Fix distinct result conversion (#8781)\n\nFixes https://github.com/spring-projects/spring-integration/issues/8779\r\n\r\nThe `MongoTemplate` has now a `findDistinct()` API with a smart\r\nresult conversion instead of native driver plain expectations\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**",
                    "distinct": true,
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/commits/3af38a6bac771f6074d078985928d72268b89876"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T19:30:12Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879800191",
        "type": "PushEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "repository_id": 2090979,
            "push_id": 15582137521,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/6.1.x",
            "head": "6ec2b88e1b3d7dd00cd0be2b446e626de566eecc",
            "before": "991d29eb153898e8e572938f7e24ee81248523e3",
            "commits": [
                {
                    "sha": "6ec2b88e1b3d7dd00cd0be2b446e626de566eecc",
                    "author": {
                        "email": "abilan@vmware.com",
                        "name": "Artem Bilan"
                    },
                    "message": "GH-8779: MongoDbMS Fix distinct result conversion (#8781)\n\nFixes https://github.com/spring-projects/spring-integration/issues/8779\r\n\r\nThe `MongoTemplate` has now a `findDistinct()` API with a smart\r\nresult conversion instead of native driver plain expectations\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**",
                    "distinct": true,
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/commits/6ec2b88e1b3d7dd00cd0be2b446e626de566eecc"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T19:29:43Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879786584",
        "type": "IssuesEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8779",
                "repository_url": "https://api.github.com/repos/spring-projects/spring-integration",
                "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8779/labels{/name}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8779/comments",
                "events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8779/events",
                "html_url": "https://github.com/spring-projects/spring-integration/issues/8779",
                "id": 1963991119,
                "node_id": "I_kwDOAB_n4851ECBP",
                "number": 8779,
                "title": "ConfigurableMongoDbMessageStore iterator doesn't handle id types other than String",
                "user": {
                    "login": "antonvovk",
                    "id": 57214290,
                    "node_id": "MDQ6VXNlcjU3MjE0Mjkw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/57214290?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/antonvovk",
                    "html_url": "https://github.com/antonvovk",
                    "followers_url": "https://api.github.com/users/antonvovk/followers",
                    "following_url": "https://api.github.com/users/antonvovk/following{/other_user}",
                    "gists_url": "https://api.github.com/users/antonvovk/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/antonvovk/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/antonvovk/subscriptions",
                    "organizations_url": "https://api.github.com/users/antonvovk/orgs",
                    "repos_url": "https://api.github.com/users/antonvovk/repos",
                    "events_url": "https://api.github.com/users/antonvovk/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/antonvovk/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1194823592,
                        "node_id": "MDU6TGFiZWwxMTk0ODIzNTky",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/type:%20bug",
                        "name": "type: bug",
                        "color": "ff0000",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 1261155015,
                        "node_id": "MDU6TGFiZWwxMjYxMTU1MDE1",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/in:%20mongodb",
                        "name": "in: mongodb",
                        "color": "27ddc8",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 5210062895,
                        "node_id": "LA_kwDOAB_n488AAAABNotALw",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/backport%206.0.x",
                        "name": "backport 6.0.x",
                        "color": "e5c352",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 5562863939,
                        "node_id": "LA_kwDOAB_n488AAAABS5KRQw",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/backport%206.1.x",
                        "name": "backport 6.1.x",
                        "color": "e5c352",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/milestones/305",
                    "html_url": "https://github.com/spring-projects/spring-integration/milestone/305",
                    "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones/305/labels",
                    "id": 9739959,
                    "node_id": "MI_kwDOAB_n484AlJ63",
                    "number": 305,
                    "title": "6.2.0",
                    "description": "",
                    "creator": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "open_issues": 2,
                    "closed_issues": 3,
                    "state": "open",
                    "created_at": "2023-08-03T19:10:54Z",
                    "updated_at": "2023-10-26T19:29:05Z",
                    "due_on": "2023-11-21T08:00:00Z",
                    "closed_at": null
                },
                "comments": 0,
                "created_at": "2023-10-26T17:02:29Z",
                "updated_at": "2023-10-26T19:29:05Z",
                "closed_at": "2023-10-26T19:29:04Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "**In what version(s) of Spring Integration are you seeing this issue?**\r\n6.1.4\r\n\r\n**Describe the bug**\r\nSo here (in ConfigurableMongoDbMessageStore) the resultClass is hardcoded to String but it could be for example UUID.\r\n```java\r\n@Override\r\npublic Iterator<MessageGroup> iterator() {\r\n  Query query = Query.query(Criteria.where(MessageDocumentFields.GROUP_ID).exists(true));\r\n  Iterable<String> groupIds = getMongoTemplate().getCollection(collectionName)\r\n\t\t  .distinct(MessageDocumentFields.GROUP_ID, query.getQueryObject(), String.class);\r\n  \r\n  return StreamSupport.stream(groupIds.spliterator(), false)\r\n\t\t  .map(this::getMessageGroup)\r\n\t\t  .iterator();\r\n\r\n}\r\n``` \r\nThe stack trace when using the UUID as id below:\r\n```java\r\norg.bson.BsonInvalidOperationException: readString can only be called when CurrentBSONType is STRING, not when CurrentBSONType is BINARY.\r\n\tat org.bson.AbstractBsonReader.verifyBSONType(AbstractBsonReader.java:689)\r\n\tat org.bson.AbstractBsonReader.checkPreconditions(AbstractBsonReader.java:721)\r\n\tat org.bson.AbstractBsonReader.readString(AbstractBsonReader.java:456)\r\n\tat org.bson.codecs.StringCodec.decode(StringCodec.java:80)\r\n\tat org.bson.codecs.StringCodec.decode(StringCodec.java:31)\r\n\tat com.mongodb.internal.operation.CommandResultArrayCodec.decode(CommandResultArrayCodec.java:52)\r\n\tat com.mongodb.internal.operation.CommandResultDocumentCodec.readValue(CommandResultDocumentCodec.java:60)\r\n\tat org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:87)\r\n\tat org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:42)\r\n\tat com.mongodb.internal.connection.ReplyMessage.<init>(ReplyMessage.java:48)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.getCommandResult(InternalStreamConnection.java:560)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:450)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:365)\r\n\tat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114)\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:643)\r\n\tat com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:73)\r\n\tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:204)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:122)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:87)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:76)\r\n\tat com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:288)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.createReadCommandAndExecute(CommandOperationHelper.java:239)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.lambda$executeRetryableRead$4(CommandOperationHelper.java:220)\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$0(OperationHelper.java:358)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:383)\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$1(OperationHelper.java:357)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:383)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:356)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.lambda$executeRetryableRead$5(CommandOperationHelper.java:218)\r\n\tat com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.executeRetryableRead(CommandOperationHelper.java:223)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.executeRetryableRead(CommandOperationHelper.java:204)\r\n\tat com.mongodb.internal.operation.DistinctOperation.execute(DistinctOperation.java:122)\r\n\tat com.mongodb.internal.operation.DistinctOperation.execute(DistinctOperation.java:54)\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:185)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:130)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:90)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:37)\r\n\tat java.base/java.lang.Iterable.spliterator(Iterable.java:101)\r\n\tat org.springframework.integration.mongodb.store.ConfigurableMongoDbMessageStore.iterator(ConfigurableMongoDbMessageStore.java:245)\r\n\tat org.springframework.integration.store.AbstractMessageGroupStore.expireMessageGroups(AbstractMessageGroupStore.java:128)\r\n``` \r\n\r\n**To Reproduce**\r\nIn CorrelationStrategy -> Object getCorrelationKey(Message<?> message) return UUID.\r\n\r\n**Expected behavior**\r\nIt should be able to handle different types of IDs.\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8779/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8779/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:29:05Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879786473",
        "type": "PushEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "repository_id": 2090979,
            "push_id": 15582130895,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/main",
            "head": "37fb37d7d8893796149243b5b865e71cbe23fbbc",
            "before": "769367deeaa11883b5e72bb96de0ed529302e6ce",
            "commits": [
                {
                    "sha": "37fb37d7d8893796149243b5b865e71cbe23fbbc",
                    "author": {
                        "email": "abilan@vmware.com",
                        "name": "Artem Bilan"
                    },
                    "message": "GH-8779: MongoDbMS Fix distinct result conversion (#8781)\n\nFixes https://github.com/spring-projects/spring-integration/issues/8779\r\n\r\nThe `MongoTemplate` has now a `findDistinct()` API with a smart\r\nresult conversion instead of native driver plain expectations\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**",
                    "distinct": true,
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/commits/37fb37d7d8893796149243b5b865e71cbe23fbbc"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T19:29:05Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879786229",
        "type": "PullRequestEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "closed",
            "number": 8781,
            "pull_request": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781",
                "id": 1575418370,
                "node_id": "PR_kwDOAB_n485d5voC",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8781",
                "diff_url": "https://github.com/spring-projects/spring-integration/pull/8781.diff",
                "patch_url": "https://github.com/spring-projects/spring-integration/pull/8781.patch",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781",
                "number": 8781,
                "state": "closed",
                "locked": false,
                "title": "GH-8779: MongoDbMS Fix distinct result conversion",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8779\r\n\r\nThe `MongoTemplate` has now a `findDistinct()` API with a smart result conversion instead of native driver plain expectations\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "created_at": "2023-10-26T18:57:16Z",
                "updated_at": "2023-10-26T19:29:03Z",
                "closed_at": "2023-10-26T19:29:03Z",
                "merged_at": "2023-10-26T19:29:03Z",
                "merge_commit_sha": "37fb37d7d8893796149243b5b865e71cbe23fbbc",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781/commits",
                "review_comments_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781/comments",
                "review_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781/comments",
                "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/ca9aef4167ef8e4b8f646870b9540e0bd4226a59",
                "head": {
                    "label": "artembilan:GH-8779",
                    "ref": "GH-8779",
                    "sha": "ca9aef4167ef8e4b8f646870b9540e0bd4226a59",
                    "user": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2686240,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyNjg2MjQw",
                        "name": "spring-integration",
                        "full_name": "artembilan/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "artembilan",
                            "id": 1071590,
                            "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/artembilan",
                            "html_url": "https://github.com/artembilan",
                            "followers_url": "https://api.github.com/users/artembilan/followers",
                            "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                            "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                            "organizations_url": "https://api.github.com/users/artembilan/orgs",
                            "repos_url": "https://api.github.com/users/artembilan/repos",
                            "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/artembilan/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/artembilan/spring-integration",
                        "description": null,
                        "fork": true,
                        "url": "https://api.github.com/repos/artembilan/spring-integration",
                        "forks_url": "https://api.github.com/repos/artembilan/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/artembilan/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/artembilan/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/artembilan/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/artembilan/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/artembilan/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/artembilan/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/artembilan/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/artembilan/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/artembilan/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/artembilan/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/artembilan/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/artembilan/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/artembilan/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/artembilan/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/artembilan/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/artembilan/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/artembilan/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/artembilan/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/artembilan/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/artembilan/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/artembilan/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/artembilan/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/artembilan/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/artembilan/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/artembilan/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/artembilan/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/artembilan/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/artembilan/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/artembilan/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/artembilan/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/artembilan/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/artembilan/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/artembilan/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/artembilan/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/artembilan/spring-integration/deployments",
                        "created_at": "2011-11-01T08:04:04Z",
                        "updated_at": "2021-07-30T15:41:15Z",
                        "pushed_at": "2023-10-26T19:28:04Z",
                        "git_url": "git://github.com/artembilan/spring-integration.git",
                        "ssh_url": "git@github.com:artembilan/spring-integration.git",
                        "clone_url": "https://github.com/artembilan/spring-integration.git",
                        "svn_url": "https://github.com/artembilan/spring-integration",
                        "homepage": "",
                        "size": 65596,
                        "stargazers_count": 3,
                        "watchers_count": 3,
                        "language": "Java",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 3,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "spring-projects:main",
                    "ref": "main",
                    "sha": "769367deeaa11883b5e72bb96de0ed529302e6ce",
                    "user": {
                        "login": "spring-projects",
                        "id": 317776,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/spring-projects",
                        "html_url": "https://github.com/spring-projects",
                        "followers_url": "https://api.github.com/users/spring-projects/followers",
                        "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                        "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                        "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                        "repos_url": "https://api.github.com/users/spring-projects/repos",
                        "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2090979,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMDkwOTc5",
                        "name": "spring-integration",
                        "full_name": "spring-projects/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "spring-projects",
                            "id": 317776,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                            "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/spring-projects",
                            "html_url": "https://github.com/spring-projects",
                            "followers_url": "https://api.github.com/users/spring-projects/followers",
                            "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                            "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                            "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                            "repos_url": "https://api.github.com/users/spring-projects/repos",
                            "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/spring-projects/spring-integration",
                        "description": "Spring Integration provides an extension of the Spring programming model to support the well-known Enterprise Integration Patterns (EIP)",
                        "fork": false,
                        "url": "https://api.github.com/repos/spring-projects/spring-integration",
                        "forks_url": "https://api.github.com/repos/spring-projects/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/spring-projects/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/spring-projects/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/spring-projects/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/spring-projects/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/spring-projects/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/spring-projects/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/spring-projects/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/spring-projects/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/spring-projects/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/spring-projects/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/spring-projects/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/spring-projects/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/spring-projects/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/spring-projects/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/spring-projects/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/spring-projects/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/spring-projects/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/spring-projects/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/spring-projects/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/spring-projects/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/spring-projects/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/spring-projects/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/spring-projects/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/spring-projects/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/spring-projects/spring-integration/deployments",
                        "created_at": "2011-07-22T21:47:27Z",
                        "updated_at": "2023-10-26T03:49:45Z",
                        "pushed_at": "2023-10-26T19:29:03Z",
                        "git_url": "git://github.com/spring-projects/spring-integration.git",
                        "ssh_url": "git@github.com:spring-projects/spring-integration.git",
                        "clone_url": "https://github.com/spring-projects/spring-integration.git",
                        "svn_url": "https://github.com/spring-projects/spring-integration",
                        "homepage": "http://projects.spring.io/spring-integration/",
                        "size": 68212,
                        "stargazers_count": 1452,
                        "watchers_count": 1452,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": true,
                        "forks_count": 1057,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 128,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "eip",
                            "java",
                            "microservices",
                            "spring"
                        ],
                        "visibility": "public",
                        "forks": 1057,
                        "open_issues": 128,
                        "watchers": 1452,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781"
                    },
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8781"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/statuses/ca9aef4167ef8e4b8f646870b9540e0bd4226a59"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": true,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": {
                    "login": "garyrussell",
                    "id": 483832,
                    "node_id": "MDQ6VXNlcjQ4MzgzMg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/483832?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/garyrussell",
                    "html_url": "https://github.com/garyrussell",
                    "followers_url": "https://api.github.com/users/garyrussell/followers",
                    "following_url": "https://api.github.com/users/garyrussell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/garyrussell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/garyrussell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/garyrussell/subscriptions",
                    "organizations_url": "https://api.github.com/users/garyrussell/orgs",
                    "repos_url": "https://api.github.com/users/garyrussell/repos",
                    "events_url": "https://api.github.com/users/garyrussell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/garyrussell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": false,
                "commits": 1,
                "additions": 5,
                "deletions": 5,
                "changed_files": 3
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:29:04Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879783894",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1700504987,
                "node_id": "PRR_kwDOAB_n485lW6Wb",
                "user": {
                    "login": "garyrussell",
                    "id": 483832,
                    "node_id": "MDQ6VXNlcjQ4MzgzMg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/483832?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/garyrussell",
                    "html_url": "https://github.com/garyrussell",
                    "followers_url": "https://api.github.com/users/garyrussell/followers",
                    "following_url": "https://api.github.com/users/garyrussell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/garyrussell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/garyrussell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/garyrussell/subscriptions",
                    "organizations_url": "https://api.github.com/users/garyrussell/orgs",
                    "repos_url": "https://api.github.com/users/garyrussell/repos",
                    "events_url": "https://api.github.com/users/garyrussell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/garyrussell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "",
                "commit_id": "ca9aef4167ef8e4b8f646870b9540e0bd4226a59",
                "submitted_at": "2023-10-26T19:28:56Z",
                "state": "approved",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8781#pullrequestreview-1700504987",
                "pull_request_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8781#pullrequestreview-1700504987"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781",
                "id": 1575418370,
                "node_id": "PR_kwDOAB_n485d5voC",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8781",
                "diff_url": "https://github.com/spring-projects/spring-integration/pull/8781.diff",
                "patch_url": "https://github.com/spring-projects/spring-integration/pull/8781.patch",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781",
                "number": 8781,
                "state": "open",
                "locked": false,
                "title": "GH-8779: MongoDbMS Fix distinct result conversion",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8779\r\n\r\nThe `MongoTemplate` has now a `findDistinct()` API with a smart result conversion instead of native driver plain expectations\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "created_at": "2023-10-26T18:57:16Z",
                "updated_at": "2023-10-26T19:28:56Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "afc88ec398006d13ac3b88b82219e1bf191521b5",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781/commits",
                "review_comments_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781/comments",
                "review_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781/comments",
                "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/ca9aef4167ef8e4b8f646870b9540e0bd4226a59",
                "head": {
                    "label": "artembilan:GH-8779",
                    "ref": "GH-8779",
                    "sha": "ca9aef4167ef8e4b8f646870b9540e0bd4226a59",
                    "user": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2686240,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyNjg2MjQw",
                        "name": "spring-integration",
                        "full_name": "artembilan/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "artembilan",
                            "id": 1071590,
                            "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/artembilan",
                            "html_url": "https://github.com/artembilan",
                            "followers_url": "https://api.github.com/users/artembilan/followers",
                            "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                            "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                            "organizations_url": "https://api.github.com/users/artembilan/orgs",
                            "repos_url": "https://api.github.com/users/artembilan/repos",
                            "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/artembilan/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/artembilan/spring-integration",
                        "description": null,
                        "fork": true,
                        "url": "https://api.github.com/repos/artembilan/spring-integration",
                        "forks_url": "https://api.github.com/repos/artembilan/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/artembilan/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/artembilan/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/artembilan/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/artembilan/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/artembilan/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/artembilan/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/artembilan/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/artembilan/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/artembilan/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/artembilan/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/artembilan/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/artembilan/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/artembilan/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/artembilan/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/artembilan/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/artembilan/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/artembilan/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/artembilan/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/artembilan/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/artembilan/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/artembilan/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/artembilan/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/artembilan/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/artembilan/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/artembilan/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/artembilan/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/artembilan/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/artembilan/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/artembilan/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/artembilan/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/artembilan/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/artembilan/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/artembilan/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/artembilan/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/artembilan/spring-integration/deployments",
                        "created_at": "2011-11-01T08:04:04Z",
                        "updated_at": "2021-07-30T15:41:15Z",
                        "pushed_at": "2023-10-26T19:28:04Z",
                        "git_url": "git://github.com/artembilan/spring-integration.git",
                        "ssh_url": "git@github.com:artembilan/spring-integration.git",
                        "clone_url": "https://github.com/artembilan/spring-integration.git",
                        "svn_url": "https://github.com/artembilan/spring-integration",
                        "homepage": "",
                        "size": 65596,
                        "stargazers_count": 3,
                        "watchers_count": 3,
                        "language": "Java",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 3,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "spring-projects:main",
                    "ref": "main",
                    "sha": "769367deeaa11883b5e72bb96de0ed529302e6ce",
                    "user": {
                        "login": "spring-projects",
                        "id": 317776,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/spring-projects",
                        "html_url": "https://github.com/spring-projects",
                        "followers_url": "https://api.github.com/users/spring-projects/followers",
                        "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                        "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                        "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                        "repos_url": "https://api.github.com/users/spring-projects/repos",
                        "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2090979,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMDkwOTc5",
                        "name": "spring-integration",
                        "full_name": "spring-projects/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "spring-projects",
                            "id": 317776,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                            "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/spring-projects",
                            "html_url": "https://github.com/spring-projects",
                            "followers_url": "https://api.github.com/users/spring-projects/followers",
                            "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                            "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                            "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                            "repos_url": "https://api.github.com/users/spring-projects/repos",
                            "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/spring-projects/spring-integration",
                        "description": "Spring Integration provides an extension of the Spring programming model to support the well-known Enterprise Integration Patterns (EIP)",
                        "fork": false,
                        "url": "https://api.github.com/repos/spring-projects/spring-integration",
                        "forks_url": "https://api.github.com/repos/spring-projects/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/spring-projects/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/spring-projects/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/spring-projects/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/spring-projects/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/spring-projects/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/spring-projects/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/spring-projects/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/spring-projects/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/spring-projects/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/spring-projects/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/spring-projects/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/spring-projects/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/spring-projects/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/spring-projects/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/spring-projects/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/spring-projects/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/spring-projects/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/spring-projects/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/spring-projects/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/spring-projects/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/spring-projects/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/spring-projects/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/spring-projects/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/spring-projects/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/spring-projects/spring-integration/deployments",
                        "created_at": "2011-07-22T21:47:27Z",
                        "updated_at": "2023-10-26T03:49:45Z",
                        "pushed_at": "2023-10-26T19:28:08Z",
                        "git_url": "git://github.com/spring-projects/spring-integration.git",
                        "ssh_url": "git@github.com:spring-projects/spring-integration.git",
                        "clone_url": "https://github.com/spring-projects/spring-integration.git",
                        "svn_url": "https://github.com/spring-projects/spring-integration",
                        "homepage": "http://projects.spring.io/spring-integration/",
                        "size": 68212,
                        "stargazers_count": 1452,
                        "watchers_count": 1452,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": true,
                        "forks_count": 1057,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 129,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "eip",
                            "java",
                            "microservices",
                            "spring"
                        ],
                        "visibility": "public",
                        "forks": 1057,
                        "open_issues": 129,
                        "watchers": 1452,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781"
                    },
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8781"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/statuses/ca9aef4167ef8e4b8f646870b9540e0bd4226a59"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:28:57Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879696351",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 1071590,
            "login": "artembilan",
            "display_login": "artembilan",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artembilan",
            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "repository_url": "https://api.github.com/repos/spring-projects/spring-integration",
                "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/labels{/name}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments",
                "events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/events",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                "id": 1964069542,
                "node_id": "PR_kwDOAB_n485d5Vcm",
                "number": 8780,
                "title": "GH-8778: Fix KafkaMessageSource deadlock",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2023-10-26T17:57:52Z",
                "updated_at": "2023-10-26T19:25:04Z",
                "closed_at": null,
                "author_association": "MEMBER",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                    "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                    "diff_url": "https://github.com/spring-projects/spring-integration/pull/8780.diff",
                    "patch_url": "https://github.com/spring-projects/spring-integration/pull/8780.patch",
                    "merged_at": null
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body. That includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`. This way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work in their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part. Leave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle and return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1781769187",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780#issuecomment-1781769187",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "id": 1781769187,
                "node_id": "IC_kwDOAB_n485qM6Pj",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T19:25:03Z",
                "updated_at": "2023-10-26T19:25:03Z",
                "author_association": "MEMBER",
                "body": "> This won't cherry-pick because of the `ReentrantLock`.\r\n\r\nI have back-ported today such a fix: https://github.com/spring-projects/spring-integration/commit/991d29eb153898e8e572938f7e24ee81248523e3\r\nExactly for a simple review and back-port process of this PR.",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1781769187/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:25:04Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879527864",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1700476369,
                "node_id": "PRR_kwDOAB_n485lWzXR",
                "user": {
                    "login": "garyrussell",
                    "id": 483832,
                    "node_id": "MDQ6VXNlcjQ4MzgzMg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/483832?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/garyrussell",
                    "html_url": "https://github.com/garyrussell",
                    "followers_url": "https://api.github.com/users/garyrussell/followers",
                    "following_url": "https://api.github.com/users/garyrussell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/garyrussell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/garyrussell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/garyrussell/subscriptions",
                    "organizations_url": "https://api.github.com/users/garyrussell/orgs",
                    "repos_url": "https://api.github.com/users/garyrussell/repos",
                    "events_url": "https://api.github.com/users/garyrussell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/garyrussell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "This won't cherry-pick because of the `ReentrantLock`.",
                "commit_id": "b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                "submitted_at": "2023-10-26T19:17:46Z",
                "state": "changes_requested",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780#pullrequestreview-1700476369",
                "pull_request_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8780#pullrequestreview-1700476369"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                "id": 1575311142,
                "node_id": "PR_kwDOAB_n485d5Vcm",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                "diff_url": "https://github.com/spring-projects/spring-integration/pull/8780.diff",
                "patch_url": "https://github.com/spring-projects/spring-integration/pull/8780.patch",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "number": 8780,
                "state": "open",
                "locked": false,
                "title": "GH-8778: Fix KafkaMessageSource deadlock",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body. That includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`. This way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work in their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part. Leave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle and return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "created_at": "2023-10-26T17:57:52Z",
                "updated_at": "2023-10-26T19:17:46Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "738b2665cfda66df247f4dfc0aa0f0dcf12e22ad",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits",
                "review_comments_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments",
                "review_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments",
                "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                "head": {
                    "label": "artembilan:GH-8778",
                    "ref": "GH-8778",
                    "sha": "b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                    "user": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2686240,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyNjg2MjQw",
                        "name": "spring-integration",
                        "full_name": "artembilan/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "artembilan",
                            "id": 1071590,
                            "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/artembilan",
                            "html_url": "https://github.com/artembilan",
                            "followers_url": "https://api.github.com/users/artembilan/followers",
                            "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                            "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                            "organizations_url": "https://api.github.com/users/artembilan/orgs",
                            "repos_url": "https://api.github.com/users/artembilan/repos",
                            "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/artembilan/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/artembilan/spring-integration",
                        "description": null,
                        "fork": true,
                        "url": "https://api.github.com/repos/artembilan/spring-integration",
                        "forks_url": "https://api.github.com/repos/artembilan/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/artembilan/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/artembilan/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/artembilan/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/artembilan/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/artembilan/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/artembilan/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/artembilan/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/artembilan/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/artembilan/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/artembilan/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/artembilan/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/artembilan/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/artembilan/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/artembilan/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/artembilan/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/artembilan/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/artembilan/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/artembilan/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/artembilan/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/artembilan/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/artembilan/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/artembilan/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/artembilan/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/artembilan/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/artembilan/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/artembilan/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/artembilan/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/artembilan/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/artembilan/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/artembilan/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/artembilan/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/artembilan/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/artembilan/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/artembilan/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/artembilan/spring-integration/deployments",
                        "created_at": "2011-11-01T08:04:04Z",
                        "updated_at": "2021-07-30T15:41:15Z",
                        "pushed_at": "2023-10-26T18:57:01Z",
                        "git_url": "git://github.com/artembilan/spring-integration.git",
                        "ssh_url": "git@github.com:artembilan/spring-integration.git",
                        "clone_url": "https://github.com/artembilan/spring-integration.git",
                        "svn_url": "https://github.com/artembilan/spring-integration",
                        "homepage": "",
                        "size": 65596,
                        "stargazers_count": 3,
                        "watchers_count": 3,
                        "language": "Java",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 3,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "spring-projects:main",
                    "ref": "main",
                    "sha": "769367deeaa11883b5e72bb96de0ed529302e6ce",
                    "user": {
                        "login": "spring-projects",
                        "id": 317776,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/spring-projects",
                        "html_url": "https://github.com/spring-projects",
                        "followers_url": "https://api.github.com/users/spring-projects/followers",
                        "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                        "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                        "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                        "repos_url": "https://api.github.com/users/spring-projects/repos",
                        "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2090979,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMDkwOTc5",
                        "name": "spring-integration",
                        "full_name": "spring-projects/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "spring-projects",
                            "id": 317776,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                            "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/spring-projects",
                            "html_url": "https://github.com/spring-projects",
                            "followers_url": "https://api.github.com/users/spring-projects/followers",
                            "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                            "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                            "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                            "repos_url": "https://api.github.com/users/spring-projects/repos",
                            "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/spring-projects/spring-integration",
                        "description": "Spring Integration provides an extension of the Spring programming model to support the well-known Enterprise Integration Patterns (EIP)",
                        "fork": false,
                        "url": "https://api.github.com/repos/spring-projects/spring-integration",
                        "forks_url": "https://api.github.com/repos/spring-projects/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/spring-projects/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/spring-projects/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/spring-projects/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/spring-projects/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/spring-projects/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/spring-projects/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/spring-projects/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/spring-projects/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/spring-projects/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/spring-projects/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/spring-projects/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/spring-projects/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/spring-projects/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/spring-projects/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/spring-projects/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/spring-projects/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/spring-projects/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/spring-projects/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/spring-projects/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/spring-projects/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/spring-projects/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/spring-projects/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/spring-projects/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/spring-projects/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/spring-projects/spring-integration/deployments",
                        "created_at": "2011-07-22T21:47:27Z",
                        "updated_at": "2023-10-26T03:49:45Z",
                        "pushed_at": "2023-10-26T18:57:17Z",
                        "git_url": "git://github.com/spring-projects/spring-integration.git",
                        "ssh_url": "git@github.com:spring-projects/spring-integration.git",
                        "clone_url": "https://github.com/spring-projects/spring-integration.git",
                        "svn_url": "https://github.com/spring-projects/spring-integration",
                        "homepage": "http://projects.spring.io/spring-integration/",
                        "size": 68212,
                        "stargazers_count": 1452,
                        "watchers_count": 1452,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": true,
                        "forks_count": 1057,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 129,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "eip",
                            "java",
                            "microservices",
                            "spring"
                        ],
                        "visibility": "public",
                        "forks": 1057,
                        "open_issues": 129,
                        "watchers": 1452,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780"
                    },
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8780"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/statuses/b8dd5188e28300d3a1abef63e2c6311f12246fbd"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:17:47Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879528020",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments/1373699289",
                "pull_request_review_id": 1700476369,
                "id": 1373699289,
                "node_id": "PRRC_kwDOAB_n485R4PzZ",
                "diff_hunk": "@@ -409,104 +410,72 @@ private boolean maxPollStringGtr1(Object maxPoll) {\n \n \t@Override\n \tpublic boolean isRunning() {\n-\t\tthis.lock.lock();\n-\t\ttry {\n-\t\t\treturn this.running;\n-\t\t}\n-\t\tfinally {\n-\t\t\tthis.lock.unlock();\n-\t\t}\n+\t\treturn this.running.get();\n \t}\n \n \t@Override\n \tpublic void start() {\n-\t\tthis.lock.lock();\n-\t\ttry {\n-\t\t\tthis.running = true;\n-\t\t\tthis.stopped = false;\n-\t\t}\n-\t\tfinally {\n-\t\t\tthis.lock.unlock();\n-\t\t}\n+\t\tthis.running.set(true);",
                "path": "spring-integration-kafka/src/main/java/org/springframework/integration/kafka/inbound/KafkaMessageSource.java",
                "commit_id": "b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                "original_commit_id": "b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                "user": {
                    "login": "garyrussell",
                    "id": 483832,
                    "node_id": "MDQ6VXNlcjQ4MzgzMg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/483832?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/garyrussell",
                    "html_url": "https://github.com/garyrussell",
                    "followers_url": "https://api.github.com/users/garyrussell/followers",
                    "following_url": "https://api.github.com/users/garyrussell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/garyrussell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/garyrussell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/garyrussell/subscriptions",
                    "organizations_url": "https://api.github.com/users/garyrussell/orgs",
                    "repos_url": "https://api.github.com/users/garyrussell/repos",
                    "events_url": "https://api.github.com/users/garyrussell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/garyrussell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "`if (this.running.compareAndSet(false, true)) {...}`",
                "created_at": "2023-10-26T19:13:24Z",
                "updated_at": "2023-10-26T19:17:46Z",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780#discussion_r1373699289",
                "pull_request_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments/1373699289"
                    },
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8780#discussion_r1373699289"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments/1373699289/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 418,
                "original_line": 418,
                "side": "RIGHT",
                "original_position": 87,
                "position": 87,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                "id": 1575311142,
                "node_id": "PR_kwDOAB_n485d5Vcm",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                "diff_url": "https://github.com/spring-projects/spring-integration/pull/8780.diff",
                "patch_url": "https://github.com/spring-projects/spring-integration/pull/8780.patch",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "number": 8780,
                "state": "open",
                "locked": false,
                "title": "GH-8778: Fix KafkaMessageSource deadlock",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body. That includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`. This way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work in their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part. Leave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle and return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "created_at": "2023-10-26T17:57:52Z",
                "updated_at": "2023-10-26T19:17:46Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "738b2665cfda66df247f4dfc0aa0f0dcf12e22ad",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits",
                "review_comments_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments",
                "review_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments",
                "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                "head": {
                    "label": "artembilan:GH-8778",
                    "ref": "GH-8778",
                    "sha": "b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                    "user": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2686240,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyNjg2MjQw",
                        "name": "spring-integration",
                        "full_name": "artembilan/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "artembilan",
                            "id": 1071590,
                            "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/artembilan",
                            "html_url": "https://github.com/artembilan",
                            "followers_url": "https://api.github.com/users/artembilan/followers",
                            "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                            "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                            "organizations_url": "https://api.github.com/users/artembilan/orgs",
                            "repos_url": "https://api.github.com/users/artembilan/repos",
                            "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/artembilan/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/artembilan/spring-integration",
                        "description": null,
                        "fork": true,
                        "url": "https://api.github.com/repos/artembilan/spring-integration",
                        "forks_url": "https://api.github.com/repos/artembilan/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/artembilan/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/artembilan/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/artembilan/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/artembilan/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/artembilan/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/artembilan/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/artembilan/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/artembilan/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/artembilan/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/artembilan/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/artembilan/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/artembilan/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/artembilan/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/artembilan/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/artembilan/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/artembilan/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/artembilan/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/artembilan/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/artembilan/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/artembilan/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/artembilan/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/artembilan/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/artembilan/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/artembilan/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/artembilan/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/artembilan/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/artembilan/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/artembilan/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/artembilan/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/artembilan/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/artembilan/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/artembilan/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/artembilan/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/artembilan/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/artembilan/spring-integration/deployments",
                        "created_at": "2011-11-01T08:04:04Z",
                        "updated_at": "2021-07-30T15:41:15Z",
                        "pushed_at": "2023-10-26T18:57:01Z",
                        "git_url": "git://github.com/artembilan/spring-integration.git",
                        "ssh_url": "git@github.com:artembilan/spring-integration.git",
                        "clone_url": "https://github.com/artembilan/spring-integration.git",
                        "svn_url": "https://github.com/artembilan/spring-integration",
                        "homepage": "",
                        "size": 65596,
                        "stargazers_count": 3,
                        "watchers_count": 3,
                        "language": "Java",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 3,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "spring-projects:main",
                    "ref": "main",
                    "sha": "769367deeaa11883b5e72bb96de0ed529302e6ce",
                    "user": {
                        "login": "spring-projects",
                        "id": 317776,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/spring-projects",
                        "html_url": "https://github.com/spring-projects",
                        "followers_url": "https://api.github.com/users/spring-projects/followers",
                        "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                        "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                        "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                        "repos_url": "https://api.github.com/users/spring-projects/repos",
                        "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2090979,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMDkwOTc5",
                        "name": "spring-integration",
                        "full_name": "spring-projects/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "spring-projects",
                            "id": 317776,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                            "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/spring-projects",
                            "html_url": "https://github.com/spring-projects",
                            "followers_url": "https://api.github.com/users/spring-projects/followers",
                            "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                            "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                            "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                            "repos_url": "https://api.github.com/users/spring-projects/repos",
                            "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/spring-projects/spring-integration",
                        "description": "Spring Integration provides an extension of the Spring programming model to support the well-known Enterprise Integration Patterns (EIP)",
                        "fork": false,
                        "url": "https://api.github.com/repos/spring-projects/spring-integration",
                        "forks_url": "https://api.github.com/repos/spring-projects/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/spring-projects/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/spring-projects/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/spring-projects/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/spring-projects/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/spring-projects/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/spring-projects/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/spring-projects/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/spring-projects/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/spring-projects/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/spring-projects/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/spring-projects/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/spring-projects/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/spring-projects/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/spring-projects/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/spring-projects/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/spring-projects/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/spring-projects/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/spring-projects/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/spring-projects/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/spring-projects/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/spring-projects/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/spring-projects/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/spring-projects/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/spring-projects/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/spring-projects/spring-integration/deployments",
                        "created_at": "2011-07-22T21:47:27Z",
                        "updated_at": "2023-10-26T03:49:45Z",
                        "pushed_at": "2023-10-26T18:57:17Z",
                        "git_url": "git://github.com/spring-projects/spring-integration.git",
                        "ssh_url": "git@github.com:spring-projects/spring-integration.git",
                        "clone_url": "https://github.com/spring-projects/spring-integration.git",
                        "svn_url": "https://github.com/spring-projects/spring-integration",
                        "homepage": "http://projects.spring.io/spring-integration/",
                        "size": 68212,
                        "stargazers_count": 1452,
                        "watchers_count": 1452,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": true,
                        "forks_count": 1057,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 129,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "eip",
                            "java",
                            "microservices",
                            "spring"
                        ],
                        "visibility": "public",
                        "forks": 1057,
                        "open_issues": 129,
                        "watchers": 1452,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780"
                    },
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8780"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/statuses/b8dd5188e28300d3a1abef63e2c6311f12246fbd"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:13:24Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879527987",
        "type": "PullRequestReviewCommentEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "comment": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments/1373698457",
                "pull_request_review_id": 1700476369,
                "id": 1373698457,
                "node_id": "PRRC_kwDOAB_n485R4PmZ",
                "diff_hunk": "@@ -409,104 +410,72 @@ private boolean maxPollStringGtr1(Object maxPoll) {\n \n \t@Override\n \tpublic boolean isRunning() {\n-\t\tthis.lock.lock();\n-\t\ttry {\n-\t\t\treturn this.running;\n-\t\t}\n-\t\tfinally {\n-\t\t\tthis.lock.unlock();\n-\t\t}\n+\t\treturn this.running.get();\n \t}\n \n \t@Override\n \tpublic void start() {\n-\t\tthis.lock.lock();\n-\t\ttry {\n-\t\t\tthis.running = true;\n-\t\t\tthis.stopped = false;\n-\t\t}\n-\t\tfinally {\n-\t\t\tthis.lock.unlock();\n-\t\t}\n+\t\tthis.running.set(true);\n+\t\tthis.stopped.set(false);\n \t}\n \n \t@Override\n \tpublic void stop() {\n-\t\tthis.lock.lock();\n-\t\ttry {\n-\t\t\tstopConsumer();\n-\t\t\tthis.running = false;\n-\t\t\tthis.stopped = true;\n-\t\t}\n-\t\tfinally {\n-\t\t\tthis.lock.unlock();\n-\t\t}\n+\t\tstopConsumer();",
                "path": "spring-integration-kafka/src/main/java/org/springframework/integration/kafka/inbound/KafkaMessageSource.java",
                "commit_id": "b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                "original_commit_id": "b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                "user": {
                    "login": "garyrussell",
                    "id": 483832,
                    "node_id": "MDQ6VXNlcjQ4MzgzMg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/483832?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/garyrussell",
                    "html_url": "https://github.com/garyrussell",
                    "followers_url": "https://api.github.com/users/garyrussell/followers",
                    "following_url": "https://api.github.com/users/garyrussell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/garyrussell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/garyrussell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/garyrussell/subscriptions",
                    "organizations_url": "https://api.github.com/users/garyrussell/orgs",
                    "repos_url": "https://api.github.com/users/garyrussell/repos",
                    "events_url": "https://api.github.com/users/garyrussell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/garyrussell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "`if (this.running.compareAndSet(true, false)) {...}`",
                "created_at": "2023-10-26T19:12:32Z",
                "updated_at": "2023-10-26T19:17:46Z",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780#discussion_r1373698457",
                "pull_request_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                "author_association": "MEMBER",
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments/1373698457"
                    },
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8780#discussion_r1373698457"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780"
                    }
                },
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments/1373698457/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "start_line": null,
                "original_start_line": null,
                "start_side": null,
                "line": 424,
                "original_line": 424,
                "side": "RIGHT",
                "original_position": 102,
                "position": 102,
                "subject_type": "line"
            },
            "pull_request": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                "id": 1575311142,
                "node_id": "PR_kwDOAB_n485d5Vcm",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                "diff_url": "https://github.com/spring-projects/spring-integration/pull/8780.diff",
                "patch_url": "https://github.com/spring-projects/spring-integration/pull/8780.patch",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "number": 8780,
                "state": "open",
                "locked": false,
                "title": "GH-8778: Fix KafkaMessageSource deadlock",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body. That includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`. This way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work in their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part. Leave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle and return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "created_at": "2023-10-26T17:57:52Z",
                "updated_at": "2023-10-26T19:17:46Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "738b2665cfda66df247f4dfc0aa0f0dcf12e22ad",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits",
                "review_comments_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments",
                "review_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments",
                "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                "head": {
                    "label": "artembilan:GH-8778",
                    "ref": "GH-8778",
                    "sha": "b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                    "user": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2686240,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyNjg2MjQw",
                        "name": "spring-integration",
                        "full_name": "artembilan/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "artembilan",
                            "id": 1071590,
                            "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/artembilan",
                            "html_url": "https://github.com/artembilan",
                            "followers_url": "https://api.github.com/users/artembilan/followers",
                            "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                            "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                            "organizations_url": "https://api.github.com/users/artembilan/orgs",
                            "repos_url": "https://api.github.com/users/artembilan/repos",
                            "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/artembilan/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/artembilan/spring-integration",
                        "description": null,
                        "fork": true,
                        "url": "https://api.github.com/repos/artembilan/spring-integration",
                        "forks_url": "https://api.github.com/repos/artembilan/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/artembilan/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/artembilan/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/artembilan/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/artembilan/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/artembilan/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/artembilan/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/artembilan/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/artembilan/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/artembilan/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/artembilan/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/artembilan/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/artembilan/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/artembilan/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/artembilan/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/artembilan/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/artembilan/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/artembilan/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/artembilan/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/artembilan/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/artembilan/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/artembilan/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/artembilan/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/artembilan/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/artembilan/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/artembilan/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/artembilan/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/artembilan/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/artembilan/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/artembilan/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/artembilan/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/artembilan/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/artembilan/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/artembilan/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/artembilan/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/artembilan/spring-integration/deployments",
                        "created_at": "2011-11-01T08:04:04Z",
                        "updated_at": "2021-07-30T15:41:15Z",
                        "pushed_at": "2023-10-26T18:57:01Z",
                        "git_url": "git://github.com/artembilan/spring-integration.git",
                        "ssh_url": "git@github.com:artembilan/spring-integration.git",
                        "clone_url": "https://github.com/artembilan/spring-integration.git",
                        "svn_url": "https://github.com/artembilan/spring-integration",
                        "homepage": "",
                        "size": 65596,
                        "stargazers_count": 3,
                        "watchers_count": 3,
                        "language": "Java",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 3,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "spring-projects:main",
                    "ref": "main",
                    "sha": "769367deeaa11883b5e72bb96de0ed529302e6ce",
                    "user": {
                        "login": "spring-projects",
                        "id": 317776,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/spring-projects",
                        "html_url": "https://github.com/spring-projects",
                        "followers_url": "https://api.github.com/users/spring-projects/followers",
                        "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                        "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                        "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                        "repos_url": "https://api.github.com/users/spring-projects/repos",
                        "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2090979,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMDkwOTc5",
                        "name": "spring-integration",
                        "full_name": "spring-projects/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "spring-projects",
                            "id": 317776,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                            "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/spring-projects",
                            "html_url": "https://github.com/spring-projects",
                            "followers_url": "https://api.github.com/users/spring-projects/followers",
                            "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                            "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                            "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                            "repos_url": "https://api.github.com/users/spring-projects/repos",
                            "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/spring-projects/spring-integration",
                        "description": "Spring Integration provides an extension of the Spring programming model to support the well-known Enterprise Integration Patterns (EIP)",
                        "fork": false,
                        "url": "https://api.github.com/repos/spring-projects/spring-integration",
                        "forks_url": "https://api.github.com/repos/spring-projects/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/spring-projects/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/spring-projects/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/spring-projects/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/spring-projects/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/spring-projects/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/spring-projects/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/spring-projects/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/spring-projects/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/spring-projects/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/spring-projects/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/spring-projects/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/spring-projects/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/spring-projects/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/spring-projects/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/spring-projects/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/spring-projects/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/spring-projects/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/spring-projects/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/spring-projects/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/spring-projects/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/spring-projects/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/spring-projects/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/spring-projects/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/spring-projects/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/spring-projects/spring-integration/deployments",
                        "created_at": "2011-07-22T21:47:27Z",
                        "updated_at": "2023-10-26T03:49:45Z",
                        "pushed_at": "2023-10-26T18:57:17Z",
                        "git_url": "git://github.com/spring-projects/spring-integration.git",
                        "ssh_url": "git@github.com:spring-projects/spring-integration.git",
                        "clone_url": "https://github.com/spring-projects/spring-integration.git",
                        "svn_url": "https://github.com/spring-projects/spring-integration",
                        "homepage": "http://projects.spring.io/spring-integration/",
                        "size": 68212,
                        "stargazers_count": 1452,
                        "watchers_count": 1452,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": true,
                        "forks_count": 1057,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 129,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "eip",
                            "java",
                            "microservices",
                            "spring"
                        ],
                        "visibility": "public",
                        "forks": 1057,
                        "open_issues": 129,
                        "watchers": 1452,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780"
                    },
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8780"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/statuses/b8dd5188e28300d3a1abef63e2c6311f12246fbd"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:12:32Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879527948",
        "type": "PullRequestReviewEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "review": {
                "id": 1700476369,
                "node_id": "PRR_kwDOAB_n485lWzXR",
                "user": {
                    "login": "garyrussell",
                    "id": 483832,
                    "node_id": "MDQ6VXNlcjQ4MzgzMg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/483832?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/garyrussell",
                    "html_url": "https://github.com/garyrussell",
                    "followers_url": "https://api.github.com/users/garyrussell/followers",
                    "following_url": "https://api.github.com/users/garyrussell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/garyrussell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/garyrussell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/garyrussell/subscriptions",
                    "organizations_url": "https://api.github.com/users/garyrussell/orgs",
                    "repos_url": "https://api.github.com/users/garyrussell/repos",
                    "events_url": "https://api.github.com/users/garyrussell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/garyrussell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "This won't cherry-pick because of the `ReentrantLock`.",
                "commit_id": "b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                "submitted_at": "2023-10-26T19:17:46Z",
                "state": "changes_requested",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780#pullrequestreview-1700476369",
                "pull_request_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                "author_association": "MEMBER",
                "_links": {
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8780#pullrequestreview-1700476369"
                    },
                    "pull_request": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780"
                    }
                }
            },
            "pull_request": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                "id": 1575311142,
                "node_id": "PR_kwDOAB_n485d5Vcm",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                "diff_url": "https://github.com/spring-projects/spring-integration/pull/8780.diff",
                "patch_url": "https://github.com/spring-projects/spring-integration/pull/8780.patch",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "number": 8780,
                "state": "open",
                "locked": false,
                "title": "GH-8778: Fix KafkaMessageSource deadlock",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body. That includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`. This way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work in their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part. Leave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle and return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "created_at": "2023-10-26T17:57:52Z",
                "updated_at": "2023-10-26T19:17:46Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": "738b2665cfda66df247f4dfc0aa0f0dcf12e22ad",
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits",
                "review_comments_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments",
                "review_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments",
                "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                "head": {
                    "label": "artembilan:GH-8778",
                    "ref": "GH-8778",
                    "sha": "b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                    "user": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2686240,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyNjg2MjQw",
                        "name": "spring-integration",
                        "full_name": "artembilan/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "artembilan",
                            "id": 1071590,
                            "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/artembilan",
                            "html_url": "https://github.com/artembilan",
                            "followers_url": "https://api.github.com/users/artembilan/followers",
                            "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                            "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                            "organizations_url": "https://api.github.com/users/artembilan/orgs",
                            "repos_url": "https://api.github.com/users/artembilan/repos",
                            "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/artembilan/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/artembilan/spring-integration",
                        "description": null,
                        "fork": true,
                        "url": "https://api.github.com/repos/artembilan/spring-integration",
                        "forks_url": "https://api.github.com/repos/artembilan/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/artembilan/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/artembilan/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/artembilan/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/artembilan/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/artembilan/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/artembilan/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/artembilan/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/artembilan/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/artembilan/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/artembilan/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/artembilan/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/artembilan/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/artembilan/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/artembilan/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/artembilan/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/artembilan/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/artembilan/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/artembilan/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/artembilan/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/artembilan/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/artembilan/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/artembilan/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/artembilan/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/artembilan/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/artembilan/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/artembilan/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/artembilan/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/artembilan/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/artembilan/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/artembilan/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/artembilan/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/artembilan/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/artembilan/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/artembilan/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/artembilan/spring-integration/deployments",
                        "created_at": "2011-11-01T08:04:04Z",
                        "updated_at": "2021-07-30T15:41:15Z",
                        "pushed_at": "2023-10-26T18:57:01Z",
                        "git_url": "git://github.com/artembilan/spring-integration.git",
                        "ssh_url": "git@github.com:artembilan/spring-integration.git",
                        "clone_url": "https://github.com/artembilan/spring-integration.git",
                        "svn_url": "https://github.com/artembilan/spring-integration",
                        "homepage": "",
                        "size": 65596,
                        "stargazers_count": 3,
                        "watchers_count": 3,
                        "language": "Java",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 3,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "spring-projects:main",
                    "ref": "main",
                    "sha": "769367deeaa11883b5e72bb96de0ed529302e6ce",
                    "user": {
                        "login": "spring-projects",
                        "id": 317776,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/spring-projects",
                        "html_url": "https://github.com/spring-projects",
                        "followers_url": "https://api.github.com/users/spring-projects/followers",
                        "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                        "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                        "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                        "repos_url": "https://api.github.com/users/spring-projects/repos",
                        "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2090979,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMDkwOTc5",
                        "name": "spring-integration",
                        "full_name": "spring-projects/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "spring-projects",
                            "id": 317776,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                            "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/spring-projects",
                            "html_url": "https://github.com/spring-projects",
                            "followers_url": "https://api.github.com/users/spring-projects/followers",
                            "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                            "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                            "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                            "repos_url": "https://api.github.com/users/spring-projects/repos",
                            "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/spring-projects/spring-integration",
                        "description": "Spring Integration provides an extension of the Spring programming model to support the well-known Enterprise Integration Patterns (EIP)",
                        "fork": false,
                        "url": "https://api.github.com/repos/spring-projects/spring-integration",
                        "forks_url": "https://api.github.com/repos/spring-projects/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/spring-projects/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/spring-projects/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/spring-projects/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/spring-projects/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/spring-projects/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/spring-projects/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/spring-projects/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/spring-projects/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/spring-projects/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/spring-projects/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/spring-projects/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/spring-projects/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/spring-projects/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/spring-projects/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/spring-projects/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/spring-projects/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/spring-projects/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/spring-projects/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/spring-projects/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/spring-projects/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/spring-projects/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/spring-projects/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/spring-projects/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/spring-projects/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/spring-projects/spring-integration/deployments",
                        "created_at": "2011-07-22T21:47:27Z",
                        "updated_at": "2023-10-26T03:49:45Z",
                        "pushed_at": "2023-10-26T18:57:17Z",
                        "git_url": "git://github.com/spring-projects/spring-integration.git",
                        "ssh_url": "git@github.com:spring-projects/spring-integration.git",
                        "clone_url": "https://github.com/spring-projects/spring-integration.git",
                        "svn_url": "https://github.com/spring-projects/spring-integration",
                        "homepage": "http://projects.spring.io/spring-integration/",
                        "size": 68212,
                        "stargazers_count": 1452,
                        "watchers_count": 1452,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": true,
                        "forks_count": 1057,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 129,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "eip",
                            "java",
                            "microservices",
                            "spring"
                        ],
                        "visibility": "public",
                        "forks": 1057,
                        "open_issues": 129,
                        "watchers": 1452,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780"
                    },
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8780"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/statuses/b8dd5188e28300d3a1abef63e2c6311f12246fbd"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T19:17:47Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32879038286",
        "type": "PullRequestEvent",
        "actor": {
            "id": 1071590,
            "login": "artembilan",
            "display_login": "artembilan",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artembilan",
            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "opened",
            "number": 8781,
            "pull_request": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781",
                "id": 1575418370,
                "node_id": "PR_kwDOAB_n485d5voC",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8781",
                "diff_url": "https://github.com/spring-projects/spring-integration/pull/8781.diff",
                "patch_url": "https://github.com/spring-projects/spring-integration/pull/8781.patch",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781",
                "number": 8781,
                "state": "open",
                "locked": false,
                "title": "GH-8779: MongoDbMS Fix distinct result conversion",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8779\r\n\r\nThe `MongoTemplate` has now a `findDistinct()` API with a smart result conversion instead of native driver plain expectations\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "created_at": "2023-10-26T18:57:16Z",
                "updated_at": "2023-10-26T18:57:16Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": null,
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781/commits",
                "review_comments_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781/comments",
                "review_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781/comments",
                "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/ca9aef4167ef8e4b8f646870b9540e0bd4226a59",
                "head": {
                    "label": "artembilan:GH-8779",
                    "ref": "GH-8779",
                    "sha": "ca9aef4167ef8e4b8f646870b9540e0bd4226a59",
                    "user": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2686240,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyNjg2MjQw",
                        "name": "spring-integration",
                        "full_name": "artembilan/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "artembilan",
                            "id": 1071590,
                            "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/artembilan",
                            "html_url": "https://github.com/artembilan",
                            "followers_url": "https://api.github.com/users/artembilan/followers",
                            "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                            "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                            "organizations_url": "https://api.github.com/users/artembilan/orgs",
                            "repos_url": "https://api.github.com/users/artembilan/repos",
                            "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/artembilan/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/artembilan/spring-integration",
                        "description": null,
                        "fork": true,
                        "url": "https://api.github.com/repos/artembilan/spring-integration",
                        "forks_url": "https://api.github.com/repos/artembilan/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/artembilan/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/artembilan/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/artembilan/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/artembilan/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/artembilan/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/artembilan/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/artembilan/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/artembilan/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/artembilan/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/artembilan/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/artembilan/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/artembilan/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/artembilan/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/artembilan/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/artembilan/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/artembilan/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/artembilan/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/artembilan/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/artembilan/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/artembilan/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/artembilan/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/artembilan/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/artembilan/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/artembilan/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/artembilan/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/artembilan/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/artembilan/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/artembilan/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/artembilan/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/artembilan/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/artembilan/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/artembilan/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/artembilan/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/artembilan/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/artembilan/spring-integration/deployments",
                        "created_at": "2011-11-01T08:04:04Z",
                        "updated_at": "2021-07-30T15:41:15Z",
                        "pushed_at": "2023-10-26T18:57:01Z",
                        "git_url": "git://github.com/artembilan/spring-integration.git",
                        "ssh_url": "git@github.com:artembilan/spring-integration.git",
                        "clone_url": "https://github.com/artembilan/spring-integration.git",
                        "svn_url": "https://github.com/artembilan/spring-integration",
                        "homepage": "",
                        "size": 65548,
                        "stargazers_count": 3,
                        "watchers_count": 3,
                        "language": "Java",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 3,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "spring-projects:main",
                    "ref": "main",
                    "sha": "769367deeaa11883b5e72bb96de0ed529302e6ce",
                    "user": {
                        "login": "spring-projects",
                        "id": 317776,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/spring-projects",
                        "html_url": "https://github.com/spring-projects",
                        "followers_url": "https://api.github.com/users/spring-projects/followers",
                        "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                        "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                        "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                        "repos_url": "https://api.github.com/users/spring-projects/repos",
                        "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2090979,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMDkwOTc5",
                        "name": "spring-integration",
                        "full_name": "spring-projects/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "spring-projects",
                            "id": 317776,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                            "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/spring-projects",
                            "html_url": "https://github.com/spring-projects",
                            "followers_url": "https://api.github.com/users/spring-projects/followers",
                            "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                            "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                            "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                            "repos_url": "https://api.github.com/users/spring-projects/repos",
                            "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/spring-projects/spring-integration",
                        "description": "Spring Integration provides an extension of the Spring programming model to support the well-known Enterprise Integration Patterns (EIP)",
                        "fork": false,
                        "url": "https://api.github.com/repos/spring-projects/spring-integration",
                        "forks_url": "https://api.github.com/repos/spring-projects/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/spring-projects/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/spring-projects/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/spring-projects/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/spring-projects/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/spring-projects/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/spring-projects/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/spring-projects/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/spring-projects/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/spring-projects/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/spring-projects/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/spring-projects/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/spring-projects/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/spring-projects/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/spring-projects/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/spring-projects/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/spring-projects/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/spring-projects/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/spring-projects/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/spring-projects/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/spring-projects/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/spring-projects/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/spring-projects/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/spring-projects/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/spring-projects/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/spring-projects/spring-integration/deployments",
                        "created_at": "2011-07-22T21:47:27Z",
                        "updated_at": "2023-10-26T03:49:45Z",
                        "pushed_at": "2023-10-26T18:57:17Z",
                        "git_url": "git://github.com/spring-projects/spring-integration.git",
                        "ssh_url": "git@github.com:spring-projects/spring-integration.git",
                        "clone_url": "https://github.com/spring-projects/spring-integration.git",
                        "svn_url": "https://github.com/spring-projects/spring-integration",
                        "homepage": "http://projects.spring.io/spring-integration/",
                        "size": 68212,
                        "stargazers_count": 1452,
                        "watchers_count": 1452,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": true,
                        "forks_count": 1057,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 129,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "eip",
                            "java",
                            "microservices",
                            "spring"
                        ],
                        "visibility": "public",
                        "forks": 1057,
                        "open_issues": 129,
                        "watchers": 1452,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781"
                    },
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8781"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8781/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8781/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/statuses/ca9aef4167ef8e4b8f646870b9540e0bd4226a59"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": true,
                "commits": 1,
                "additions": 5,
                "deletions": 5,
                "changed_files": 3
            }
        },
        "public": true,
        "created_at": "2023-10-26T18:57:18Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32878198153",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 827682,
            "login": "sobychacko",
            "display_login": "sobychacko",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sobychacko",
            "avatar_url": "https://avatars.githubusercontent.com/u/827682?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "repository_url": "https://api.github.com/repos/spring-projects/spring-integration",
                "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/labels{/name}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments",
                "events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/events",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                "id": 1964069542,
                "node_id": "PR_kwDOAB_n485d5Vcm",
                "number": 8780,
                "title": "GH-8778: Fix KafkaMessageSource deadlock",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2023-10-26T17:57:52Z",
                "updated_at": "2023-10-26T18:22:41Z",
                "closed_at": null,
                "author_association": "MEMBER",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                    "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                    "diff_url": "https://github.com/spring-projects/spring-integration/pull/8780.diff",
                    "patch_url": "https://github.com/spring-projects/spring-integration/pull/8780.patch",
                    "merged_at": null
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body. That includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`. This way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work in their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part. Leave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle and return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1781626176",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780#issuecomment-1781626176",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "id": 1781626176,
                "node_id": "IC_kwDOAB_n485qMXVA",
                "user": {
                    "login": "sobychacko",
                    "id": 827682,
                    "node_id": "MDQ6VXNlcjgyNzY4Mg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/827682?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/sobychacko",
                    "html_url": "https://github.com/sobychacko",
                    "followers_url": "https://api.github.com/users/sobychacko/followers",
                    "following_url": "https://api.github.com/users/sobychacko/following{/other_user}",
                    "gists_url": "https://api.github.com/users/sobychacko/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/sobychacko/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/sobychacko/subscriptions",
                    "organizations_url": "https://api.github.com/users/sobychacko/orgs",
                    "repos_url": "https://api.github.com/users/sobychacko/repos",
                    "events_url": "https://api.github.com/users/sobychacko/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/sobychacko/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T18:22:41Z",
                "updated_at": "2023-10-26T18:22:41Z",
                "author_association": "CONTRIBUTOR",
                "body": "LGTM, @artembilan ",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1781626176/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T18:22:41Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32877591735",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 1071590,
            "login": "artembilan",
            "display_login": "artembilan",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artembilan",
            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "repository_url": "https://api.github.com/repos/spring-projects/spring-integration",
                "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/labels{/name}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments",
                "events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/events",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                "id": 1964069542,
                "node_id": "PR_kwDOAB_n485d5Vcm",
                "number": 8780,
                "title": "GH-8778: Fix KafkaMessageSource deadlock",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-26T17:57:52Z",
                "updated_at": "2023-10-26T17:58:12Z",
                "closed_at": null,
                "author_association": "MEMBER",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                    "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                    "diff_url": "https://github.com/spring-projects/spring-integration/pull/8780.diff",
                    "patch_url": "https://github.com/spring-projects/spring-integration/pull/8780.patch",
                    "merged_at": null
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body. That includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`. This way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work in their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part. Leave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle and return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1781581053",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780#issuecomment-1781581053",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "id": 1781581053,
                "node_id": "IC_kwDOAB_n485qMMT9",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T17:58:11Z",
                "updated_at": "2023-10-26T17:58:11Z",
                "author_association": "MEMBER",
                "body": "CC @sobychacko ",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1781581053/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T17:58:12Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32877584589",
        "type": "PullRequestEvent",
        "actor": {
            "id": 1071590,
            "login": "artembilan",
            "display_login": "artembilan",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artembilan",
            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "opened",
            "number": 8780,
            "pull_request": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780",
                "id": 1575311142,
                "node_id": "PR_kwDOAB_n485d5Vcm",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8780",
                "diff_url": "https://github.com/spring-projects/spring-integration/pull/8780.diff",
                "patch_url": "https://github.com/spring-projects/spring-integration/pull/8780.patch",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780",
                "number": 8780,
                "state": "open",
                "locked": false,
                "title": "GH-8778: Fix KafkaMessageSource deadlock",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8778\r\n\r\nThe `KafkaMessageSource.doReceive()` have a lock around its whole body. That includes the `pollRecord()` which can be blocked on the `KafkaConsumer.poll()`. This way the rest of lifecycle management callbacks can be blocked until `KafkaConsumer.poll()` returns.\r\n\r\n* Rework lifecycle management flags to `AtomicBoolean` since there is not too much work in their respective callbacks\r\n* Decrease a locking block in the `doReceive()` just to consumer setup part. Leave `pollRecord()` outside of the lock\r\n* Add `this.consumer.wakeup()` into `stopConsumer()` to break a `poll()` cycle and return immediately for the next `close()` call\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "created_at": "2023-10-26T17:57:52Z",
                "updated_at": "2023-10-26T17:57:52Z",
                "closed_at": null,
                "merged_at": null,
                "merge_commit_sha": null,
                "assignee": null,
                "assignees": [],
                "requested_reviewers": [],
                "requested_teams": [],
                "labels": [],
                "milestone": null,
                "draft": false,
                "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits",
                "review_comments_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments",
                "review_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments",
                "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                "head": {
                    "label": "artembilan:GH-8778",
                    "ref": "GH-8778",
                    "sha": "b8dd5188e28300d3a1abef63e2c6311f12246fbd",
                    "user": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2686240,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyNjg2MjQw",
                        "name": "spring-integration",
                        "full_name": "artembilan/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "artembilan",
                            "id": 1071590,
                            "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/artembilan",
                            "html_url": "https://github.com/artembilan",
                            "followers_url": "https://api.github.com/users/artembilan/followers",
                            "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                            "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                            "organizations_url": "https://api.github.com/users/artembilan/orgs",
                            "repos_url": "https://api.github.com/users/artembilan/repos",
                            "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/artembilan/received_events",
                            "type": "User",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/artembilan/spring-integration",
                        "description": null,
                        "fork": true,
                        "url": "https://api.github.com/repos/artembilan/spring-integration",
                        "forks_url": "https://api.github.com/repos/artembilan/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/artembilan/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/artembilan/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/artembilan/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/artembilan/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/artembilan/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/artembilan/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/artembilan/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/artembilan/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/artembilan/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/artembilan/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/artembilan/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/artembilan/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/artembilan/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/artembilan/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/artembilan/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/artembilan/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/artembilan/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/artembilan/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/artembilan/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/artembilan/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/artembilan/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/artembilan/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/artembilan/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/artembilan/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/artembilan/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/artembilan/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/artembilan/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/artembilan/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/artembilan/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/artembilan/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/artembilan/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/artembilan/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/artembilan/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/artembilan/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/artembilan/spring-integration/deployments",
                        "created_at": "2011-11-01T08:04:04Z",
                        "updated_at": "2021-07-30T15:41:15Z",
                        "pushed_at": "2023-10-26T17:57:33Z",
                        "git_url": "git://github.com/artembilan/spring-integration.git",
                        "ssh_url": "git@github.com:artembilan/spring-integration.git",
                        "clone_url": "https://github.com/artembilan/spring-integration.git",
                        "svn_url": "https://github.com/artembilan/spring-integration",
                        "homepage": "",
                        "size": 65548,
                        "stargazers_count": 3,
                        "watchers_count": 3,
                        "language": "Java",
                        "has_issues": false,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": false,
                        "has_discussions": false,
                        "forks_count": 0,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 0,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [],
                        "visibility": "public",
                        "forks": 0,
                        "open_issues": 0,
                        "watchers": 3,
                        "default_branch": "main"
                    }
                },
                "base": {
                    "label": "spring-projects:main",
                    "ref": "main",
                    "sha": "769367deeaa11883b5e72bb96de0ed529302e6ce",
                    "user": {
                        "login": "spring-projects",
                        "id": 317776,
                        "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                        "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/spring-projects",
                        "html_url": "https://github.com/spring-projects",
                        "followers_url": "https://api.github.com/users/spring-projects/followers",
                        "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                        "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                        "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                        "repos_url": "https://api.github.com/users/spring-projects/repos",
                        "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                        "type": "Organization",
                        "site_admin": false
                    },
                    "repo": {
                        "id": 2090979,
                        "node_id": "MDEwOlJlcG9zaXRvcnkyMDkwOTc5",
                        "name": "spring-integration",
                        "full_name": "spring-projects/spring-integration",
                        "private": false,
                        "owner": {
                            "login": "spring-projects",
                            "id": 317776,
                            "node_id": "MDEyOk9yZ2FuaXphdGlvbjMxNzc3Ng==",
                            "avatar_url": "https://avatars.githubusercontent.com/u/317776?v=4",
                            "gravatar_id": "",
                            "url": "https://api.github.com/users/spring-projects",
                            "html_url": "https://github.com/spring-projects",
                            "followers_url": "https://api.github.com/users/spring-projects/followers",
                            "following_url": "https://api.github.com/users/spring-projects/following{/other_user}",
                            "gists_url": "https://api.github.com/users/spring-projects/gists{/gist_id}",
                            "starred_url": "https://api.github.com/users/spring-projects/starred{/owner}{/repo}",
                            "subscriptions_url": "https://api.github.com/users/spring-projects/subscriptions",
                            "organizations_url": "https://api.github.com/users/spring-projects/orgs",
                            "repos_url": "https://api.github.com/users/spring-projects/repos",
                            "events_url": "https://api.github.com/users/spring-projects/events{/privacy}",
                            "received_events_url": "https://api.github.com/users/spring-projects/received_events",
                            "type": "Organization",
                            "site_admin": false
                        },
                        "html_url": "https://github.com/spring-projects/spring-integration",
                        "description": "Spring Integration provides an extension of the Spring programming model to support the well-known Enterprise Integration Patterns (EIP)",
                        "fork": false,
                        "url": "https://api.github.com/repos/spring-projects/spring-integration",
                        "forks_url": "https://api.github.com/repos/spring-projects/spring-integration/forks",
                        "keys_url": "https://api.github.com/repos/spring-projects/spring-integration/keys{/key_id}",
                        "collaborators_url": "https://api.github.com/repos/spring-projects/spring-integration/collaborators{/collaborator}",
                        "teams_url": "https://api.github.com/repos/spring-projects/spring-integration/teams",
                        "hooks_url": "https://api.github.com/repos/spring-projects/spring-integration/hooks",
                        "issue_events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/events{/number}",
                        "events_url": "https://api.github.com/repos/spring-projects/spring-integration/events",
                        "assignees_url": "https://api.github.com/repos/spring-projects/spring-integration/assignees{/user}",
                        "branches_url": "https://api.github.com/repos/spring-projects/spring-integration/branches{/branch}",
                        "tags_url": "https://api.github.com/repos/spring-projects/spring-integration/tags",
                        "blobs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/blobs{/sha}",
                        "git_tags_url": "https://api.github.com/repos/spring-projects/spring-integration/git/tags{/sha}",
                        "git_refs_url": "https://api.github.com/repos/spring-projects/spring-integration/git/refs{/sha}",
                        "trees_url": "https://api.github.com/repos/spring-projects/spring-integration/git/trees{/sha}",
                        "statuses_url": "https://api.github.com/repos/spring-projects/spring-integration/statuses/{sha}",
                        "languages_url": "https://api.github.com/repos/spring-projects/spring-integration/languages",
                        "stargazers_url": "https://api.github.com/repos/spring-projects/spring-integration/stargazers",
                        "contributors_url": "https://api.github.com/repos/spring-projects/spring-integration/contributors",
                        "subscribers_url": "https://api.github.com/repos/spring-projects/spring-integration/subscribers",
                        "subscription_url": "https://api.github.com/repos/spring-projects/spring-integration/subscription",
                        "commits_url": "https://api.github.com/repos/spring-projects/spring-integration/commits{/sha}",
                        "git_commits_url": "https://api.github.com/repos/spring-projects/spring-integration/git/commits{/sha}",
                        "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/comments{/number}",
                        "issue_comment_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments{/number}",
                        "contents_url": "https://api.github.com/repos/spring-projects/spring-integration/contents/{+path}",
                        "compare_url": "https://api.github.com/repos/spring-projects/spring-integration/compare/{base}...{head}",
                        "merges_url": "https://api.github.com/repos/spring-projects/spring-integration/merges",
                        "archive_url": "https://api.github.com/repos/spring-projects/spring-integration/{archive_format}{/ref}",
                        "downloads_url": "https://api.github.com/repos/spring-projects/spring-integration/downloads",
                        "issues_url": "https://api.github.com/repos/spring-projects/spring-integration/issues{/number}",
                        "pulls_url": "https://api.github.com/repos/spring-projects/spring-integration/pulls{/number}",
                        "milestones_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones{/number}",
                        "notifications_url": "https://api.github.com/repos/spring-projects/spring-integration/notifications{?since,all,participating}",
                        "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/labels{/name}",
                        "releases_url": "https://api.github.com/repos/spring-projects/spring-integration/releases{/id}",
                        "deployments_url": "https://api.github.com/repos/spring-projects/spring-integration/deployments",
                        "created_at": "2011-07-22T21:47:27Z",
                        "updated_at": "2023-10-26T03:49:45Z",
                        "pushed_at": "2023-10-26T17:57:53Z",
                        "git_url": "git://github.com/spring-projects/spring-integration.git",
                        "ssh_url": "git@github.com:spring-projects/spring-integration.git",
                        "clone_url": "https://github.com/spring-projects/spring-integration.git",
                        "svn_url": "https://github.com/spring-projects/spring-integration",
                        "homepage": "http://projects.spring.io/spring-integration/",
                        "size": 68196,
                        "stargazers_count": 1452,
                        "watchers_count": 1452,
                        "language": "Java",
                        "has_issues": true,
                        "has_projects": true,
                        "has_downloads": true,
                        "has_wiki": true,
                        "has_pages": true,
                        "has_discussions": true,
                        "forks_count": 1057,
                        "mirror_url": null,
                        "archived": false,
                        "disabled": false,
                        "open_issues_count": 128,
                        "license": {
                            "key": "apache-2.0",
                            "name": "Apache License 2.0",
                            "spdx_id": "Apache-2.0",
                            "url": "https://api.github.com/licenses/apache-2.0",
                            "node_id": "MDc6TGljZW5zZTI="
                        },
                        "allow_forking": true,
                        "is_template": false,
                        "web_commit_signoff_required": false,
                        "topics": [
                            "eip",
                            "java",
                            "microservices",
                            "spring"
                        ],
                        "visibility": "public",
                        "forks": 1057,
                        "open_issues": 128,
                        "watchers": 1452,
                        "default_branch": "main"
                    }
                },
                "_links": {
                    "self": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780"
                    },
                    "html": {
                        "href": "https://github.com/spring-projects/spring-integration/pull/8780"
                    },
                    "issue": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780"
                    },
                    "comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/issues/8780/comments"
                    },
                    "review_comments": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/comments"
                    },
                    "review_comment": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/comments{/number}"
                    },
                    "commits": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8780/commits"
                    },
                    "statuses": {
                        "href": "https://api.github.com/repos/spring-projects/spring-integration/statuses/b8dd5188e28300d3a1abef63e2c6311f12246fbd"
                    }
                },
                "author_association": "MEMBER",
                "auto_merge": null,
                "active_lock_reason": null,
                "merged": false,
                "mergeable": null,
                "rebaseable": null,
                "mergeable_state": "unknown",
                "merged_by": null,
                "comments": 0,
                "review_comments": 0,
                "maintainer_can_modify": true,
                "commits": 1,
                "additions": 44,
                "deletions": 74,
                "changed_files": 1
            }
        },
        "public": true,
        "created_at": "2023-10-26T17:57:54Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32876911481",
        "type": "PushEvent",
        "actor": {
            "id": 1071590,
            "login": "artembilan",
            "display_login": "artembilan",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artembilan",
            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "repository_id": 2090979,
            "push_id": 15580728430,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/6.0.x",
            "head": "c7b5453212ed97733d8aff05b96bdff0eef427be",
            "before": "938b27055b2a4878c971491c901dd5676375b11c",
            "commits": [
                {
                    "sha": "c7b5453212ed97733d8aff05b96bdff0eef427be",
                    "author": {
                        "email": "abilan@vmware.com",
                        "name": "Artem Bilan"
                    },
                    "message": "KafkaMessageSource: Lock instead of synchronized\n\nRelated to https://github.com/spring-projects/spring-integration/issues/8778\n\n**Cherry-pick to `6.0.x`**",
                    "distinct": true,
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/commits/c7b5453212ed97733d8aff05b96bdff0eef427be"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T17:29:29Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32876895136",
        "type": "PushEvent",
        "actor": {
            "id": 1071590,
            "login": "artembilan",
            "display_login": "artembilan",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artembilan",
            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "repository_id": 2090979,
            "push_id": 15580720635,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/6.1.x",
            "head": "991d29eb153898e8e572938f7e24ee81248523e3",
            "before": "91e806afc519c97f4790723a26079b899128761e",
            "commits": [
                {
                    "sha": "991d29eb153898e8e572938f7e24ee81248523e3",
                    "author": {
                        "email": "abilan@vmware.com",
                        "name": "Artem Bilan"
                    },
                    "message": "KafkaMessageSource: Lock instead of synchronized\n\nRelated to https://github.com/spring-projects/spring-integration/issues/8778\n\n**Cherry-pick to `6.0.x`**",
                    "distinct": true,
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/commits/991d29eb153898e8e572938f7e24ee81248523e3"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-26T17:28:47Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32876222833",
        "type": "IssuesEvent",
        "actor": {
            "id": 57214290,
            "login": "antonvovk",
            "display_login": "antonvovk",
            "gravatar_id": "",
            "url": "https://api.github.com/users/antonvovk",
            "avatar_url": "https://avatars.githubusercontent.com/u/57214290?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "opened",
            "issue": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8779",
                "repository_url": "https://api.github.com/repos/spring-projects/spring-integration",
                "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8779/labels{/name}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8779/comments",
                "events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8779/events",
                "html_url": "https://github.com/spring-projects/spring-integration/issues/8779",
                "id": 1963991119,
                "node_id": "I_kwDOAB_n4851ECBP",
                "number": 8779,
                "title": "ConfigurableMongoDbMessageStore iterator doesn't handle id types other than String",
                "user": {
                    "login": "antonvovk",
                    "id": 57214290,
                    "node_id": "MDQ6VXNlcjU3MjE0Mjkw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/57214290?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/antonvovk",
                    "html_url": "https://github.com/antonvovk",
                    "followers_url": "https://api.github.com/users/antonvovk/followers",
                    "following_url": "https://api.github.com/users/antonvovk/following{/other_user}",
                    "gists_url": "https://api.github.com/users/antonvovk/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/antonvovk/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/antonvovk/subscriptions",
                    "organizations_url": "https://api.github.com/users/antonvovk/orgs",
                    "repos_url": "https://api.github.com/users/antonvovk/repos",
                    "events_url": "https://api.github.com/users/antonvovk/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/antonvovk/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1194823592,
                        "node_id": "MDU6TGFiZWwxMTk0ODIzNTky",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/type:%20bug",
                        "name": "type: bug",
                        "color": "ff0000",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 1208131270,
                        "node_id": "MDU6TGFiZWwxMjA4MTMxMjcw",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/status:%20waiting-for-triage",
                        "name": "status: waiting-for-triage",
                        "color": "5319e7",
                        "default": false,
                        "description": "The issue need to be evaluated and its future decided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2023-10-26T17:02:29Z",
                "updated_at": "2023-10-26T17:02:29Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "**In what version(s) of Spring Integration are you seeing this issue?**\r\n6.1.4\r\n\r\n**Describe the bug**\r\nSo here (in ConfigurableMongoDbMessageStore) the resultClass is hardcoded to String but it could be for example UUID.\r\n```java\r\n@Override\r\npublic Iterator<MessageGroup> iterator() {\r\n  Query query = Query.query(Criteria.where(MessageDocumentFields.GROUP_ID).exists(true));\r\n  Iterable<String> groupIds = getMongoTemplate().getCollection(collectionName)\r\n\t\t  .distinct(MessageDocumentFields.GROUP_ID, query.getQueryObject(), String.class);\r\n  \r\n  return StreamSupport.stream(groupIds.spliterator(), false)\r\n\t\t  .map(this::getMessageGroup)\r\n\t\t  .iterator();\r\n\r\n}\r\n``` \r\nThe stack trace when using the UUID as id below:\r\n```java\r\norg.bson.BsonInvalidOperationException: readString can only be called when CurrentBSONType is STRING, not when CurrentBSONType is BINARY.\r\n\tat org.bson.AbstractBsonReader.verifyBSONType(AbstractBsonReader.java:689)\r\n\tat org.bson.AbstractBsonReader.checkPreconditions(AbstractBsonReader.java:721)\r\n\tat org.bson.AbstractBsonReader.readString(AbstractBsonReader.java:456)\r\n\tat org.bson.codecs.StringCodec.decode(StringCodec.java:80)\r\n\tat org.bson.codecs.StringCodec.decode(StringCodec.java:31)\r\n\tat com.mongodb.internal.operation.CommandResultArrayCodec.decode(CommandResultArrayCodec.java:52)\r\n\tat com.mongodb.internal.operation.CommandResultDocumentCodec.readValue(CommandResultDocumentCodec.java:60)\r\n\tat org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:87)\r\n\tat org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:42)\r\n\tat com.mongodb.internal.connection.ReplyMessage.<init>(ReplyMessage.java:48)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.getCommandResult(InternalStreamConnection.java:560)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:450)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:365)\r\n\tat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114)\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:643)\r\n\tat com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:73)\r\n\tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:204)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:122)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:87)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:76)\r\n\tat com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:288)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.createReadCommandAndExecute(CommandOperationHelper.java:239)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.lambda$executeRetryableRead$4(CommandOperationHelper.java:220)\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$0(OperationHelper.java:358)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:383)\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$1(OperationHelper.java:357)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:383)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:356)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.lambda$executeRetryableRead$5(CommandOperationHelper.java:218)\r\n\tat com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.executeRetryableRead(CommandOperationHelper.java:223)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.executeRetryableRead(CommandOperationHelper.java:204)\r\n\tat com.mongodb.internal.operation.DistinctOperation.execute(DistinctOperation.java:122)\r\n\tat com.mongodb.internal.operation.DistinctOperation.execute(DistinctOperation.java:54)\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:185)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:130)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:90)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:37)\r\n\tat java.base/java.lang.Iterable.spliterator(Iterable.java:101)\r\n\tat org.springframework.integration.mongodb.store.ConfigurableMongoDbMessageStore.iterator(ConfigurableMongoDbMessageStore.java:245)\r\n\tat org.springframework.integration.store.AbstractMessageGroupStore.expireMessageGroups(AbstractMessageGroupStore.java:128)\r\n``` \r\n\r\n**To Reproduce**\r\nIn CorrelationStrategy -> Object getCorrelationKey(Message<?> message) return UUID.\r\n\r\n**Expected behavior**\r\nIt should be able to handle different types of IDs.\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8779/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8779/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T17:02:31Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32874952114",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 1071590,
            "login": "artembilan",
            "display_login": "artembilan",
            "gravatar_id": "",
            "url": "https://api.github.com/users/artembilan",
            "avatar_url": "https://avatars.githubusercontent.com/u/1071590?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778",
                "repository_url": "https://api.github.com/repos/spring-projects/spring-integration",
                "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/labels{/name}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/comments",
                "events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/events",
                "html_url": "https://github.com/spring-projects/spring-integration/issues/8778",
                "id": 1963869189,
                "node_id": "I_kwDOAB_n4851DkQF",
                "number": 8778,
                "title": "Deadlock in KafkaMessageSource - between isRunning and doReceive",
                "user": {
                    "login": "sobychacko",
                    "id": 827682,
                    "node_id": "MDQ6VXNlcjgyNzY4Mg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/827682?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/sobychacko",
                    "html_url": "https://github.com/sobychacko",
                    "followers_url": "https://api.github.com/users/sobychacko/followers",
                    "following_url": "https://api.github.com/users/sobychacko/following{/other_user}",
                    "gists_url": "https://api.github.com/users/sobychacko/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/sobychacko/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/sobychacko/subscriptions",
                    "organizations_url": "https://api.github.com/users/sobychacko/orgs",
                    "repos_url": "https://api.github.com/users/sobychacko/repos",
                    "events_url": "https://api.github.com/users/sobychacko/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/sobychacko/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1194823592,
                        "node_id": "MDU6TGFiZWwxMTk0ODIzNTky",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/type:%20bug",
                        "name": "type: bug",
                        "color": "ff0000",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 2260626397,
                        "node_id": "MDU6TGFiZWwyMjYwNjI2Mzk3",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/in:%20Kafka",
                        "name": "in: Kafka",
                        "color": "27ddc8",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 5210062895,
                        "node_id": "LA_kwDOAB_n488AAAABNotALw",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/backport%206.0.x",
                        "name": "backport 6.0.x",
                        "color": "e5c352",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 5562863939,
                        "node_id": "LA_kwDOAB_n488AAAABS5KRQw",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/backport%206.1.x",
                        "name": "backport 6.1.x",
                        "color": "e5c352",
                        "default": false,
                        "description": ""
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/milestones/305",
                    "html_url": "https://github.com/spring-projects/spring-integration/milestone/305",
                    "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/milestones/305/labels",
                    "id": 9739959,
                    "node_id": "MI_kwDOAB_n484AlJ63",
                    "number": 305,
                    "title": "6.2.0",
                    "description": "",
                    "creator": {
                        "login": "artembilan",
                        "id": 1071590,
                        "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                        "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                        "gravatar_id": "",
                        "url": "https://api.github.com/users/artembilan",
                        "html_url": "https://github.com/artembilan",
                        "followers_url": "https://api.github.com/users/artembilan/followers",
                        "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                        "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                        "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                        "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                        "organizations_url": "https://api.github.com/users/artembilan/orgs",
                        "repos_url": "https://api.github.com/users/artembilan/repos",
                        "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                        "received_events_url": "https://api.github.com/users/artembilan/received_events",
                        "type": "User",
                        "site_admin": false
                    },
                    "open_issues": 2,
                    "closed_issues": 2,
                    "state": "open",
                    "created_at": "2023-08-03T19:10:54Z",
                    "updated_at": "2023-10-26T15:53:12Z",
                    "due_on": "2023-11-21T08:00:00Z",
                    "closed_at": null
                },
                "comments": 1,
                "created_at": "2023-10-26T15:52:05Z",
                "updated_at": "2023-10-26T16:13:44Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "For more context: https://github.com/spring-cloud/spring-cloud-stream/issues/2675",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1781432211",
                "html_url": "https://github.com/spring-projects/spring-integration/issues/8778#issuecomment-1781432211",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778",
                "id": 1781432211,
                "node_id": "IC_kwDOAB_n485qLn-T",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-26T16:13:44Z",
                "updated_at": "2023-10-26T16:13:44Z",
                "author_association": "MEMBER",
                "body": "Also good suggestion: https://github.com/spring-cloud/spring-cloud-stream/pull/2838#issuecomment-1781430330",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1781432211/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T16:13:45Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32874335011",
        "type": "IssuesEvent",
        "actor": {
            "id": 827682,
            "login": "sobychacko",
            "display_login": "sobychacko",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sobychacko",
            "avatar_url": "https://avatars.githubusercontent.com/u/827682?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "opened",
            "issue": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778",
                "repository_url": "https://api.github.com/repos/spring-projects/spring-integration",
                "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/labels{/name}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/comments",
                "events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/events",
                "html_url": "https://github.com/spring-projects/spring-integration/issues/8778",
                "id": 1963869189,
                "node_id": "I_kwDOAB_n4851DkQF",
                "number": 8778,
                "title": "Deadlock in KafkaMessageSource - between isRunning and doReceive",
                "user": {
                    "login": "sobychacko",
                    "id": 827682,
                    "node_id": "MDQ6VXNlcjgyNzY4Mg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/827682?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/sobychacko",
                    "html_url": "https://github.com/sobychacko",
                    "followers_url": "https://api.github.com/users/sobychacko/followers",
                    "following_url": "https://api.github.com/users/sobychacko/following{/other_user}",
                    "gists_url": "https://api.github.com/users/sobychacko/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/sobychacko/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/sobychacko/subscriptions",
                    "organizations_url": "https://api.github.com/users/sobychacko/orgs",
                    "repos_url": "https://api.github.com/users/sobychacko/repos",
                    "events_url": "https://api.github.com/users/sobychacko/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/sobychacko/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1194823592,
                        "node_id": "MDU6TGFiZWwxMTk0ODIzNTky",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/type:%20bug",
                        "name": "type: bug",
                        "color": "ff0000",
                        "default": false,
                        "description": ""
                    },
                    {
                        "id": 1208131270,
                        "node_id": "MDU6TGFiZWwxMjA4MTMxMjcw",
                        "url": "https://api.github.com/repos/spring-projects/spring-integration/labels/status:%20waiting-for-triage",
                        "name": "status: waiting-for-triage",
                        "color": "5319e7",
                        "default": false,
                        "description": "The issue need to be evaluated and its future decided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2023-10-26T15:52:05Z",
                "updated_at": "2023-10-26T15:52:05Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "For more context: https://github.com/spring-cloud/spring-cloud-stream/issues/2675",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8778/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            }
        },
        "public": true,
        "created_at": "2023-10-26T15:52:07Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32844258423",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8777",
                "repository_url": "https://api.github.com/repos/spring-projects/spring-integration",
                "labels_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8777/labels{/name}",
                "comments_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8777/comments",
                "events_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8777/events",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8777",
                "id": 1961704128,
                "node_id": "PR_kwDOAB_n485dxQk9",
                "number": 8777,
                "title": "GH-8770: Add `PostgresSubsChannel.errorHandler`",
                "user": {
                    "login": "artembilan",
                    "id": 1071590,
                    "node_id": "MDQ6VXNlcjEwNzE1OTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1071590?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/artembilan",
                    "html_url": "https://github.com/artembilan",
                    "followers_url": "https://api.github.com/users/artembilan/followers",
                    "following_url": "https://api.github.com/users/artembilan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/artembilan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/artembilan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/artembilan/subscriptions",
                    "organizations_url": "https://api.github.com/users/artembilan/orgs",
                    "repos_url": "https://api.github.com/users/artembilan/repos",
                    "events_url": "https://api.github.com/users/artembilan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/artembilan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2023-10-25T15:29:46Z",
                "updated_at": "2023-10-25T17:30:02Z",
                "closed_at": "2023-10-25T17:26:24Z",
                "author_association": "MEMBER",
                "active_lock_reason": null,
                "draft": false,
                "pull_request": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/pulls/8777",
                    "html_url": "https://github.com/spring-projects/spring-integration/pull/8777",
                    "diff_url": "https://github.com/spring-projects/spring-integration/pull/8777.diff",
                    "patch_url": "https://github.com/spring-projects/spring-integration/pull/8777.patch",
                    "merged_at": "2023-10-25T17:26:24Z"
                },
                "body": "Fixes https://github.com/spring-projects/spring-integration/issues/8770\r\n\r\nThe problem with the `PostgresSubscribableChannel.notifyUpdate()` is that the try-catch block is outside the loop, so the loop will die on an exception, leaving further messages unprocessed.\r\n\r\n* Add ``PostgresSubscribableChannel.errorHandler` option to be invoked after a `RetryTemplate` and for every failed message.\r\n* The `askForMessage()` new logic is to catch an exception on a message and call `errorHandler` returning a `FALLBACK_STUB` to continue an outer loop in the `notifyUpdate()`\r\n\r\n**Cherry-pick to `6.1.x` & `6.0.x`**\r\n\r\n<!--\r\nThanks for contributing to Spring Integration. \r\nPlease provide a brief description of your pull-request and reference any related issue numbers (prefix references with #) or StackOverflow questions.\r\n\r\nSee the [Contributor Guidelines for more information](https://github.com/spring-projects/spring-integration/blob/main/CONTRIBUTING.adoc).\r\n-->\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8777/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8777/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1779740463",
                "html_url": "https://github.com/spring-projects/spring-integration/pull/8777#issuecomment-1779740463",
                "issue_url": "https://api.github.com/repos/spring-projects/spring-integration/issues/8777",
                "id": 1779740463,
                "node_id": "IC_kwDOAB_n485qFK8v",
                "user": {
                    "login": "garyrussell",
                    "id": 483832,
                    "node_id": "MDQ6VXNlcjQ4MzgzMg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/483832?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/garyrussell",
                    "html_url": "https://github.com/garyrussell",
                    "followers_url": "https://api.github.com/users/garyrussell/followers",
                    "following_url": "https://api.github.com/users/garyrussell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/garyrussell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/garyrussell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/garyrussell/subscriptions",
                    "organizations_url": "https://api.github.com/users/garyrussell/orgs",
                    "repos_url": "https://api.github.com/users/garyrussell/repos",
                    "events_url": "https://api.github.com/users/garyrussell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/garyrussell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2023-10-25T17:30:02Z",
                "updated_at": "2023-10-25T17:30:02Z",
                "author_association": "MEMBER",
                "body": "...and cherry-picked after resolving minor conflict.",
                "reactions": {
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/issues/comments/1779740463/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2023-10-25T17:30:03Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    },
    {
        "id": "32844251732",
        "type": "PushEvent",
        "actor": {
            "id": 483832,
            "login": "garyrussell",
            "display_login": "garyrussell",
            "gravatar_id": "",
            "url": "https://api.github.com/users/garyrussell",
            "avatar_url": "https://avatars.githubusercontent.com/u/483832?"
        },
        "repo": {
            "id": 2090979,
            "name": "spring-projects/spring-integration",
            "url": "https://api.github.com/repos/spring-projects/spring-integration"
        },
        "payload": {
            "repository_id": 2090979,
            "push_id": 15564473725,
            "size": 1,
            "distinct_size": 1,
            "ref": "refs/heads/6.0.x",
            "head": "938b27055b2a4878c971491c901dd5676375b11c",
            "before": "012a03ff771e6736802607151dd0ff9740b2c06f",
            "commits": [
                {
                    "sha": "938b27055b2a4878c971491c901dd5676375b11c",
                    "author": {
                        "email": "abilan@vmware.com",
                        "name": "Artem Bilan"
                    },
                    "message": "GH-8770: Add `PostgresSubsChannel.errorHandler` (#8777)\n\n* GH-8770: Add `PostgresSubsChannel.errorHandler`\n\nFixes https://github.com/spring-projects/spring-integration/issues/8770\n\nThe problem with the `PostgresSubscribableChannel.notifyUpdate()` is that the try-catch block is outside the loop,\nso the loop will die on an exception, leaving further messages unprocessed.\n\n* Add ``PostgresSubscribableChannel.errorHandler` option to be invoked\nafter a `RetryTemplate` and for every failed message.\n* The `askForMessage()` new logic is to catch an exception on a message and call `errorHandler`\nreturning a `FALLBACK_STUB` to continue an outer loop in the `notifyUpdate()`\n\n**Cherry-pick to `6.1.x` & `6.0.x`**\n\n* * Rename private `PostgresSubscribableChannel.askForMessage()` method to more specific `pollAndDispatchMessage()`",
                    "distinct": true,
                    "url": "https://api.github.com/repos/spring-projects/spring-integration/commits/938b27055b2a4878c971491c901dd5676375b11c"
                }
            ]
        },
        "public": true,
        "created_at": "2023-10-25T17:29:46Z",
        "org": {
            "id": 317776,
            "login": "spring-projects",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/spring-projects",
            "avatar_url": "https://avatars.githubusercontent.com/u/317776?"
        }
    }
]